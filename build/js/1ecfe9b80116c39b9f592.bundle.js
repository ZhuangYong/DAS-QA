webpackJsonp([1],{1052:function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),n=r(0),i=_interopRequireDefault(n),a=r(53),s=r(105);r(774);var l=r(169),u=r(806),c=r(842),h=_interopRequireDefault(c),f=r(282),d=r(106),p=r(773),m=_interopRequireDefault(p),g=r(765),y=_interopRequireDefault(g),v=r(1),S=_interopRequireDefault(v),b=r(16),_=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(b),T=r(1053),E=_interopRequireDefault(T),R=r(776),w=_interopRequireDefault(R),P=r(777),k=_interopRequireDefault(P),O=r(306),A=_interopRequireDefault(O),L={searchButton:{position:"absolute",right:".3rem",fontSize:".5rem",top:0,display:"flex",height:"1.2rem",alignItems:"center",margin:0},cleanKeyWord:{display:"flex",alignItems:"center",width:".6rem",height:"1.2rem",overflow:"hidden",position:"fixed",right:"1.7rem",top:0,zIndex:7,icon:{width:".6rem",height:".6rem",color:"rgba(255, 255, 255, 0.77)"}}},M=function(e){function SearchHeader(e){_classCallCheck(this,SearchHeader);var t=_possibleConstructorReturn(this,(SearchHeader.__proto__||Object.getPrototypeOf(SearchHeader)).call(this,e)),r=void 0!==t.props.defaultKeyWord?t.props.defaultKeyWord:"";return t.state={inputting:void 0===t.props.inputIng||t.props.inputIng,searchKey:r,searchHistory:(0,f.getCookie)("searchHistory"),searchedOnce:!!r},t.handelBlur=t.handelBlur.bind(t),t.onBlur=t.onBlur.bind(t),t.handelFocus=t.handelFocus.bind(t),t.handelDelHistoryWord=t.handelDelHistoryWord.bind(t),t.handelInputBlur=t.handelInputBlur.bind(t),t.handelSearch=t.handelSearch.bind(t),t.cleanKeyWord=t.cleanKeyWord.bind(t),t.handelResize=t.handelResize.bind(t),t}return _inherits(SearchHeader,e),o(SearchHeader,[{key:"componentDidMount",value:function(){var e={};this.props.action_getKeyWord(e,(0,f.reqHeader)(e));_.findDOMNode(this.refs.input);document.addEventListener("touchstart",this.handelInputBlur),window.addEventListener("resize",this.handelResize)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("touchstart",this.handelInputBlur),window.removeEventListener("resize",this.handelResize)}},{key:"render",value:function(){var e=this,t=this.state.inputting?"":"none",r=this.props.hotKeys.hotKeyWords,o=this.state.searchHistory?this.state.searchHistory.split(",").map(function(e){return decodeURIComponent(e)}):[];return i.default.createElement("div",{className:"search-header"},this.state.searchKey?i.default.createElement("div",{style:L.cleanKeyWord,onTouchTap:this.cleanKeyWord},i.default.createElement(A.default,{style:L.cleanKeyWord.icon})):"",i.default.createElement("span",{className:"search-bar-panel"},i.default.createElement(m.default,{ref:"input",trim:!0,className:"key-word-input",value:this.state.searchKey,hintText:i.default.createElement("div",null,i.default.createElement("img",{className:"search",src:k.default}),i.default.createElement("font",null,"请输入你要找的歌曲或歌星"),i.default.createElement("img",{onClick:function(){(0,f.linkTo)("voiceSearch",!1,"")},className:"voice",src:w.default})),hintStyle:{color:"white",textAlign:"center",width:"100%"},onFocus:this.handelFocus,onBlur:this.onBlur,bindState:this.bindState("searchKey"),onClick:this.handelFocus}),function(){return e.state.inputting&&!e.state.searchKey?e.state.searchedOnce?i.default.createElement("div",{className:"search-button",onClick:e.handelBlur},i.default.createElement("p",{style:L.searchButton},"取消")):"":e.state.searchKey?i.default.createElement("div",{className:"search-button",onClick:e.handelSearch},i.default.createElement("p",{style:L.searchButton},"搜索")):void 0}()),i.default.createElement("div",{className:"search-panel",style:{display:t}},i.default.createElement(E.default,{ref:"scroller",containerStyle:{top:"1.2rem"},directionLockThreshold:1},i.default.createElement("div",{className:"search-words"},i.default.createElement(l.Subheader,null,i.default.createElement("font",{style:{fontWeight:"bold"},color:"#000000"},"热门搜索")),i.default.createElement("div",{className:"hot-words"},r&&r.data.list.map(function(t){return i.default.createElement(l.Chip,{style:{border:"1px solid #b7b7b7",backgroundColor:"white"},className:"word",key:t.tag,onTouchTap:function(){e.handelHotSearch(t.tag)}},t.tag)})),this.state.searchHistory&&i.default.createElement("div",{className:"history-words-title"},i.default.createElement(l.Subheader,{style:{position:"relative"}},i.default.createElement("font",{style:{fontWeight:"bold"},color:"#000000"},"最近搜索"),i.default.createElement("div",{style:{top:"0",right:"5%",position:"absolute"},onTouchTap:this.handelCleanSearchHistory.bind(this)},i.default.createElement("font",{color:"#ff6832"},"清除搜索记录")))),i.default.createElement("div",{className:"history-words"},i.default.createElement(l.List,null,o.map(function(t){return i.default.createElement(l.ListItem,{key:t,innerDivStyle:{overflow:"hidden",textOverflow:"ellipsis"},primaryText:i.default.createElement("font",{color:"#252525"},t),rightIcon:i.default.createElement("div",{onTouchTap:function(r){r.stopPropagation(),e.handelDelHistoryWord(t)},style:{width:60,height:"100%",margin:0,display:"flex",justifyContent:"center",alignItems:"center"}},i.default.createElement(h.default,{color:"gray"})),onTouchTap:function(){e.handelHotSearch(t)}})})))))))}},{key:"handelInputBlur",value:function(e){_.findDOMNode(this.refs.input).contains(e.target)||this.refs.input.refs.input.input.blur()}},{key:"handelBlur",value:function(){this.setState({inputting:!1})}},{key:"onBlur",value:function(){this.props.handelBlur&&this.props.handelBlur()}},{key:"handelFocus",value:function(){this.setState({inputting:!0}),this.props.handelFocus&&this.props.handelFocus()}},{key:"handelHotSearch",value:function(e){this.state.searchKey=e,this.handelSearch()}},{key:"handelSearch",value:function(){var e=this.state.searchKey;this.props.getSearchKey&&this.props.getSearchKey(e);var t=(0,f.getCookie)("searchHistory"),r=t?t.split(","):[];r=[encodeURIComponent(e)].concat(_toConsumableArray(r));var o=Array.from(new Set(r)).join(",");(0,f.setCookie)("searchHistory",o),this.setState({inputting:!1,searchedOnce:!0,searchHistory:o})}},{key:"handelDelHistoryWord",value:function(e){var t=(0,f.getCookie)("searchHistory"),r=t?t.split(","):[],o=Array.from(new Set(r)).filter(function(t){if(t&&decodeURIComponent(t)!==e)return t}),n=o.join(",");(0,f.setCookie)("searchHistory",n),this.setState({searchHistory:n})}},{key:"handelCleanSearchHistory",value:function(){(0,f.setCookie)("searchHistory",""),this.setState({searchHistory:""})}},{key:"cleanKeyWord",value:function(){this.setState({searchKey:""})}},{key:"handelResize",value:function(){this.refs.input.refs.input.input.blur()}}]),SearchHeader}(y.default);M.propTypes={getSearchKey:S.default.func,defaultKeyWord:S.default.string,inputIng:S.default.bool};var x=function(e,t){return{hotKeys:e.app.search}},D=function(e,t){return{action_getKeyWord:(0,a.bindActionCreators)(u.getHotWords,e)}};t.default=(0,d.withRouter)((0,s.connect)(x,D)(M))},1053:function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Sticky=void 0;var o=r(1054),n=_interopRequireDefault(o),i=r(1071),a=_interopRequireDefault(i);n.default.Sticky=a.default,t.default=n.default,t.Sticky=a.default},1054:function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,n,i=r(1055),a=_interopRequireDefault(i),s=r(6),l=_interopRequireDefault(s),u=r(2),c=_interopRequireDefault(u),h=r(3),f=_interopRequireDefault(h),d=r(4),p=_interopRequireDefault(d),m=r(5),g=_interopRequireDefault(m),y=r(0),v=_interopRequireDefault(y),S=r(16),b=_interopRequireDefault(S),_=r(800),T=_interopRequireDefault(_),E=r(875),R=_interopRequireDefault(E),w=r(1065),P=_interopRequireDefault(w),k=r(1066),O=r(1067),A=(n=o=function(e){function Scroller(e){(0,c.default)(this,Scroller);var t=(0,p.default)(this,(Scroller.__proto__||(0,l.default)(Scroller)).call(this,e));return t.x=0,t.y=0,t.directionX=0,t.directionY=0,t.scrollerStyle={},t.stickyHeaders=[],t.stickyIndex=0,t.stickyOffset=0,t.wrapperOffsetTop=0,t.isIphone=/iphone/gi.test(navigator.appVersion),t.resetProps(),t.loadTipElCache=t.getLoadTipElCache(),t.lang=(0,O.getMessage)(e.lang),t}return(0,g.default)(Scroller,e),(0,f.default)(Scroller,[{key:"getChildContext",value:function(){return{scroller:this}}},{key:"componentDidMount",value:function(){this.scrollerStyle=this.scroller.style,this.props.usePullRefresh&&(this.pullRefreshOffsetHeight=this.pullRefreshEl.offsetHeight),this.props.useLoadMore&&(this.loadMoreOffsetHeight=this.loadMoreEl.offsetHeight),this.initEvent(),this.refresh(),this.refreshSticky(!0),this.stickyHeaders.length&&(this.useTransition=!1),this.setRefreshStatus(k.REFRESHSTATUS.PULL),this.setLoadMoreStatus(this.loadMoreStatus||k.LOADMORESTATUS.PULL),this.refreshLoadMore(),this.resetPosition()}},{key:"componentWillReceiveProps",value:function(e){this.resetProps(e,!0)}},{key:"componentDidUpdate",value:function(e,t){this.props.autoRefresh&&this.refresh(),this.refreshSticky(),this.stickyHeaders.length&&(this.useTransition=!1),t.usePullRefresh!==this.state.usePullRefresh&&this.setRefreshStatus(k.REFRESHSTATUS.PULL),t.useLoadMore===this.state.useLoadMore&&t.noMoreData===this.props.noMoreData||(this.setLoadMoreStatus(this.loadMoreStatus||k.LOADMORESTATUS.PULL),this.refreshLoadMore())}},{key:"componentWillUnmount",value:function(){this.initEvent(!0)}},{key:"setRefreshStatus",value:function(e){if(this.state.usePullRefresh){this.prevRefreshState=this.pullRefreshStatus,this.pullRefreshStatus=e;var t=this.loadTipElCache.querySelector("i"),r=this.loadTipElCache.querySelector("div"),o="";switch(e){case k.REFRESHSTATUS.PULL:r.innerHTML=this.lang.pullDownToRefresh,this.prevRefreshState===k.REFRESHSTATUS.RELEASE?(t.innerHTML=P.default.upArrow,o="transform: rotate(-180deg); -webkit-transform: rotate(-180deg);"):t.innerHTML=P.default.downArrow;break;case k.REFRESHSTATUS.RELEASE:r.innerHTML=this.lang.releaseToLoadMore,this.prevRefreshState===k.REFRESHSTATUS.PULL?(t.innerHTML=P.default.downArrow,o="transform: rotate(180deg); -webkit-transform: rotate(180deg);"):t.innerHTML=P.default.upArrow;break;case k.REFRESHSTATUS.LOAD:r.innerHTML=this.lang.loading,t.innerHTML=P.default.loading,o="animation: rotate 1s linear infinite; -webkit-animation: rotate 1s linear infinite";break;case k.REFRESHSTATUS.SUCCESS:r.innerHTML=this.lang.refreshSuccess,t.innerHTML=P.default.success;break;case k.REFRESHSTATUS.FAIL:r.innerHTML=this.lang.refreshFailed,t.innerHTML=P.default.error;break;default:console.warn("Unsupported state!")}this.pullRefreshEl.replaceChild(this.loadTipElCache.cloneNode(!0),this.pullRefreshEl.childNodes[0]);var n=this.pullRefreshEl.querySelector("i");setTimeout(function(){n.style.cssText=o},0)}}},{key:"setLoadMoreStatus",value:function(e){if(this.state.useLoadMore){this.prevLoadState=this.loadMoreStatus,this.loadMoreStatus=e;var t=this.loadTipElCache.querySelector("i"),r=this.loadTipElCache.querySelector("div"),o="";switch(e){case k.LOADMORESTATUS.PULL:r.innerHTML=this.lang.pullupToLoadMore,this.prevLoadState===k.LOADMORESTATUS.RELEASE?(t.innerHTML=P.default.downArrow,o="transform: rotate(180deg); -webkit-transform: rotate(180deg);"):t.innerHTML=P.default.upArrow;break;case k.LOADMORESTATUS.RELEASE:r.innerHTML=this.lang.releaseToLoadMore,this.prevLoadState===k.LOADMORESTATUS.PULL?(t.innerHTML=P.default.upArrow,o="transform: rotate(-180deg); -webkit-transform: rotate(-180deg);"):t.innerHTML=P.default.downArrow;break;case k.LOADMORESTATUS.LOAD:r.innerHTML=this.lang.loading,t.innerHTML=P.default.loading,o="animation: rotate 1s linear infinite; -webkit-animation: rotate 1s linear infinite";break;case k.LOADMORESTATUS.NOMORE:r.innerHTML=this.lang.noMoreData,t.innerHTML="";break;default:console.warn("Unsupported state!")}this.loadMoreEl.replaceChild(this.loadTipElCache.cloneNode(!0),this.loadMoreEl.firstChild);var n=this.loadMoreEl.querySelector("i");setTimeout(function(){n.style.cssText=o},0)}}},{key:"getLoadTipElCache",value:function(){var e=document.createElement("div");return e.className="silk-listcontrol-loadtip",e.innerHTML='<i class="silk-listcontrol-icon"></i><div class="silk-listcontrol-text"></div>',e}},{key:"getCurrentSticky",value:function(){var e=null;if(this.y<0){var t=Math.abs(this.y),r=this.wrapperOffsetTop,o=this.stickyHeaders.filter(function(e){return e.offsetTop-r<=t});if(o.length){var n=o[o.length-1],i=this.stickyHeaders[o.length],a=o.length-1;if(i){var s=i.offsetTop-r-t;e={currentHeader:n,adjustOffset:s>n.height?0:-(n.height-s),index:a}}else e={currentHeader:n,adjustOffset:0,index:a}}else e=null}else e=null;return e}},{key:"getComputedPosition",value:function(){var e=window.getComputedStyle(this.scroller,null),t=void 0,r=void 0;return this.useTransform?(e=e[R.default.style.transform].split(")")[0].split(", "),t=+(e[12]||e[4]),r=+(e[13]||e[5])):(t=+e.left.replace(/[^-\d.]/g,""),r=+e.top.replace(/[^-\d.]/g,"")),{x:t,y:r}}},{key:"refreshSticky",value:function(e){if(this.stickyHeaders.length){var t=this.getCurrentSticky(),r=this.stickyNode;if(t){var o=t.currentHeader,n=t.adjustOffset;if(t.index!==this.stickyIndex||t.adjustOffset!==this.stickyOffset||e){var i="translate(0px,"+n+"px) translateZ(0px)";r.style.transform=i,r.style.WebkitTransform=i,r.style.display="block",r.className=o.stickyExtraClass,b.default.render(v.default.cloneElement(o.onlyChild),r),this.stickyIndex=t.index,this.stickyOffset=t.adjustOffset}}else this.stickyIndex=null,this.stickyOffset=null,r.style.display="none"}}},{key:"touchStart",value:function(e){if(!(this.disabled||this.initiated&&R.default.eventType[e.type]!==this.initiated)){!this.preventDefault||R.default.isBadAndroid||R.default.preventDefaultException(e.target,this.props.preventDefaultException)||e.preventDefault();var t=e.touches?e.touches[0]:e,r=void 0;this.initiated=R.default.eventType[e.type],this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.directionLocked=0,this.startTime=R.default.getTime(),this.useTransition&&this.isInTransition?(this.transitionTime(),this.isInTransition=!1,r=this.getComputedPosition(),this.translate(Math.round(r.x),Math.round(r.y)),this.execEvent("onScrollEnd")):!this.useTransition&&this.isAnimating&&(this.isAnimating=!1,R.default.cancelAnimationFrame.call(window,this.rAF),this.execEvent("onScrollEnd")),this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=t.pageX,this.pointY=t.pageY,this.execEvent("onBeforeScrollStart")}}},{key:"touchMove",value:function(e){if(!this.disabled&&R.default.eventType[e.type]===this.initiated){this.preventDefault&&e.preventDefault();var t=e.touches?e.touches[0]:e,r=R.default.getTime(),o=t.pageX-this.pointX,n=t.pageY-this.pointY,i=void 0,a=void 0;this.pointX=t.pageX,this.pointY=t.pageY,this.distX+=o,this.distY+=n;var s=Math.abs(this.distX),l=Math.abs(this.distY);if(!(r-this.endTime>300&&s<10&&l<10)){if(this.directionLocked||this.freeScroll||(s>l+this.directionLockThreshold?this.directionLocked="h":l>=s+this.directionLockThreshold?this.directionLocked="v":this.directionLocked="n"),"h"===this.directionLocked){if("vertical"===this.eventPassthrough)e.preventDefault();else if("horizontal"===this.eventPassthrough)return void(this.initiated=!1);n=0}else if("v"===this.directionLocked){if("horizontal"===this.eventPassthrough)e.preventDefault();else if("vertical"===this.eventPassthrough)return void(this.initiated=!1);o=0}o=this.hasHorizontalScroll?o:0,n=this.hasVerticalScroll?n:0,i=this.x+o,a=this.y+n,(i>0||i<this.maxScrollX)&&(i=this.props.bounce?this.x+o/3:i>0?0:this.maxScrollX),(a>0||a<this.maxScrollY)&&(a=this.props.bounce?this.y+n/3:a>0?0:this.maxScrollY),this.directionX=o>0?-1:o<0?1:0,this.directionY=n>0?-1:n<0?1:0,this.moved||this.execEvent("onScrollStart"),this.moved=!0,this.translate(i,a),r-this.startTime>300&&(this.startTime=r,this.startX=this.x,this.startY=this.y),this.execEvent("onScroll")}}}},{key:"touchEnd",value:function(e){if(!this.disabled&&R.default.eventType[e.type]===this.initiated){this.preventDefault&&!R.default.preventDefaultException(e.target,this.props.preventDefaultException)&&e.preventDefault();var t=void 0,r=void 0,o=R.default.getTime()-this.startTime,n=Math.round(this.x),i=Math.round(this.y),a=0,s=void 0;if(this.isInTransition=0,this.initiated=0,this.endTime=R.default.getTime(),!this.moved)return void this.execEvent("onScrollCancel");if(this.state.usePullRefresh&&this.y>=this.pullRefreshOffsetHeight)return void(this.pullRefreshStatus===k.REFRESHSTATUS.LOAD?this.scrollTo(this.x,this.pullRefreshOffsetHeight,200):(this.setRefreshStatus(k.REFRESHSTATUS.LOAD),this.scrollTo(this.x,this.pullRefreshOffsetHeight,300),this.loadData("refresh")));if(this.state.useLoadMore&&this.y<this.maxScrollY&&(this.loadMoreStatus===k.LOADMORESTATUS.NOMORE||this.loadMoreStatus===k.LOADMORESTATUS.LOAD||this.props.noMoreData||(this.setLoadMoreStatus(k.LOADMORESTATUS.LOAD),this.loadData("load"))),!this.resetPosition(this.props.bounceTime)){if(this.scrollTo(n,i),this.props.momentum&&o<300&&(t=this.hasHorizontalScroll?R.default.momentum(this.x,this.startX,o,this.maxScrollX,this.props.bounce?this.wrapperWidth:0,this.props.deceleration):{destination:n,duration:0},r=this.hasVerticalScroll?R.default.momentum(this.y,this.startY,o,this.maxScrollY,this.props.bounce?this.wrapperHeight:0,this.props.deceleration):{destination:i,duration:0},n=t.destination,i=r.destination,a=Math.max(t.duration,r.duration),this.isInTransition=1),n!==this.x||i!==this.y)return(n>0||n<this.maxScrollX||i>0||i<this.maxScrollY)&&(s=R.default.ease.quadratic),void this.scrollTo(n,i,a,s);this.execEvent("onScrollEnd")}}}},{key:"transitionEnd",value:function(e){e.target===this.scroller&&this.isInTransition&&(this.transitionTime(),this.resetPosition(this.props.bounceTime)||(this.isInTransition=!1,this.execEvent("onScrollEnd")))}},{key:"initEvent",value:function(e){var t=e?R.default.removeEvent:R.default.addEvent;R.default.hasTouch?(t(this.wrapper,"touchstart",this),t(window,"touchmove",this),t(window,"touchend",this),t(window,"touchcancel",this),t(this.scroller,R.default.prefixStyle("transitionend"),this)):console.warn("your device did not support touch event!")}},{key:"execEvent",value:function(e,t){if("onScrollStart"===e&&(this.isScrolling=!0),"onScroll"===e&&(this.refreshSticky(),this.pullRefreshStatus===k.REFRESHSTATUS.PULL||this.pullRefreshStatus===k.REFRESHSTATUS.RELEASE?this.hasVerticalScroll=!0:(this.pullRefreshStatus===k.REFRESHSTATUS.SUCCESS||this.pullRefreshStatus===k.REFRESHSTATUS.FAIL)&&this.y>0&&(this.hasVerticalScroll=!1),this.isIphone&&(this.scrollY&&(this.pointY<5||this.pointY>document.documentElement.clientHeight-5)||this.scrollX&&(this.pointX<5||this.pointX>document.documentElement.clientWidth-5)))){var r=document.createEvent("Event");r.initEvent("touchend",!0,!0),document.dispatchEvent(r)}"onScrollEnd"===e&&(this.refreshSticky(),this.isScrolling=!1,this.hasVerticalScroll=this.props.scrollY&&this.maxScrollY<0),this.props[e]&&this.props[e].apply(this,[{contentOffset:{x:this.x,y:this.y},param:t}])}},{key:"resetPosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.x,r=this.y;return(this.pullRefreshStatus!==k.REFRESHSTATUS.LOAD||this.y!==this.pullRefreshOffsetHeight)&&(!this.hasHorizontalScroll||this.x>0?t=0:this.x<this.maxScrollX&&(t=this.maxScrollX),!this.hasVerticalScroll||this.y>0?r=0:this.y<this.maxScrollY&&(r=this.maxScrollY),(t!==this.x||r!==this.y)&&(this.scrollTo(t,r,e,this.props.bounceEasing),!0))}},{key:"scrollTo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.x,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.y,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:R.default.ease.circular;this.isInTransition=this.useTransition&&r>0;var n=this.useTransition&&o.style;!r||n?(n&&(this.transitionTimingFunction(o.style),this.transitionTime(r)),this.translate(e,t)):this.animate(e,t,r,o.fn)}},{key:"transitionTimingFunction",value:function(e){this.scrollerStyle[R.default.style.transitionTimingFunction]=e}},{key:"transitionTime",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(this.useTransition){var r=R.default.style.transitionDuration;r&&(this.scrollerStyle[r]=t+"ms",!t&&R.default.isBadAndroid&&(this.scrollerStyle[r]="0.0001ms",self.rAF=requestAnimationFrame.call(window,function(){"0.0001ms"===e.scrollerStyle[r]&&(e.scrollerStyle[r]="0s")})))}}},{key:"translate",value:function(e,t){if(e=Math.round(e),t=Math.round(t),this.useTransform?this.scrollerStyle[R.default.style.transform]="translate("+e+"px, "+t+"px) "+this.translateZ:(this.scrollerStyle.left=e+"px",this.scrollerStyle.top=t+"px"),this.x=e,this.y=t,this.state.usePullRefresh&&(t>=this.pullRefreshOffsetHeight&&this.pullRefreshStatus===k.REFRESHSTATUS.PULL?this.setRefreshStatus(k.REFRESHSTATUS.RELEASE):t<this.pullRefreshOffsetHeight&&this.pullRefreshStatus===k.REFRESHSTATUS.RELEASE&&this.setRefreshStatus(k.REFRESHSTATUS.PULL)),this.state.useLoadMore)if(t<this.maxScrollY&&this.loadMoreStatus===k.LOADMORESTATUS.PULL)if(this.props.autoLoad){if(this.useTransition&&this.isInTransition){this.transitionTime(),this.isInTransition=!1;var r=this.getComputedPosition();this.translate(Math.round(r.x),Math.round(r.y)),this.execEvent("onScrollEnd")}else!this.useTransition&&this.isAnimating&&(this.isAnimating=!1,R.default.cancelAnimationFrame.call(window,this.rAF),this.execEvent("onScrollEnd"));this.state.useLoadMore&&this.y<this.maxScrollY&&(this.loadMoreStatus===k.LOADMORESTATUS.NOMORE||this.loadMoreStatus===k.LOADMORESTATUS.LOAD||this.props.noMoreData||(this.setLoadMoreStatus(k.LOADMORESTATUS.LOAD),this.loadData("load"))),this.resetPosition(this.props.bounceTime)}else this.setLoadMoreStatus(k.LOADMORESTATUS.RELEASE);else t>=this.maxScrollY&&this.loadMoreStatus===k.LOADMORESTATUS.RELEASE&&this.setLoadMoreStatus(k.LOADMORESTATUS.PULL)}},{key:"simulatePullRefresh",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:300;this.state.usePullRefresh&&this.prevRefreshState!==k.REFRESHSTATUS.LOAD&&(this.scrollTo(this.x,this.pullRefreshOffsetHeight,t),setTimeout(function(){e.setRefreshStatus(k.REFRESHSTATUS.LOAD),e.loadData("refresh")},t))}},{key:"disable",value:function(){this.disabled=!0}},{key:"enable",value:function(){this.disabled=!1}},{key:"loadData",value:function(e){var t=this;new a.default(function(r,o){"refresh"===e?t.props.pullRefreshAction(r,o):t.props.loadMoreAction(r,o)}).then(function(){t.loadDataHandle(e,3)}).catch(function(){t.loadDataHandle(e,4)})}},{key:"loadDataHandle",value:function(e,t){var r=this;"refresh"===e?(this.setRefreshStatus(this.pullRefreshStatus=t),setTimeout(function(){r.setRefreshStatus(r.pullRefreshStatus=k.REFRESHSTATUS.PULL),r.scrollTo(0,0,400),r.refresh()},400)):(this.loadMoreStatus=this.props.noMoreData?k.LOADMORESTATUS.NOMORE:k.LOADMORESTATUS.PULL,this.setLoadMoreStatus(this.loadMoreStatus),this.refresh())}},{key:"refresh",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.wrapperWidth=e.wrapperWidth?e.wrapperWidth:this.wrapper.clientWidth,this.wrapperHeight=e.wrapperHeight?e.wrapperHeight:this.wrapper.clientHeight,this.wrapperOffsetTop=-R.default.offset(this.wrapper).top,this.scrollerWidth=e.scrollerWidth?e.scrollerWidth:this.scroller.offsetWidth,this.scrollerHeight=e.scrollerHeight?e.scrollerHeight:this.scroller.offsetHeight,this.state.useLoadMore&&this.loadMoreEl&&(this.loadMoreEl.style.visibility=this.scrollerHeight>this.wrapperWidth?"visible":"hidden",this.loadMoreEl.style.top=this.scrollerHeight+"px",this.scrollerHeight+=this.loadMoreOffsetHeight),this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.hasHorizontalScroll=this.props.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.props.scrollY&&this.maxScrollY<0,this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,this.execEvent("onRefresh")}},{key:"animate",value:function(e,t,r,o){function step(){var u=R.default.getTime();if(u>=l)return n.isAnimating=!1,n.translate(e,t),R.default.cancelAnimationFrame.call(window,n.rAF),void(n.resetPosition(n.props.bounceTime)||n.execEvent("onScrollEnd"));u=(u-s)/r;var c=o(u),h=(e-i)*c+i,f=(t-a)*c+a;n.translate(h,f),n.isAnimating&&(n.rAF=R.default.requestAnimationFrame.call(window,step)),n.execEvent("onScroll")}var n=this,i=this.x,a=this.y,s=R.default.getTime(),l=s+r;this.isAnimating=!0,step()}},{key:"handleEvent",value:function(e){switch(e.type){case"touchstart":this.touchStart(e);break;case"touchmove":this.touchMove(e);break;case"touchend":case"touchcancel":this.touchEnd(e);break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this.transitionEnd(e);break;default:console.warn("no match event type!")}}},{key:"refreshLoadMore",value:function(){this.state.useLoadMore?this.loadMoreEl&&(this.loadMoreEl.style.top=this.scrollerHeight-this.loadMoreOffsetHeight+"px"):this.resetPosition()}},{key:"resetProps",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.translateZ=e.HWCompositing&&R.default.hasPerspective?" translateZ(0)":"",this.useTransition=R.default.hasTransition&&e.useTransition,this.useTransform=R.default.hasTransform&&e.useTransform,this.eventPassthrough=!0===e.eventPassthrough?"vertical":e.eventPassthrough,this.preventDefault=!this.eventPassthrough&&e.preventDefault,this.freeScroll=e.freeScroll&&!this.eventPassthrough,this.directionLockThreshold=this.eventPassthrough?0:e.directionLockThreshold,this.scrollX="horizontal"!==this.eventPassthrough&&e.scrollX,this.scrollY="vertical"!==this.eventPassthrough&&e.scrollY,this.bounceEasing="string"==typeof bounceEasing?R.default.ease[this.props.bounceEasing]||R.default.ease.circular:this.props.bounceEasing,this.props.onScroll&&(this.useTransition=!1);var r=this.scrollY&&!this.scrollX&&this.props.usePullRefresh,o=this.scrollY&&!this.scrollX&&this.props.useLoadMore,n=void 0;n=o&&e.noMoreData?k.LOADMORESTATUS.NOMORE:k.LOADMORESTATUS.PULL,t?(this.setState({usePullRefresh:r,useLoadMore:o}),this.pullRefreshStatus=r?this.pullRefreshStatus:0,this.loadMoreStatus=n):(this.state={usePullRefresh:r,useLoadMore:o},this.pullRefreshStatus=k.REFRESHSTATUS.PULL,this.loadMoreStatus=n)}},{key:"render",value:function(){var e=this,t=this.state,r=t.usePullRefresh,o=t.useLoadMore;return v.default.createElement("div",{className:(0,T.default)("silk-listcontrol-wrapper",{"silk-listcontrol-wrapper-default":this.scrollY&&!this.props.containerClass},this.props.containerClass),style:this.props.containerStyle,ref:function(t){e.wrapper=t}},this.props.useSticky?v.default.createElement("div",{ref:function(t){e.stickyNode=t},style:{position:"absolute",top:0,left:0,right:0,zIndex:9999},className:"silk-sticky"}):null,v.default.createElement("div",{className:(0,T.default)("silk-listcontrol-scroller",{"silk-listcontrol-scroller-horizontal":this.scrollX,"silk-listcontrol-scroller-vertical":this.scrollY},this.props.scrollerClass),style:this.props.scrollerStyle,ref:function(t){e.scroller=t}},r?v.default.createElement("div",{ref:function(t){e.pullRefreshEl=t},className:"silk-listcontrol-loadwrapper silk-listcontrol-loadwrapper-up"},v.default.createElement("div",{className:"silk-listcontrol-loadtip"},v.default.createElement("i",{className:"silk-listcontrol-icon"}),v.default.createElement("div",{className:"silk-listcontrol-text"}))):null,this.props.children,o?v.default.createElement("div",{ref:function(t){e.loadMoreEl=t},className:"silk-listcontrol-loadwrapper"},v.default.createElement("div",{className:"silk-listcontrol-loadtip"},v.default.createElement("i",{className:"silk-listcontrol-icon"}),v.default.createElement("div",{className:"silk-listcontrol-text"}))):null))}}]),Scroller}(y.Component),o.propTypes={autoRefresh:y.PropTypes.bool,autoLoad:y.PropTypes.bool,bounce:y.PropTypes.bool,bounceEasing:y.PropTypes.shape({style:y.PropTypes.string.isRequired,fn:y.PropTypes.func.isRequired}),bounceTime:y.PropTypes.number,deceleration:y.PropTypes.number,eventPassthrough:y.PropTypes.oneOfType([y.PropTypes.bool,y.PropTypes.string]),directionLockThreshold:y.PropTypes.number,freeScroll:y.PropTypes.bool,momentum:y.PropTypes.bool,HWCompositing:y.PropTypes.bool,preventDefault:y.PropTypes.bool,preventDefaultException:y.PropTypes.shape({className:y.PropTypes.instanceOf(RegExp),tagName:y.PropTypes.instanceOf(RegExp)}),scrollX:y.PropTypes.bool,scrollY:y.PropTypes.bool,useTransform:y.PropTypes.bool,useTransition:y.PropTypes.bool,onBeforeScrollStart:y.PropTypes.func,onScrollStart:y.PropTypes.func,onScroll:y.PropTypes.func,onScrollEnd:y.PropTypes.func,onScrollCancel:y.PropTypes.func,onRefresh:y.PropTypes.func,children:y.PropTypes.oneOfType([y.PropTypes.node,y.PropTypes.element]).isRequired,usePullRefresh:y.PropTypes.bool,useLoadMore:y.PropTypes.bool,useSticky:y.PropTypes.bool,pullRefreshAction:y.PropTypes.func,loadMoreAction:y.PropTypes.func,renderPullRefresh:y.PropTypes.func,renderLoadMore:y.PropTypes.func,lang:y.PropTypes.string,containerClass:y.PropTypes.string,containerStyle:y.PropTypes.shape({}),scrollerClass:y.PropTypes.string,scrollerStyle:y.PropTypes.shape({}),noMoreData:y.PropTypes.bool},o.defaultProps={autoRefresh:!0,autoLoad:!0,bounce:!0,bounceEasing:R.default.ease.circular,bounceTime:600,deceleration:.0024,directionLockThreshold:0,freeScroll:!1,momentum:!0,HWCompositing:!0,preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},scrollX:!1,scrollY:!0,containerStyle:{},scrollerStyle:{},containerClass:"",scrollerClass:"",useTransform:!0,useTransition:!0,usePullRefresh:!1,useLoadMore:!1,useSticky:!1,lang:"zh_CN"},o.childContextTypes={scroller:y.PropTypes.object},n);t.default=A},1055:function(e,t,r){e.exports={default:r(1056),__esModule:!0}},1056:function(e,t,r){r(301),r(88),r(112),r(1057),e.exports=r(26).Promise},1057:function(e,t,r){"use strict";var o,n,i,a=r(110),s=r(39),l=r(108),u=r(178),c=r(40),h=r(77),f=r(294),d=r(1058),p=r(1059),m=r(1060),g=r(874).set,y=r(1062)(),v=s.TypeError,S=s.process,b=s.Promise,S=s.process,_="process"==u(S),T=function(){},E=!!function(){try{var e=b.resolve(1),t=(e.constructor={})[r(32)("species")]=function(e){e(T,T)};return(_||"function"==typeof PromiseRejectionEvent)&&e.then(T)instanceof t}catch(e){}}(),R=function(e,t){return e===t||e===b&&t===i},w=function(e){var t;return!(!h(e)||"function"!=typeof(t=e.then))&&t},P=function(e){return R(b,e)?new k(e):new n(e)},k=n=function(e){var t,r;this.promise=new e(function(e,o){if(void 0!==t||void 0!==r)throw v("Bad Promise constructor");t=e,r=o}),this.resolve=f(t),this.reject=f(r)},O=function(e){try{e()}catch(e){return{error:e}}},A=function(e,t){if(!e._n){e._n=!0;var r=e._c;y(function(){for(var o=e._v,n=1==e._s,i=0;r.length>i;)!function(t){var r,i,a=n?t.ok:t.fail,s=t.resolve,l=t.reject,u=t.domain;try{a?(n||(2==e._h&&x(e),e._h=1),!0===a?r=o:(u&&u.enter(),r=a(o),u&&u.exit()),r===t.promise?l(v("Promise-chain cycle")):(i=w(r))?i.call(r,s,l):s(r)):l(o)}catch(e){l(e)}}(r[i++]);e._c=[],e._n=!1,t&&!e._h&&L(e)})}},L=function(e){g.call(s,function(){var t,r,o,n=e._v;if(M(e)&&(t=O(function(){_?S.emit("unhandledRejection",n,e):(r=s.onunhandledrejection)?r({promise:e,reason:n}):(o=s.console)&&o.error&&o.error("Unhandled promise rejection",n)}),e._h=_||M(e)?2:1),e._a=void 0,t)throw t.error})},M=function(e){if(1==e._h)return!1;for(var t,r=e._a||e._c,o=0;r.length>o;)if(t=r[o++],t.fail||!M(t.promise))return!1;return!0},x=function(e){g.call(s,function(){var t;_?S.emit("rejectionHandled",e):(t=s.onrejectionhandled)&&t({promise:e,reason:e._v})})},D=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),A(t,!0))},C=function(e){var t,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===e)throw v("Promise can't be resolved itself");(t=w(e))?y(function(){var o={_w:r,_d:!1};try{t.call(e,l(C,o,1),l(D,o,1))}catch(e){D.call(o,e)}}):(r._v=e,r._s=1,A(r,!1))}catch(e){D.call({_w:r,_d:!1},e)}}};E||(b=function(e){d(this,b,"Promise","_h"),f(e),o.call(this);try{e(l(C,this,1),l(D,this,1))}catch(e){D.call(this,e)}},o=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},o.prototype=r(1063)(b.prototype,{then:function(e,t){var r=P(m(this,b));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=_?S.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&A(this,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),k=function(){var e=new o;this.promise=e,this.resolve=l(C,e,1),this.reject=l(D,e,1)}),c(c.G+c.W+c.F*!E,{Promise:b}),r(111)(b,"Promise"),r(1064)("Promise"),i=r(26).Promise,c(c.S+c.F*!E,"Promise",{reject:function(e){var t=P(this);return(0,t.reject)(e),t.promise}}),c(c.S+c.F*(a||!E),"Promise",{resolve:function(e){if(e instanceof b&&R(e.constructor,this))return e;var t=P(this);return(0,t.resolve)(e),t.promise}}),c(c.S+c.F*!(E&&r(304)(function(e){b.all(e).catch(T)})),"Promise",{all:function(e){var t=this,r=P(t),o=r.resolve,n=r.reject,i=O(function(){var r=[],i=0,a=1;p(e,!1,function(e){var s=i++,l=!1;r.push(void 0),a++,t.resolve(e).then(function(e){l||(l=!0,r[s]=e,--a||o(r))},n)}),--a||o(r)});return i&&n(i.error),r.promise},race:function(e){var t=this,r=P(t),o=r.reject,n=O(function(){p(e,!1,function(e){t.resolve(e).then(r.resolve,o)})});return n&&o(n.error),r.promise}})},1058:function(e,t){e.exports=function(e,t,r,o){if(!(e instanceof t)||void 0!==o&&o in e)throw TypeError(r+": incorrect invocation!");return e}},1059:function(e,t,r){var o=r(108),n=r(302),i=r(303),a=r(44),s=r(175),l=r(177),u={},c={},t=e.exports=function(e,t,r,h,f){var d,p,m,g,y=f?function(){return e}:l(e),v=o(r,h,t?2:1),S=0;if("function"!=typeof y)throw TypeError(e+" is not iterable!");if(i(y)){for(d=s(e.length);d>S;S++)if((g=t?v(a(p=e[S])[0],p[1]):v(e[S]))===u||g===c)return g}else for(m=y.call(e);!(p=m.next()).done;)if((g=n(m,v,p.value,t))===u||g===c)return g};t.BREAK=u,t.RETURN=c},1060:function(e,t,r){var o=r(44),n=r(294),i=r(32)("species");e.exports=function(e,t){var r,a=o(e).constructor;return void 0===a||void 0==(r=o(a)[i])?t:n(r)}},1061:function(e,t){e.exports=function(e,t,r){var o=void 0===r;switch(t.length){case 0:return o?e():e.call(r);case 1:return o?e(t[0]):e.call(r,t[0]);case 2:return o?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return o?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return o?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3])}return e.apply(r,t)}},1062:function(e,t,r){var o=r(39),n=r(874).set,i=o.MutationObserver||o.WebKitMutationObserver,a=o.process,s=o.Promise,l="process"==r(109)(a);e.exports=function(){var e,t,r,u=function(){var o,n;for(l&&(o=a.domain)&&o.exit();e;){n=e.fn,e=e.next;try{n()}catch(o){throw e?r():t=void 0,o}}t=void 0,o&&o.enter()};if(l)r=function(){a.nextTick(u)};else if(i){var c=!0,h=document.createTextNode("");new i(u).observe(h,{characterData:!0}),r=function(){h.data=c=!c}}else if(s&&s.resolve){var f=s.resolve();r=function(){f.then(u)}}else r=function(){n.call(o,u)};return function(o){var n={fn:o,next:void 0};t&&(t.next=n),e||(e=n,r()),t=n}}},1063:function(e,t,r){var o=r(55);e.exports=function(e,t,r){for(var n in t)r&&e[n]?e[n]=t[n]:o(e,n,t[n]);return e}},1064:function(e,t,r){"use strict";var o=r(39),n=r(26),i=r(41),a=r(45),s=r(32)("species");e.exports=function(e){var t="function"==typeof n[e]?n[e]:o[e];a&&t&&!t[s]&&i.f(t,s,{configurable:!0,get:function(){return this}})}},1065:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={downArrow:"&#xe601;",upArrow:"&#xe609;",loading:"&#xe602;",success:"&#xe62e;",error:"&#xe697;"};t.default=o},1066:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={PULL:0,RELEASE:1,LOAD:2,SUCCESS:3,FAIL:4},n={PULL:0,RELEASE:1,LOAD:2,NOMORE:3};t.REFRESHSTATUS=o,t.LOADMORESTATUS=n},1067:function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function getMessage(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;return"zh"===e||"zh_CN"===e?n.default:"zh-Hant"===e||"zh_TW"===e?a.default:"en"===e||"en_US"===e?l.default:null}function getLocale(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;return"zh"===e||"zh_CN"===e?{lang:"zh",messages:n.default}:"zh-Hant"===e||"zh_TW"===e?{lang:"zh-Hant",messages:a.default}:"en"===e||"en_US"===e?{lang:"en",messages:l.default}:null}Object.defineProperty(t,"__esModule",{value:!0}),t.getMessage=getMessage,t.getLocale=getLocale;var o=r(1068),n=_interopRequireDefault(o),i=r(1069),a=_interopRequireDefault(i),s=r(1070),l=_interopRequireDefault(s),u="zh"},1068:function(e,t){e.exports={pullDownToRefresh:"下拉刷新",releaseToRefresh:"松开刷新",refreshSuccess:"刷新成功",refreshFailed:"刷新失败",pullupToLoadMore:"上拉加载更多",releaseToLoadMore:"松开加载更多",loadMoreSuccess:"加载成功",loadMoreFailed:"加载失败",noMoreData:"没有更多数据了",pushNoticy:"有新的变更，请下拉刷新",loading:"加载中..."}},1069:function(e,t){e.exports={pullDownToRefresh:"下拉刷新",releaseToRefresh:"松開刷新",refreshSuccess:"刷新成功",refreshFailed:"刷新失敗",pullupToLoadMore:"上拉加載更多",releaseToLoadMore:"松開加載更多",loadMoreSuccess:"加載成功",loadMoreFailed:"加載失敗",noMoreData:"沒有更多數據了",pushNoticy:"有新的變更，請下拉刷新",loading:"加載中..."}},1070:function(e,t){e.exports={pullDownToRefresh:"Pull down to refresh",releaseToRefresh:"Release",refreshSuccess:"Successful refresh",refreshFailed:"Failed to refresh",pullupToLoadMore:"Pull up to load more",releaseToLoadMore:"Release",loadMoreSuccess:"Successful loading",loadMoreFailed:"Failed to load",noMoreData:"No more content",pushNoticy:"New updates, pull down to refresh",loading:"Loading…"}},1071:function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,n,i=r(6),a=_interopRequireDefault(i),s=r(2),l=_interopRequireDefault(s),u=r(3),c=_interopRequireDefault(u),h=r(4),f=_interopRequireDefault(h),d=r(5),p=_interopRequireDefault(d),m=r(0),g=_interopRequireDefault(m),y=r(16),v=_interopRequireDefault(y),S=r(875),b=_interopRequireDefault(S),_=(n=o=function(e){function Sticky(){(0,l.default)(this,Sticky);var e=(0,f.default)(this,(Sticky.__proto__||(0,a.default)(Sticky)).call(this));return e.domNode=null,e.height=null,e.offsetTop=null,e.className=null,e}return(0,p.default)(Sticky,e),(0,c.default)(Sticky,[{key:"componentDidMount",value:function(){this.scroller=this.context.scroller,this.scroller&&(this.initialize(),this.scroller.stickyHeaders.push(this))}},{key:"componentDidUpdate",value:function(){this.initialize()}},{key:"componentWillUnmount",value:function(){var e=this;this.scroller&&(this.scroller.stickyHeaders=this.scroller.stickyHeaders.filter(function(t){return t!==e}))}},{key:"initialize",value:function(){this.domNode=v.default.findDOMNode(this),this.height=this.domNode.offsetHeight,this.offsetTop=-b.default.offset(this.domNode).top,this.className=this.domNode.className,this.onlyChild=g.default.Children.only(this.props.children),this.stickyExtraClass=this.props.stickyExtraClass}},{key:"render",value:function(){return g.default.Children.only(this.props.children)}}]),Sticky}(m.Component),o.propTypes={stickyExtraClass:m.PropTypes.string,children:m.PropTypes.oneOfType([m.PropTypes.array,m.PropTypes.object,m.PropTypes.string])},o.defaultProps={stickyExtraClass:""},o.contextTypes={scroller:m.PropTypes.object},n);t.default=_},752:function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),n=function get(e,t,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,t);if(void 0===o){var n=Object.getPrototypeOf(e);return null===n?void 0:get(n,t,r)}if("value"in o)return o.value;var i=o.get;if(void 0!==i)return i.call(r)},i=r(0),a=_interopRequireDefault(i),s=r(105),l=r(106),u=r(806),c=r(765),h=_interopRequireDefault(c),f=r(1052),d=_interopRequireDefault(f),p=r(169),m=r(53),g=r(841),y=_interopRequireDefault(g),v=r(287),S=_interopRequireDefault(v),b=r(767),_=_interopRequireDefault(b),T={searchWord:{maxWidth:"70%",overflow:"hidden",fontSize:".32rem",textOverflow:"ellipsis",display:"inline-block",whiteSpace:"nowrap"}},E=function(e){function Search(e){_classCallCheck(this,Search);var t=_possibleConstructorReturn(this,(Search.__proto__||Object.getPrototypeOf(Search)).call(this,e));return n(Search.prototype.__proto__||Object.getPrototypeOf(Search.prototype),"title",t).call(t,"搜索"),t.state={keyword:"",barrageSendToast:!1,barrageToastMsg:""},t.search=t.search.bind(t),t.onPushSongFail=t.onPushSongFail.bind(t),t.onPushSongSuccess=t.onPushSongSuccess.bind(t),t.handelFocus=t.handelFocus.bind(t),t.handelBlur=t.handelBlur.bind(t),t}return _inherits(Search,e),o(Search,[{key:"componentDidUpdate",value:function(e){}},{key:"componentDidMount",value:function(){var e=this.props.match.params.keyword;this.search(e)}},{key:"render",value:function(){var e=this,t=this.props.match.params.keyword;return a.default.createElement(p.Paper,{zDepth:0},a.default.createElement(d.default,{handelBlur:this.handelBlur,handelFocus:this.handelFocus,defaultKeyWord:t,getSearchKey:this.search,inputIng:!t}),this.state.keyword?a.default.createElement(p.Paper,{style:{height:"1.2rem",position:"fixed",top:"1.2rem",width:"100%",zIndex:1}},a.default.createElement(p.Subheader,{style:{height:"1.2rem",display:"flex",alignItems:"center"}},"“",a.default.createElement("font",{style:T.searchWord},this.state.keyword),"” ",a.default.createElement("font",{style:T.searchWord},"的搜索结果"))):"",a.default.createElement("div",null,a.default.createElement(y.default,{onPushSongSuccess:this.onPushSongSuccess,onPushSongFail:this.onPushSongFail,paddingTop:"2.4rem",keyword:this.state.keyword,search:!0})),a.default.createElement(p.Snackbar,{open:this.state.barrageSendToast,message:this.state.barrageToastMsg,autoHideDuration:S.default.TOAST_BOTTOM_SHOW_TIME,onRequestClose:function(){e.setState({barrageSendToast:!1})}}),this.state.focus?"":a.default.createElement(_.default,{selectedIndex:0}))}},{key:"search",value:function(e){this.setState({keyword:e})}},{key:"onPushSongSuccess",value:function(e){var t=e.nameNorm;this.setState({barrageSendToast:!0,barrageToastMsg:t+" 点歌成功"})}},{key:"onPushSongFail",value:function(e){this.setState({barrageSendToast:!0,barrageToastMsg:e})}},{key:"handelFocus",value:function(){this.setState({focus:!0})}},{key:"handelBlur",value:function(){this.setState({focus:!1})}}]),Search}(h.default),R=function(e,t){return{hotKeys:e.app.search}},w=function(e,t){return{action_search:(0,m.bindActionCreators)(u.search,e)}};t.default=(0,l.withRouter)((0,s.connect)(R,w)(E))},765:function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),n=r(0),i=r(283),a=_interopRequireDefault(i),s=(r(106),r(105),r(19)),l=_interopRequireDefault(s),u=function(e){function BaseComponent(e){_classCallCheck(this,BaseComponent);var t=_possibleConstructorReturn(this,(BaseComponent.__proto__||Object.getPrototypeOf(BaseComponent)).call(this,e));return t.bindState.bind(t),t.title=t.title.bind(t),a.default.setHistory(t.props.history),t}return _inherits(BaseComponent,e),o(BaseComponent,[{key:"render",value:function(){return React.createElement("div",null)}},{key:"bindState",value:function(e){var t=this;return function(r){var o={};o[e]=r,t.setState(o)}}},{key:"title",value:function(e){document.title=e}},{key:"validUserStatus",value:function(e,t,r){var o=t||{},n=o.data,i=n||{},a=i.systemTime,s=i.timeStamp,u=this.isVip(e),c=this.isBindDevice(e),h=this.isFreeActivation(e);if("string"==typeof c)return r&&r(c),"正在获取用户信息";if(!1===c)return r&&r("",l.default.COMMON.ALERT_TYPE_BIND_DEVICE),!1;if(!0===c){if(!0===h)return r&&r("",l.default.COMMON.ALERT_TYPE_FREE_ACTIVE),!1;if(!1===h)return function(){return!(!a||!s)&&!(a-s>72e4)}()?!1!==u||(r&&r("",l.default.COMMON.ALERT_TYPE_BE_VIP),!1):(r&&r("",l.default.COMMON.ALERT_TYPE_DEVICE_NOT_ONLINE),!1)}}},{key:"validUserBindDevice",value:function(e,t){var r=this.isBindDevice(e);return"string"==typeof r?(t&&t(r),r):!1===r?(t&&t("",l.default.COMMON.ALERT_TYPE_BIND_DEVICE),!1):!0===r||void 0}},{key:"validUserDeviceOnline",value:function(e,t){var r=e||{},o=r.data,n=o||{},i=n.systemTime,a=n.timeStamp;if(i&&a){return!!!(i-a>72e4)||(t&&t("",l.default.COMMON.ALERT_TYPE_DEVICE_NOT_ONLINE),!1)}return t&&t("",l.default.COMMON.ALERT_TYPE_DEVICE_NOT_ONLINE),!1}},{key:"isFreeActivation",value:function(e){var t=e||{},r=t.status,o=t.data;if(void 0!==r){return 1===o.isFreeActivation}return"正在获取用户信息"}},{key:"isBindDevice",value:function(e){var t=e||{},r=t.status,o=t.msg,n=t.data;if(void 0!==r){if(-100===r)return"请使用微信操作";if(1===r){var i=n.isReDevice;n.bindExpireTime;return 1===i}return o||"获取用户信息失败，请稍后重试！"}return"正在获取用户信息"}},{key:"isVip",value:function(e){var t=e||{},r=t.status,o=t.data;if(void 0!==r){var n=o.vipStatus,i=o.expireTime;return 1===n&&(new Date).getTime()<i}return"正在获取用户信息"}}]),BaseComponent}(n.Component);t.default=u},766:function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function getShareAudio(e,t){var r=u.default.apiDomain+s.default.API_QUERY_USER_SOUND;return function(o){(0,i.comFetch)(o,e,{url:r,headers:t,action:n.default.AUDIO.API_GET_SHARE_AUDIO},null)}}function getRecommend(e,t,r,o){var a=u.default.apiDomain+s.default.API_QUERY_ALBUM;return function(s){(0,i.comFetch)(s,e,{url:a,headers:t,action:n.default.SONG.API_GET_RECOMMEND},r,o)}}function push(e,t,r,o){var a=u.default.apiDomain+s.default.API_PUSH;return function(s){(0,i.comFetch)(s,e,{url:a,headers:t,action:n.default.SONG.API_PUSH},r,o)}}function pushLocal(e,t,r,o,a){var l=e+s.default.API_PUSH;return function(e){(0,i.comFetch)(e,t,{url:l,type:"get",headers:r,timeout:3e3,action:n.default.SONG.API_PUSH},o,a)}}function getChooseList(e,t,r,o){var a=u.default.apiDomain+s.default.API_CHOOSE_LIST;return function(s){(0,i.comFetch)(s,e,{url:a,headers:t,action:n.default.SONG.API_CHOOSE_LIST},r,o)}}function getHistorySongList(e,t){var r=u.default.apiDomain+s.default.API_CHOOSE_LIST;return function(o){(0,i.comFetch)(o,e,{url:r,headers:t,action:n.default.SONG.API_CHOOSE_HISTORY_LIST},null)}}function setSongTop(e,t,r){var o=u.default.apiDomain+s.default.API_SET_SONG_TOP;return function(a){(0,i.comFetch)(a,e,{url:o,headers:t,action:n.default.SONG.API_SET_SONG_TOP},r)}}function getSingerCategoryAlbum(e,t,r,o){var a=u.default.apiDomain+s.default.API_GET_SINGER_CATEGORY_ALBUM;return function(s){(0,i.comFetch)(s,e,{url:a,headers:t,action:n.default.SONG.API_GET_SINGER_CATEGORY_ALBUM},r,o)}}function getActorsAlbum(e,t,r,o){var a=u.default.apiDomain+s.default.API_GET_ACTORS_ALBUM;return function(s){(0,i.comFetch)(s,e,{url:a,headers:t,action:n.default.SONG.API_GET_ACTORS_ALBUM},r,o)}}function getCatAlbum(e,t,r){var o=u.default.apiDomain+s.default.API_GET_CAT_ALBUM;return function(a){(0,i.comFetch)(a,e,{url:o,headers:t,action:n.default.SONG.API_GET_CAT_ALBUM},r)}}function getCatSongList(e,t,r,o){var a=u.default.apiDomain+s.default.API_GET_CAT_ALBUM;return function(s){(0,i.comFetch)(s,e,{url:a,headers:t,action:n.default.SONG.API_GET_CAT_SONG_LIST},r,o)}}function getRankAlbum(e,t,r,o){var a=u.default.apiDomain+s.default.API_QUERY_ALBUM;return function(s){(0,i.comFetch)(s,e,{url:a,headers:t,action:n.default.SONG.API_GET_RANK_ALBUM},r,o)}}function getAlbumRecommend(e,t,r){var o=u.default.apiDomain+s.default.API_QUERY_ALBUM_RECOMMEND;return function(a){(0,i.comFetch)(a,e,{url:o,headers:t,action:n.default.SONG.API_QUERY_ALBUM_RECOMMEND},r)}}function getAlbumRecommendSongList(e,t,r,o){var a=u.default.apiDomain+s.default.API_QUERY_ALBUM_RECOMMEND;return function(s){(0,i.comFetch)(s,e,{url:a,headers:t,action:n.default.SONG.API_QUERY_ALBUM_RECOMMEND_SONG_LIST},r,o)}}function getRanking(e,t,r){var o=u.default.apiDomain+s.default.API_QUERY_ALBUM;return function(a){(0,i.comFetch)(a,e,{url:o,headers:t,action:n.default.SONG.API_QUERY_RANKING},r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.getShareAudio=getShareAudio,t.getRecommend=getRecommend,t.push=push,t.pushLocal=pushLocal,t.getChooseList=getChooseList,t.getHistorySongList=getHistorySongList,t.setSongTop=setSongTop,t.getSingerCategoryAlbum=getSingerCategoryAlbum,t.getActorsAlbum=getActorsAlbum,t.getCatAlbum=getCatAlbum,t.getCatSongList=getCatSongList,t.getRankAlbum=getRankAlbum,t.getAlbumRecommend=getAlbumRecommend,t.getAlbumRecommendSongList=getAlbumRecommendSongList,t.getRanking=getRanking;var o=r(19),n=_interopRequireDefault(o),i=r(24),a=r(107),s=_interopRequireDefault(a),l=r(72),u=_interopRequireDefault(l)},767:function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(0),a=_interopRequireDefault(i),s=r(169),l=r(282),u=r(1),c=_interopRequireDefault(u),h=r(765),f=_interopRequireDefault(h),d=r(25),p=r(105),m=r(768),g=_interopRequireDefault(m),y=r(769),v=_interopRequireDefault(y),S=r(770),b=_interopRequireDefault(S),_=r(771),T=_interopRequireDefault(_),E=r(772),R=_interopRequireDefault(E),w={nav:{height:"1.4rem",position:"fixed",borderTop:"1px solid #efeeef",bottom:-1,zIndex:"2",playController:{position:"relative",paddingLeft:0,paddingRight:0,circle:{position:"absolute",top:"-.93rem",height:"2.4rem",arc:{border:"1px solid #efeeef",position:"absolute",marginLeft:"-.907rem",left:"50%",width:"1.813rem",height:"1.067rem",bottom:"1.1rem",borderRadius:"1.067rem 1.067rem 0 0",backgroundColor:"white"},maskLine:{height:"1.493rem",borderTop:"1px solid white",width:"1.707rem",position:"absolute",bottom:0,left:"50%",marginLeft:"-.853rem",backgroundColor:"white"},maskArc:{height:"1.467rem",width:"100%",position:"absolute",bottom:0,backgroundColor:"white"},icon:{position:"absolute",left:"50%",marginLeft:"-.7rem",width:"1.4rem",bottom:".56rem",backgroundColor:"#ff6d32",borderRadius:"50%"}}},label:{position:"absolute",width:"100%",textAlign:"center",bottom:4,left:0,fontSize:".267rem"}}},P=function(e){function MBottomNavigation(e){_classCallCheck(this,MBottomNavigation);var t=_possibleConstructorReturn(this,(MBottomNavigation.__proto__||Object.getPrototypeOf(MBottomNavigation)).call(this,e));return t.state={selectedIndex:t.props.selectedIndex},t}return _inherits(MBottomNavigation,e),n(MBottomNavigation,[{key:"render",value:function(){var e=this,t=0===this.state.selectedIndex?v.default:g.default,r=2===this.state.selectedIndex?T.default:b.default,n=["#999","#999","#999"];return n[this.state.selectedIndex]="#ff6832",a.default.createElement(s.BottomNavigation,{selectedIndex:this.state.selectedIndex,style:w.nav},a.default.createElement(s.BottomNavigationItem,{style:{paddingTop:".213rem",paddingBottom:".113rem",maxWidth:"100%"},label:a.default.createElement("div",{style:o({},w.nav.label,{color:n[0],bottom:".107rem"})},"主页"),icon:a.default.createElement("div",{style:{height:".667rem",marginBottom:".4rem",display:"flex",justifyContent:"center",alignItems:"center"}},a.default.createElement("img",{style:{height:".667rem",width:".62rem"},src:t})),onTouchTap:function(){return e.navSelect(0)}}),a.default.createElement(s.BottomNavigationItem,{style:o({},w.nav.playController,{maxWidth:"100%"}),label:a.default.createElement("div",{style:o({},w.nav.label,{color:n[1],bottom:".107rem"})},"播控"),icon:a.default.createElement("div",{style:w.nav.playController.circle},a.default.createElement("div",{style:w.nav.playController.circle.arc}),a.default.createElement("div",{style:w.nav.playController.circle.maskLine}),a.default.createElement("div",{style:w.nav.playController.circle.maskArc}),a.default.createElement("img",{style:w.nav.playController.circle.icon,src:R.default})),onTouchTap:function(){return e.navSelect(1)}}),a.default.createElement(s.BottomNavigationItem,{style:{paddingTop:".213rem",paddingBottom:".113rem",maxWidth:"100%"},label:a.default.createElement("div",{style:o({},w.nav.label,{color:n[2],bottom:".107rem"})},"我的"),icon:a.default.createElement("div",{style:{height:".667rem",marginBottom:".4rem",display:"flex",justifyContent:"center",alignItems:"center"}},a.default.createElement("img",{style:{height:".667rem",width:".667rem"},src:r})),onTouchTap:function(){return e.navSelect(2)}}))}},{key:"navSelect",value:function(e){switch(this.setState({selectedIndex:e}),e){case 0:(0,l.linkTo)("",!1,null);break;case 1:(0,l.linkTo)("controller/",!1,null);break;case 2:(0,l.linkTo)("user",!1,null)}}}]),MBottomNavigation}(f.default);P.propTypes={selectedIndex:c.default.number},P.defaultProps={selectedIndex:0};var k=function(e,t){return{}},O=function(e,t){return{}};t.default=(0,d.withRouter)((0,p.connect)(k,O)(P))},768:function(e,t,r){e.exports=r.p+"img/common/nav_index.png?f587230d14e97fe3edc24933ff28f97c"},769:function(e,t,r){e.exports=r.p+"img/common/nav_index_on.png?b4a94c832861bea691015dd45b804220"},770:function(e,t,r){e.exports=r.p+"img/common/nav_me.png?e84268d0fc58e6264bb6518f670f30b7"},771:function(e,t,r){e.exports=r.p+"img/common/nav_me_on.png?abfda0a35e4303b76b1647488e2c0859"},772:function(e,t,r){e.exports=r.p+"img/common/nav_controll_gif.png?b6c8794a706723245e6e70d34944ded5"},773:function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _objectWithoutProperties(e,t){var r={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o]);return r}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(73),a=_interopRequireDefault(i),s=r(0),l=_interopRequireDefault(s),u=r(1),c=_interopRequireDefault(u),h=r(282),f={position:"absolute",top:"66px"},d=function(e){function Input(e){_classCallCheck(this,Input);var t=_possibleConstructorReturn(this,(Input.__proto__||Object.getPrototypeOf(Input)).call(this,e));return t.state={hash:(0,h.getRandomString)(24),value:"",errorText:"",trim:t.props.trim||!1},t.handelValidate.bind(t),t}return _inherits(Input,e),n(Input,[{key:"componentDidMount",value:function(){var e=this.props.doValidate;e&&e(this.handelValidate.bind(this),this.state.hash)}},{key:"render",value:function(){var e=this.props,t=(e.onChange,e.errorStyle,e.errorText,e.minLength,e.maxLength,e.bindState,e.validate,e.doValidate,e.trim,_objectWithoutProperties(e,["onChange","errorStyle","errorText","minLength","maxLength","bindState","validate","doValidate","trim"]));return l.default.createElement(a.default,o({ref:"input",errorStyle:f,errorText:this.state.errorText,onChange:this.handelChange.bind(this)},t))}},{key:"handelChange",value:function(e,t){this.state.trim&&(t=t.trim()),this.setState({value:t}),this.handelValidate(t);var r=this.props.bindState;r&&r(t)}},{key:"handelValidate",value:function(e){e=e||this.state.value;var t="",r=this.props.validate,o=this.props.minLength,n=this.props.maxLength;if("string"==typeof e&&(o&&e.length<o&&(t="长度不能小于"+o),n&&e.length>n&&(t="长度不能大于"+n)),!t&&"string"==typeof r)switch(r){case"account":/^[a-zA-z]\w{3,15}$/.test(e)||(t=this.props.errorText)}return this.setState({errorText:t}),t}}]),Input}(l.default.Component);t.default=d,d.propTypes={minLength:c.default.number,maxLength:c.default.number,errorStyle:c.default.object,validate:c.default.any,bindState:c.default.func,doValidate:c.default.func}},774:function(e,t,r){var o=r(775);"string"==typeof o&&(o=[[e.i,o,""]]);r(285)(o,{});o.locals&&(e.exports=o.locals)},775:function(e,t,r){t=e.exports=r(284)(),t.push([e.i,".search-header .search-bar-panel{top:0;z-index:6;width:100%;color:#fff;position:fixed;padding:.13rem .107rem;text-align:center;height:1.2rem;background:-webkit-gradient(linear,0 100,283 0,from(#ff6932),to(#ff8332));display:inline-table!important}.search-header .search-bar-panel .key-word-input{margin:0;padding:0;overflow:hidden;width:100%!important;display:flex!important;border-radius:1.2rem;background-color:#fe9e62!important;height:.93rem!important;border:1px solid #fe9e62}.search-header .search-bar-panel .key-word-input div:first-child{display:flex;width:90%;height:100%;justify-content:center;align-items:center;bottom:auto!important}.search-header .search-bar-panel .key-word-input hr{display:none!important}.search-header .search-bar-panel .key-word-input input{height:.9rem!important;padding-left:5%!important;color:#fff!important;font-size:.4rem!important}.search-header .search-bar-panel .key-word-input font{font-size:.4rem}.search-header .search-bar-panel .key-word-input img.search{height:.32rem;margin-right:.107rem}.search-header .search-bar-panel .key-word-input img.voice{display:block;padding:.16rem .267rem .16rem .48rem;width:1.067rem;height:.8rem;position:absolute;right:.32rem;z-index:1}.search-header .search-bar-panel .search-button{width:1.4rem;display:table-cell}.search-header .search-panel{width:100%;height:100%;z-index:2;position:fixed;background-color:#fff}.search-header .search-panel .search-words{height:100%;padding:12px;padding-top:0}.search-header .search-panel .search-words .hot-words{display:flex;flex-wrap:wrap}.search-header .search-panel .search-words .hot-words .word{margin:4px 0 0 4px!important}.search-header .search-panel .search-words .history-words-title{height:.8rem;margin-top:.6rem}.search-header.gray .search-bar-panel{top:1.2rem;background:#d7d7d7}.search-header.gray .search-bar-panel .key-word-input{background-color:#fff!important;border:1px solid #fff!important}.search-header.gray .search-bar-panel .key-word-input div:first-child{color:#999}",""]),t.locals={barBaseHeight:"1.2rem"}},776:function(e,t,r){e.exports=r.p+"img/common/icon_voice.png?fb3acfa27b8a407b649d03a4a0f43840"},777:function(e,t,r){e.exports=r.p+"img/common/icon_search.png?0fb44260fa7b8de5f8c3c4dbf1ab4fa6"},778:function(e,t,r){e.exports=r.p+"img/common/bg_no_network.png?ec6f187423c8d73d62f1171882f62080"},779:function(e,t,r){e.exports=r.p+"fonts/iconfont.eot?c930aafad3dc193752b0fbea5b8f2745"},784:function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(0),a=_interopRequireDefault(i),s=r(785),l=_interopRequireDefault(s),u={noResult:{height:"100%",width:"100%",zIndex:-1,display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"}},c=function(e){function NoResult(e){return _classCallCheck(this,NoResult),_possibleConstructorReturn(this,(NoResult.__proto__||Object.getPrototypeOf(NoResult)).call(this,e))}return _inherits(NoResult,e),n(NoResult,[{key:"render",value:function(){var e=this.props.style||{};return a.default.createElement("div",{style:o({},u.noResult,e)},a.default.createElement("img",{src:l.default,style:{maxWidth:"7rem"}}),a.default.createElement("p",{style:{color:"#7e7e7e",margin:0,fontSize:".4rem"}},this.props.message||"没有任何东东哟"))}}]),NoResult}(a.default.Component);t.default=c},785:function(e,t,r){e.exports=r.p+"img/common/bg_no_result.png?0e0d84b85deaafc6c825178837effa30"},786:function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(0),a=_interopRequireDefault(i),s=r(778),l=_interopRequireDefault(s),u={noResult:{height:"100%",width:"100%",zIndex:-1,display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"}},c=function(e){function NoWifi(e){return _classCallCheck(this,NoWifi),_possibleConstructorReturn(this,(NoWifi.__proto__||Object.getPrototypeOf(NoWifi)).call(this,e))}return _inherits(NoWifi,e),n(NoWifi,[{key:"render",value:function(){var e=this.props.style||{};return a.default.createElement("div",{style:o({},u.noResult,e)},a.default.createElement("img",{src:l.default,style:{maxWidth:"7rem"}}),a.default.createElement("p",{style:{color:"#7e7e7e",margin:0,fontSize:".4rem"}},"网络已被带走"))}}]),NoWifi}(a.default.Component);t.default=c},788:function(e,t,r){e.exports=r.p+"img/common/icon_vip.png?8c3ff5f6596510032abfa218fbedbd82"},789:function(e,t,r){var o=r(790);"string"==typeof o&&(o=[[e.i,o,""]]);r(285)(o,{});o.locals&&(e.exports=o.locals)},790:function(e,t,r){t=e.exports=r(284)(),t.push([e.i,"@font-face{font-family:silkiconfont;src:url("+r(779)+");src:url("+r(779)+'#iefix) format("embedded-opentype"),url('+r(791)+') format("woff"),url('+r(792)+') format("truetype"),url('+r(793)+'#silkiconfont) format("svg");font-weight:400;font-style:normal}@keyframes rotate{0%{transform:rotate(0deg);-webkit-transform:rotate(0deg)}to{transform:rotate(1turn);-webkit-transform:rotate(1turn)}}.silk-listcontrol-wrapper{overflow:hidden}.silk-listcontrol-wrapper-default{position:absolute;top:0;bottom:0;left:0;width:100%}.silk-listcontrol-scroller{z-index:1;-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none;-webkit-text-size-adjust:none;text-size-adjust:none}.silk-listcontrol-scroller-horizontal{display:inline-block}.silk-listcontrol-scroller-vertical{position:relative}.silk-listcontrol-loadwrapper{display:flex;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center;width:100%;height:50px;line-height:50px;position:absolute;color:#8f8e93;font-size:14px}.silk-listcontrol-loadwrapper-up{top:-50px}.silk-listcontrol-loadtip{display:-webkit-inline-box;display:inline-flex;-webkit-box-align:center;align-items:center}.silk-listcontrol-icon{font-family:silkiconfont!important;font-size:14px;font-style:normal;-webkit-font-smoothing:antialiased;-webkit-text-stroke-width:.2px;-moz-osx-font-smoothing:grayscale;color:#3587f2;transition:transform .4s;-webkit-transition:-webkit-transform .4s}.silk-listcontrol-text{padding-left:5px}',""])},791:function(e,t){e.exports="data:application/font-woff;base64,"},792:function(e,t,r){e.exports=r.p+"fonts/iconfont.ttf?12a921df8a802d25de8ab8424fb51dd7"},793:function(e,t,r){e.exports=r.p+"fonts/iconfont.svg?a5e81d2f2094a8fb82b6a84067a7fd4e"},794:function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),n=_interopRequireDefault(o),i=r(23),a=_interopRequireDefault(i),s=r(20),l=_interopRequireDefault(s),u=function(e){return n.default.createElement(l.default,e,n.default.createElement("path",{d:"M8 11h3v10h2V11h3l-4-4-4 4zM4 3v2h16V3H4z"}))};u=(0,a.default)(u),u.displayName="EditorVerticalAlignTop",u.muiName="SvgIcon",t.default=u},795:function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),n=function get(e,t,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,t);if(void 0===o){var n=Object.getPrototypeOf(e);return null===n?void 0:get(n,t,r)}if("value"in o)return o.value;var i=o.get;if(void 0!==i)return i.call(r)},i=r(0),a=_interopRequireDefault(i),s=r(169),l=r(106),u=r(53),c=r(1),h=_interopRequireDefault(c),f=r(766),d=r(765),p=_interopRequireDefault(d),m=r(282),g=r(105),y=r(788),v=_interopRequireDefault(y),S=r(286),b=r(293),_=_interopRequireDefault(b),T=r(796),E=_interopRequireDefault(T),R=r(287),w=_interopRequireDefault(R),P=function(e){function SongItem(e){_classCallCheck(this,SongItem);var t=_possibleConstructorReturn(this,(SongItem.__proto__||Object.getPrototypeOf(SongItem)).call(this,e));return t.state={pushIng:{},showSuc:{},showFail:{}},t.pushSong=t.pushSong.bind(t),t.pushSuccess=t.pushSuccess.bind(t),t.pushFail=t.pushFail.bind(t),t}return _inherits(SongItem,e),o(SongItem,[{key:"render",value:function(){var e=this.props.song;return a.default.createElement(s.ListItem,{className:"song-item",key:e.id,primaryText:a.default.createElement("div",null,a.default.createElement("div",{className:"song-title"},a.default.createElement("font",null,e.nameNorm),a.default.createElement("i",{className:"label-vip"},e.charge?a.default.createElement("img",{src:v.default,style:{height:".4rem"}}):""))),secondaryText:a.default.createElement("div",{className:"song-author"},e.actor&&e.actor.map(function(e){return e.nameNorm}).join(" ")),rightToggle:this.getBut(e.serialNo)})}},{key:"pushSong",value:function(){var e=this,t=this.props,r=t.song,o=t.onPushSongSuccess,i=(t.onPushSongFail,t.userInfo),a=t.ottInfo,s=t.action_setGlobAlert;if(!0===n(SongItem.prototype.__proto__||Object.getPrototypeOf(SongItem.prototype),"validUserStatus",this).call(this,i.userInfoData,a,s)){this.state.pushIng[r.serialNo]=!0,this.setState({pushIng:this.state.pushIng});var l={id:JSON.stringify(r),type:4},u=function(){e.pushSuccess(r.serialNo),setTimeout(function(){e.setState({pushIng:e.state.pushIng}),o&&o(r)},600)},c=function(t){e.pushFail(r.serialNo),e.setState({pushIng:e.state.pushIng}),e.props.action_setGlobAlert("点歌失败！")};(0,m.dynaPush)({ottInfo:this.props.ottInfo,userInfo:this.props.userInfo,param:l,localNetIsWork:this.props.localNetIsWork,action_pushLocal:this.props.action_pushLocal,action_setLocalNet:this.props.action_setLocalNet,action_push:this.props.action_push,action_setGlobAlert:this.props.action_setGlobAlert,success:u,fail:c})}}},{key:"getBut",value:function(e){return this.state.pushIng[e]?a.default.createElement(s.CircularProgress,{className:"choose-button no-border",size:16,thickness:1}):this.state.showSuc[e]?a.default.createElement(_.default,{className:"choose-button no-border",color:"#ff6932"}):this.state.showFail[e]?a.default.createElement(E.default,{className:"choose-button no-border",color:"red"}):a.default.createElement("div",{className:"choose-button",onClick:this.pushSong},"点歌")}},{key:"pushSuccess",value:function(e){var t=this;this.state.pushIng[e]=!1,this.state.showSuc[e]=!0,this.setState({pushIng:this.state.pushIng,showSuc:this.state.showSuc}),setTimeout(function(){t.state.showSuc[e]=!1,t.setState({showSuc:t.state.showSuc})},w.default.PUSH_SONG_RESULT_ICON_SHOW)}},{key:"pushFail",value:function(e){var t=this;this.state.pushIng[e]=!1,this.state.showFail[e]=!0,this.setState({pushIng:this.state.pushIng,showFail:this.state.showFail}),setTimeout(function(){t.state.showFail[e]=!1,t.setState({showFail:t.state.showFail})},w.default.PUSH_SONG_RESULT_ICON_SHOW)}}]),SongItem}(p.default);P.propTypes={song:h.default.object,onPushSongSuccess:h.default.func,onPushSongFail:h.default.func},P.defaultProps={song:{}};var k=function(e,t){return{songs:e.app.songs,userInfo:e.app.user.userInfo,ottInfo:e.app.device.ottInfo,localNetIsWork:e.app.common.localNetIsWork}},O=function(e,t){return{action_push:(0,u.bindActionCreators)(f.push,e),action_pushLocal:(0,u.bindActionCreators)(f.pushLocal,e),action_setGlobAlert:(0,u.bindActionCreators)(S.setGlobAlert,e),action_setLocalNet:(0,u.bindActionCreators)(S.setLocalNet,e)}};t.default=(0,l.withRouter)((0,g.connect)(k,O)(P))},796:function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),n=_interopRequireDefault(o),i=r(23),a=_interopRequireDefault(i),s=r(20),l=_interopRequireDefault(s),u=function(e){return n.default.createElement(l.default,e,n.default.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}))};u=(0,a.default)(u),u.displayName="NavigationClose",u.muiName="SvgIcon",t.default=u},800:function(e,t,r){var o,n;!function(){"use strict";function classNames(){for(var e=[],t=0;t<arguments.length;t++){var o=arguments[t];if(o){var n=typeof o;if("string"===n||"number"===n)e.push(o);else if(Array.isArray(o))e.push(classNames.apply(null,o));else if("object"===n)for(var i in o)r.call(o,i)&&o[i]&&e.push(i)}}return e.join(" ")}var r={}.hasOwnProperty;void 0!==e&&e.exports?e.exports=classNames:(o=[],void 0!==(n=function(){return classNames}.apply(t,o))&&(e.exports=n))}()},806:function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function getHotWords(e,t){var r=u.default.apiDomain+s.default.API_GET_HOT_WORD;return function(o){(0,i.comFetch)(o,e,{url:r,headers:t,action:n.default.SEARCH.API_GET_HOT_WORD},null)}}function search(e,t,r,o){var a=u.default.apiDomain+s.default.API_SEARCH;return function(s){(0,i.comFetch)(s,e,{url:a,headers:t,action:n.default.SEARCH.API_SEARCH},r,o)}}Object.defineProperty(t,"__esModule",{value:!0}),t.getHotWords=getHotWords,t.search=search;var o=r(19),n=_interopRequireDefault(o),i=r(24),a=r(107),s=_interopRequireDefault(a),l=r(72),u=_interopRequireDefault(l)},841:function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _objectWithoutProperties(e,t){var r={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o]);return r}function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(0),a=_interopRequireDefault(i),s=r(169),l=r(106),u=r(53),c=r(1),h=_interopRequireDefault(c),f=r(765),d=_interopRequireDefault(f),p=r(282),m=r(105),g=r(795),y=_interopRequireDefault(g);r(789);var v=r(766),S=r(806),b=r(794),_=_interopRequireDefault(b),T=r(287),E=_interopRequireDefault(T),R=r(784),w=_interopRequireDefault(R),P=r(786),k=_interopRequireDefault(P),O=r(778),A=_interopRequireDefault(O),L=r(291),M={commonSongList:{position:"absolute",height:"100%",overflowY:"auto",width:"100%",top:0},loadingBar:{boxShadow:"none",top:"none",left:"none",transform:"none",marginLeft:-50}},x=function(e){function SongList(e){_classCallCheck(this,SongList);var t=_possibleConstructorReturn(this,(SongList.__proto__||Object.getPrototypeOf(SongList)).call(this,e)),r=null,o="",n="";return t.props.singerId?(o="getActorsAlbum",n="getActorsAlbumStamp",r=t.props.action_getActorsAlbum):t.props.catId?(o="getCatSongList",n="getCatSongListStamp",r=t.props.action_getCatSongList):t.props.hotId?(o="getRankAlbum",n="getRankAlbumStamp",r=t.props.action_getRankAlbum):t.props.recommendId?(o="getAlbumRecommendSongList",n="getAlbumRecommendSongListStamp",r=t.props.action_getAlbumRecommendSongList):t.props.search&&(o="searchResult",n="searchResultStamp",r=t.props.action_searchResult),t.state={pageSize:20,stamp:n,pageData:[],noData:!1,loading:!1,currentPage:0,lastPage:!1,dataKey:o,queryFun:r,needScrollToTop:!1,id:t.props.singerId||t.props.catId||t.props.hotId||t.props.recommendId},t.getContent=t.getContent.bind(t),t.scrollTo=t.scrollTo.bind(t),t}return _inherits(SongList,e),n(SongList,[{key:"componentDidMount",value:function(){this.props.search?this.state.currentPage=1:0===this.state.currentPage&&this.nextPage()}},{key:"componentDidUpdate",value:function(e){var t=this.state.stamp;if(e.songs[t]!==this.props.songs[t]){var r=this.props.songs[this.state.dataKey]||{data:{result:[],lastPage:!1}},o=r.data,n=o.result,i=o.lastPage,a=[].concat(_toConsumableArray(this.state.pageData),_toConsumableArray(n||[]));this.setState({pageData:a,lastPage:i,loading:!1,offLine:!1}),this.state.currentPage>0&&0===a.length?this.setState({noData:!0}):this.setState({noData:!1})}this.props.keyword&&e.keyword!==this.props.keyword&&this.refreshPage()}},{key:"render",value:function(){var e=this,t=this.state.noData,r=this.props,n=(r.singerId,r.catId,r.hotId,r.headImg),i=(_objectWithoutProperties(r,["singerId","catId","hotId","headImg"]),this.props.paddingTop?this.props.paddingTop:"1.18rem"),l=this.props.paddingBottom?this.props.paddingBottom:5,u=this.props.scrollToTopBottom?this.props.scrollToTopBottom:"1rem",c={};return this.state.needScrollToTop||(c={opacity:0}),t?a.default.createElement(w.default,{style:{position:"absolute"}}):a.default.createElement("div",{className:"common-song-list",style:o({},M.commonSongList,{paddingTop:i,paddingBottom:l}),onScroll:this.onScroll.bind(this)},a.default.createElement("img",{src:A.default,style:{display:"none"}}),this.state.offLine&&0!==this.state.currentPage&&0===this.state.pageData.length?a.default.createElement(k.default,{style:{position:"absolute",top:"-1rem"}}):"",!this.state.offLine&&n&&a.default.createElement("img",{className:"img-not-loaded",style:{top:44,width:"100%",minHeight:"6.08rem",maxHeight:"7rem"},src:(0,L.atob)(n)}),a.default.createElement(s.List,{className:"song-list"},this.getContent()),a.default.createElement("div",{className:"scroll-to-top-button",style:o({bottom:u},c),onClick:function(){e.scrollTo(0)}},a.default.createElement(_.default,{color:"white"})),a.default.createElement("div",{className:"loading-bottom"},this.state.loading?a.default.createElement("div",null,a.default.createElement(s.RefreshIndicator,{size:30,left:70,top:0,loadingColor:"#FF9800",status:"loading",style:M.loadingBar}),a.default.createElement("span",null,"正在加载")):"",a.default.createElement("span",null,this.state.lastPage?"亲爱滴，已经到底了":""),a.default.createElement("span",null,!this.state.loading&&this.state.offLine&&0!==this.state.currentPage&&0!==this.state.pageData.length?E.default.STRING_NO_WIFI:"")))}},{key:"pullRefreshAction",value:function(e,t){this.state.loading||this.refreshPage(e)}},{key:"loadMoreAction",value:function(e,t){this.state.loading||this.nextPage(e)}},{key:"getContent",value:function(){var e=this;return this.state.pageData.map(function(t){return a.default.createElement(y.default,{key:t.id,song:t,onPushSongSuccess:e.props.onPushSongSuccess,onPushSongFail:e.props.onPushSongFail})})}},{key:"nextPage",value:function(e){var t=this;if(!this.state.lastPage){this.state.currentPage+=1,this.state.loading=!0;var r=this.state,o=r.currentPage,n=r.pageSize,i=r.queryFun,a=r.id,s={currentPage:o,pageSize:n};this.props.search?(s.type="actorAndMedias",s.keyword=this.props.keyword):s.id=a,i&&i(s,(0,p.reqHeader)(s),e,function(e,r){r.code===E.default.CODE_OFF_LINE&&t.setState({offLine:!0,loading:!1})})}}},{key:"refreshPage",value:function(e){var t=this;this.setState({currentPage:1,pageData:[],lastPage:!1,loading:!0,scrollTarget:null,scrollIng:!1,scrollToTop:!1});var r=this.state,o=r.pageSize,n=r.queryFun,i=r.id,a={currentPage:1,pageSize:o};this.props.search?(a.type="actorAndMedias",a.keyword=this.props.keyword):a.id=i,n&&n(a,(0,p.reqHeader)(a),e,function(e,r){r.code===E.default.CODE_OFF_LINE&&t.setState({offLine:!0,loading:!1})})}},{key:"onScroll",value:function(e){if(e.target.classList&&e.target.classList.contains("common-song-list")){this.state.scrollTarget=e.target;var t=e.target.scrollHeight-(e.target.scrollTop+e.target.clientHeight);!this.state.loading&&t<50&&this.loadMoreAction(),e.target.scrollTop>E.default.NEED_SCROLL_TOP_HEIGHT?this.setState({needScrollToTop:!0}):this.setState({needScrollToTop:!1})}}},{key:"scrollTo",value:function(e){var t=this.state||{scrollTo:function(e){return e}},r=t.scrollTarget;r.scrollTop=e,setTimeout(function(){r.scrollTop=e},100)}}]),SongList}(d.default);x.defaultProps={singerId:0,catId:0,hotId:0,recommendId:0,search:!1},x.propTypes={singerId:h.default.number,catId:h.default.number,hotId:h.default.number,recommendId:h.default.number,keyword:h.default.string,search:h.default.bool,onPushSongSuccess:h.default.func,onPushSongFail:h.default.func,headImg:h.default.string};var D=function(e,t){return{songs:e.app.songs}},C=function(e,t){return{action_getActorsAlbum:(0,u.bindActionCreators)(v.getActorsAlbum,e),action_getCatSongList:(0,u.bindActionCreators)(v.getCatSongList,e),action_getRankAlbum:(0,u.bindActionCreators)(v.getRankAlbum,e),action_searchResult:(0,u.bindActionCreators)(S.search,e),action_getAlbumRecommendSongList:(0,u.bindActionCreators)(v.getAlbumRecommendSongList,e)}};t.default=(0,l.withRouter)((0,m.connect)(D,C)(x))},842:function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),n=_interopRequireDefault(o),i=r(23),a=_interopRequireDefault(i),s=r(20),l=_interopRequireDefault(s),u=function(e){return n.default.createElement(l.default,e,n.default.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}))};u=(0,a.default)(u),u.displayName="ContentClear",u.muiName="SvgIcon",t.default=u},874:function(e,t,r){var o,n,i,a=r(108),s=r(1061),l=r(300),u=r(174),c=r(39),h=c.process,f=c.setImmediate,d=c.clearImmediate,p=c.MessageChannel,m=0,g={},y=function(){var e=+this;if(g.hasOwnProperty(e)){var t=g[e];delete g[e],t()}},v=function(e){y.call(e.data)};f&&d||(f=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return g[++m]=function(){s("function"==typeof e?e:Function(e),t)},o(m),m},d=function(e){delete g[e]},"process"==r(109)(h)?o=function(e){h.nextTick(a(y,e,1))}:p?(n=new p,i=n.port2,n.port1.onmessage=v,o=a(i.postMessage,i,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(o=function(e){c.postMessage(e+"","*")},c.addEventListener("message",v,!1)):o="onreadystatechange"in u("script")?function(e){l.appendChild(u("script")).onreadystatechange=function(){l.removeChild(this),y.call(e)}}:function(e){setTimeout(a(y,e,1),0)}),e.exports={set:f,clear:d}},875:function(e,t,r){"use strict";function prefixStyle(e){return!1!==l&&(""===l?e:l+e.charAt(0).toUpperCase()+e.substr(1))}function addEvent(e,t,r,o){e.addEventListener(t,r,!!o)}function removeEvent(e,t,r,o){e.removeEventListener(t,r,!!o)}function momentum(e,t,r,o,n){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:6e-4,a=e-t,s=void 0,l=void 0,u=Math.abs(a)/r;return s=e+u*u/(2*i)*(a<0?-1:1),l=u/i,s<o?(s=n?o-n/2.5*(u/8):o,a=Math.abs(s-e),l=a/u):s>0&&(s=n?n/2.5*(u/8):0,a=Math.abs(e)+s,l=a/u),{destination:Math.round(s),duration:l}}function offset(e){for(var t=-e.offsetLeft,r=-e.offsetTop;e=e.offsetParent;)t-=e.offsetLeft,r-=e.offsetTop;return{left:t,top:r}}function preventDefaultException(e,t){for(var r in t)if(t[r].test(e[r]))return!0;return!1}Object.defineProperty(t,"__esModule",{value:!0});var o=r(54),n=function(e){return e&&e.__esModule?e:{default:e}}(o),i=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)},a=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||window.clearTimeout,s=document.createElement("div").style,l=function(){for(var e=["t","webkitT","MozT","msT","OT"],t=e.length,r=0;r<t;r++)if(e[r]+"ransform"in s)return e[r].substr(0,e[r].length-1);return!1}(),u=function(){var e=window.navigator.appVersion;if(/Android/.test(e)&&!/Chrome\/\d/.test(e)){var t=e.match(/Safari\/(\d+.\d)/);return!(t&&"object"===(void 0===t?"undefined":(0,n.default)(t))&&t.length>=2)||parseFloat(t[1])<535.19}return!1}(),c=prefixStyle("transform"),h=Date.now||function(){return(new Date).getTime()},f={transform:c,transitionTimingFunction:prefixStyle("transitionTimingFunction"),transitionDuration:prefixStyle("transitionDuration"),transitionDelay:prefixStyle("transitionDelay"),transformOrigin:prefixStyle("transformOrigin")},d={touchstart:1,touchmove:1,touchend:1},p={quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(e){return e*(2-e)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(e){return Math.sqrt(1- --e*e)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(e){return(e-=1)*e*(5*e+4)+1}},bounce:{style:"",fn:function(e){return(e/=1)<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}},elastic:{style:"",fn:function(e){return 0===e?0:1==e?1:.4*Math.pow(2,-10*e)*Math.sin((e-.055)*(2*Math.PI)/.22)+1}}},m={hasTransform:!1!==c,hasPerspective:prefixStyle("perspective")in s,hasTouch:"ontouchstart"in window,hasTransition:prefixStyle("transition")in s,prefixStyle:prefixStyle,addEvent:addEvent,removeEvent:removeEvent,getTime:h,style:f,isBadAndroid:u,offset:offset,momentum:momentum,preventDefaultException:preventDefaultException,eventType:d,ease:p,requestAnimationFrame:i,cancelAnimationFrame:a};t.default=m}});