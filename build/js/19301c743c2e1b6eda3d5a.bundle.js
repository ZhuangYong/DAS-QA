webpackJsonp([19],{739:function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),i=n(0),o=_interopRequireDefault(i),u=n(745),a=_interopRequireDefault(u),s=n(50),l=n(101),c=n(102),f=n(1),p=_interopRequireDefault(f),d=n(277),v=n(283),_={container:{width:document.documentElement.clientWidth||document.body.clientWidth,height:document.documentElement.clientHeight||document.body.clientHeight,background:"#000"},img:{position:"absolute",top:"20%",left:"10%",width:"80%",height:"auto"}},h=function(e){function Preview(e){_classCallCheck(this,Preview);var t=_possibleConstructorReturn(this,(Preview.__proto__||Object.getPrototypeOf(Preview)).call(this,e));return t.state={imgId:t.props.match.params.imgId,data:[]},t.updateList=t.updateList.bind(t),t}return _inherits(Preview,e),r(Preview,[{key:"componentDidUpdate",value:function(e){e.result.photoAlbumListStamp!==this.props.result.photoAlbumListStamp&&this.updateList()}},{key:"componentDidMount",value:function(){var e={};this.props.actions(e,(0,d.reqHeader)(e))}},{key:"render",value:function(){var e=this,t=this.state.data.filter(function(t){if(parseInt(t.id,10)===parseInt(e.state.imgId,10))return t}),n=t[0]||{imgUrl:""},r=n.imgUrl;return o.default.createElement("div",{style:_.container,onTouchTap:function(){(0,d.linkTo)("user/photoAlbum",!1,null)}},o.default.createElement("img",{src:r,style:_.img,alt:""}))}},{key:"updateList",value:function(){var e=this.props.result.photoAlbumList||{data:[]},t=e.data;this.setState({data:t})}}]),Preview}(a.default);h.defaultProps={result:{}},h.propTypes={result:p.default.object};var m=function(e,t){return{result:e.app.user.photoAlbum}},b=function(e,t){return{actions:(0,s.bindActionCreators)(v.getPhotoAlbumList,e)}};t.default=(0,c.withRouter)((0,l.connect)(m,b)(h))},745:function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),i=n(0),o=n(278),u=_interopRequireDefault(o),a=(n(102),n(101),n(19)),s=_interopRequireDefault(a),l=function(e){function BaseComponent(e){_classCallCheck(this,BaseComponent);var t=_possibleConstructorReturn(this,(BaseComponent.__proto__||Object.getPrototypeOf(BaseComponent)).call(this,e));return t.bindState.bind(t),t.title=t.title.bind(t),u.default.setHistory(t.props.history),t}return _inherits(BaseComponent,e),r(BaseComponent,[{key:"render",value:function(){return React.createElement("div",null)}},{key:"bindState",value:function(e){var t=this;return function(n){var r={};r[e]=n,t.setState(r)}}},{key:"title",value:function(e){document.title=e}},{key:"validUserStatus",value:function(e,t,n){var r=t||{},i=r.data,o=i||{},u=o.systemTime,a=o.timeStamp,l=this.isVip(e),c=this.isBindDevice(e),f=this.isFreeActivation(e);if("string"==typeof c)return n&&n(c),"正在获取用户信息";if(!1===c)return n&&n("",s.default.COMMON.ALERT_TYPE_BIND_DEVICE),!1;if(!0===c){if(!0===f)return n&&n("",s.default.COMMON.ALERT_TYPE_FREE_ACTIVE),!1;if(!1===f)return function(){return!(!u||!a)&&!(u-a>72e4)}()?!1!==l||(n&&n("",s.default.COMMON.ALERT_TYPE_BE_VIP),!1):(n&&n("",s.default.COMMON.ALERT_TYPE_DEVICE_NOT_ONLINE),!1)}}},{key:"validUserBindDevice",value:function(e,t){var n=this.isBindDevice(e);return"string"==typeof n?(t&&t("正在获取用户信息，请稍后重试！"),"正在获取用户信息"):!1===n?(t&&t("",s.default.COMMON.ALERT_TYPE_BIND_DEVICE),!1):!0===n||void 0}},{key:"validUserDeviceOnline",value:function(e,t){var n=e||{},r=n.data,i=r||{},o=i.systemTime,u=i.timeStamp;if(o&&u){return!!!(o-u>72e4)||(t&&t("",s.default.COMMON.ALERT_TYPE_DEVICE_NOT_ONLINE),!1)}return t&&t("",s.default.COMMON.ALERT_TYPE_DEVICE_NOT_ONLINE),!1}},{key:"isFreeActivation",value:function(e){var t=e||{},n=t.status,r=t.data;if(void 0!==n){return 1===r.isFreeActivation}return"正在获取用户信息"}},{key:"isBindDevice",value:function(e){var t=e||{},n=t.status,r=t.msg,i=t.data;if(void 0!==n){if(-100===n)return"请使用微信操作";if(1===n){var o=i.isReDevice;i.bindExpireTime;return 1===o}return r||"获取用户信息失败，请稍后重试！"}return"正在获取用户信息"}},{key:"isVip",value:function(e){var t=e||{},n=t.status,r=t.data;if(void 0!==n){var i=r.vipStatus,o=r.expireTime;return 1===i&&(new Date).getTime()<o}return"正在获取用户信息"}}]),BaseComponent}(i.Component);t.default=l}});