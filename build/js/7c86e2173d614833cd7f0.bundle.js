webpackJsonp([7],{1060:function(e,t,n){e.exports=n.p+"img/barrage/barrage.png?5efc482ebcefe8496e8f9a74a8916f3e"},1061:function(e,t,n){e.exports=n.p+"img/barrage/barrage_on.png?b16e4de2374d430c87c63a4e806b7eef"},1062:function(e,t,n){e.exports=n.p+"img/barrage/emotion.png?478e28a179c7ff9f84082a256d8d341d"},1063:function(e,t,n){e.exports=n.p+"img/barrage/emotion_on.png?446111469b48a4130e54a3243847d4d8"},747:function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},a=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),r=function get(e,t,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);if(void 0===i){var a=Object.getPrototypeOf(e);return null===a?void 0:get(a,t,n)}if("value"in i)return i.value;var r=i.get;if(void 0!==r)return r.call(n)},o=n(0),l=_interopRequireDefault(o),u=n(102),s=n(85),d=n(166),c=n(831),p=_interopRequireDefault(c),f=n(1060),h=_interopRequireDefault(f),g=n(1061),m=_interopRequireDefault(g),v=n(1062),b=_interopRequireDefault(v),y=n(1063),_=_interopRequireDefault(y),S=n(775),E=(_interopRequireDefault(S),n(766)),x=n(282),w=_interopRequireDefault(x),I=n(281),T=n(286),C=_interopRequireDefault(T),M=n(285),D=n(16),L=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(D),R=n(167),O=_interopRequireDefault(R),P=[{value:"女神，唱得太好了，请收下我的飞吻！"},{value:"秋名山上路人稀，常有麦霸较高低"},{value:"好冷，能给点激情吗？"},{value:"帅锅，我想做你的菜~~"},{value:"妹子，可否邀你共唱一曲...嘿嘿嘿"},{value:"女神女神我爱你，就像老鼠爱大米"},{value:"简直帅到无法形容。"},{value:"来，让我们嗨唱到天亮"},{value:"此音只应天上有，唱到迷人无处求。"},{value:"666~~~"},{value:"男神~唱得太好啦！我想和你一起唱"},{value:"一白遮百丑，一首顶两首。"},{value:"狮吼功重现江湖~快闪开"},{value:"欧巴~欧巴 请收下我的膝盖"},{value:"来来来，唱完这首还有三首。"},{value:"我的王妃，我要霸占你的美！"},{value:"女神再来一首，今天不醉不归"},{value:"老司机，带带我，带我卖萌带我飞。"},{value:"哇塞！唱得太好听了"},{value:"有麦必抢，唱成歌王。"}],A=[{id:1,name:"表情名字",url:"http://file.jmake.cp57.ott.cibntv.net/pic/5ff4726f5eed439f119a39920af02f65.png"},{id:2,name:"表情名字",url:"http://file.jmake.cp57.ott.cibntv.net/pic/10.png"},{id:3,name:"表情名字",url:"http://file.jmake.cp57.ott.cibntv.net/pic/184aa5baa96efcb430ede9c4dd2f23c0.png"},{id:4,name:"表情名字",url:"http://file.jmake.cp57.ott.cibntv.net/pic/1314.png"},{id:6,name:"表情名字",url:"http://file.jmake.cp57.ott.cibntv.net/pic/23123.png"},{id:7,name:"表情名字",url:"http://file.jmake.cp57.ott.cibntv.net/pic/31231.png"},{id:8,name:"表情名字",url:"http://file.jmake.cp57.ott.cibntv.net/pic/34234-342-.png"},{id:9,name:"表情名字",url:"http://file.jmake.cp57.ott.cibntv.net/pic/87931e5bdb.png"},{id:10,name:"表情名字",url:"http://file.jmake.cp57.ott.cibntv.net/pic/312321.png"},{id:11,name:"表情名字",url:"http://file.jmake.cp57.ott.cibntv.net/pic/324324.png"},{id:12,name:"表情名字",url:"http://file.jmake.cp57.ott.cibntv.net/pic/334344.png"},{id:13,name:"表情名字",url:"http://file.jmake.cp57.ott.cibntv.net/pic/3131231.png"},{id:14,name:"表情名字",url:"http://file.jmake.cp57.ott.cibntv.net/pic/123123131.png"},{id:15,name:"表情名字",url:"http://file.jmake.cp57.ott.cibntv.net/pic/WechatIMG6722.png"},{id:16,name:"表情名字",url:"http://file.jmake.cp57.ott.cibntv.net/pic/WechatIMG6724.png"},{id:17,name:"表情名字",url:"http://file.jmake.cp57.ott.cibntv.net/pic/WechatIMG6726.png"},{id:18,name:"表情名字",url:"http://file.jmake.cp57.ott.cibntv.net/pic/帅.png"},{id:19,name:"表情名字",url:"http://file.jmake.cp57.ott.cibntv.net/pic/喜欢.png"},{id:20,name:"表情名字",url:"http://file.jmake.cp57.ott.cibntv.net/pic/赞.png"},{id:21,name:"表情名字",url:"http://file.jmake.cp57.ott.cibntv.net/pic/组-1.png"},{id:22,name:"表情名字",url:"http://file.jmake.cp57.ott.cibntv.net/pic/组-2.png"},{id:23,name:"表情名字",url:"http://file.jmake.cp57.ott.cibntv.net/pic/组-3.png"},{id:24,name:"表情名字",url:"http://file.jmake.cp57.ott.cibntv.net/pic/组-4.png"}],k={tabs:{tab:{label:{display:"flex",justifyContent:"center",alignItems:"center",fontSize:".4rem",img:{marginRight:".32rem",width:".587rem"}}}},dots:{position:"absolute",width:"100%",display:"flex",justifyContent:"center",dot:{width:10,height:10,border:"1px solid",margin:5,borderRadius:5}},bottomPanel:{position:"fixed",width:"100%",height:"1.6rem",bottom:0,boxShadow:"0px -2px 3px 0px rgba(128, 128, 128, 0.48)",backgroundColor:"white",display:"flex",justifyContent:"center",alignItems:"center",submitButton:{display:"flex",justifyContent:"center",alignItems:"center",color:"#999999",backgroundColor:"#d7d7d7",width:"5.333rem",height:"1.067rem",fontSize:".45rem",borderRadius:"1.067rem"},submitButtonOn:{display:"flex",justifyContent:"center",alignItems:"center",width:"5.333rem",height:"1.067rem",fontSize:".45rem",color:"#ffffff",backgroundColor:"#ff6832",borderRadius:"1.067rem"}}},N=function(e){function Barrage(e){_classCallCheck(this,Barrage);var t=_possibleConstructorReturn(this,(Barrage.__proto__||Object.getPrototypeOf(Barrage)).call(this,e));return r(Barrage.prototype.__proto__||Object.getPrototypeOf(Barrage.prototype),"title",t).call(t,"弹幕"),t.state={tabIndex:0,inputIng:!1,emotionPage:0,inputValue:"",inputImage:"",sendBarrageIng:!1,barrageSendToast:!1,barrageToastMsg:"发送成功"},t.onBlur=t.onBlur.bind(t),t.onFocus=t.onFocus.bind(t),t.getSendButton=t.getSendButton.bind(t),t.chooseEmotion=t.chooseEmotion.bind(t),t.chooseFastWord=t.chooseFastWord.bind(t),t.handelChangeTab=t.handelChangeTab.bind(t),t.sendBarrage=t.sendBarrage.bind(t),t.handelChangeEmotionPage=t.handelChangeEmotionPage.bind(t),t.blurSearchInput=t.blurSearchInput.bind(t),t.handelResize=t.handelResize.bind(t),t.handelInputBlur=t.handelInputBlur.bind(t),t}return _inherits(Barrage,e),a(Barrage,[{key:"componentDidMount",value:function(){document.addEventListener("touchstart",this.handelInputBlur),window.addEventListener("resize",this.handelResize)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("touchstart",this.handelInputBlur),window.removeEventListener("resize",this.handelResize)}},{key:"render",value:function(){var e=this,t=this.state,n=t.inputValue,a=t.inputImage,r=this.props.common,o=(r.w,r.h),u=r.r,s=(0,I.chkDevice)(),c=s.isAndroid,f=["#d7d7d7","#d7d7d7"];f[this.state.tabIndex]="#ff6833";var g=[h.default,b.default],v=[m.default,_.default];g[this.state.tabIndex]=v[this.state.tabIndex];var y=(!window.sysInfo.isAndroid||this.state.inputIng,.3*o),S=.7*o-1.6*u-1.2*u;return l.default.createElement("div",null,l.default.createElement("div",{style:{position:"relative",backgroundColor:"white",textAlign:"center",height:y,overflow:"hidden"},onTouchTap:function(){a&&e.setState({inputImage:""})}},a?l.default.createElement("img",{src:a,alt:"",style:{height:"90%",maxWidth:"100%"}}):l.default.createElement(d.TextField,{className:"barrage-input",ref:"input",hintText:"说点儿什么...",hintStyle:{top:0,padding:".3rem .6rem"},textareaStyle:{width:"94%"},multiLine:!0,rows:10,rowsMax:10,fullWidth:!0,value:n,onFocus:this.onFocus,onBlur:this.onBlur,onChange:this.handelChange.bind(this)}),l.default.createElement(d.Snackbar,{style:{position:"absolute"},open:this.state.barrageSendToast,message:this.state.barrageToastMsg,autoHideDuration:O.default.TOAST_BOTTOM_SHOW_TIME,onRequestClose:function(){e.setState({barrageSendToast:!1})}})),l.default.createElement(d.Tabs,{tabItemContainerStyle:{display:"flex !important",height:"1.2rem",backgroundColor:"#d7d7d7"},contentContainerStyle:{position:c&&this.state.inputIng?"":"absolute",bottom:c&&this.state.inputIng?0:"1.6rem",height:S,width:"100%",overflow:"auto",zIndex:-1}},l.default.createElement(d.Tab,{buttonStyle:{flexDirection:"row",height:"1.2rem",backgroundColor:f[0]},onActive:function(){e.handelChangeTab(0)},label:l.default.createElement("div",{style:i({},k.tabs.tab.label,{color:0===this.state.tabIndex?"white":"#9a9a9a"})},l.default.createElement("img",{src:g[0],style:k.tabs.tab.label.img}),"快速弹幕")},this.getFastWord()),l.default.createElement(d.Tab,{buttonStyle:{flexDirection:"row",height:"1.2rem",backgroundColor:f[1]},onActive:function(){e.handelChangeTab(1)},label:l.default.createElement("div",{style:i({},k.tabs.tab.label,{color:1===this.state.tabIndex?"white":"#9a9a9a"})},l.default.createElement("img",{src:g[1],style:k.tabs.tab.label.img}),"表情")},l.default.createElement(p.default,{onChangeIndex:function(t){e.handelChangeEmotionPage(t)}},this.getEmotion()),this.getEmotionDots())),!this.state.inputIng&&c||!c?l.default.createElement("div",{style:k.bottomPanel},this.getSendButton()):"")}},{key:"getEmotion",value:function(){for(var e=this,t=[],n=this.props.common,i=(n.w,n.h),a=n.r,r=.7*i-1.6*a-1.2*a,o=.4*r,u=A.length%6==0?A.length/6:(A.length-A.length%6)/6+1,s=0;s<u;s++)!function(n){t.push(l.default.createElement("div",{key:"emotion_group_"+n,style:{display:"flex",flexWrap:"wrap",padding:"8px 4px"}},A.map(function(t,i){var a=(t.id,t.name,t.url);if(i>=6*n&&i<6*(n+1))return l.default.createElement("span",{key:i,onTouchTap:function(){e.chooseEmotion(a)},style:{width:"33.33%",display:"flex",height:o,overflow:"hidden",justifyContent:"center",alignItems:"center"}},l.default.createElement("img",{src:a,alt:"",style:{maxWidth:"90%",maxHeight:"100%"}}))})))}(s);return t}},{key:"getEmotionDots",value:function(){for(var e=[],t=0,n=this.state.emotionPage,a=A.length%6==0?A.length/6:(A.length-A.length%6)/6+1;t<a;)e.push(l.default.createElement("i",{key:t,style:i({},k.dots.dot,{borderColor:n===t?"#ff6833":"#d7d7d7"})})),t++;return l.default.createElement("div",{style:k.dots},e)}},{key:"getFastWord",value:function(){var e=this;return l.default.createElement(d.List,null,P.map(function(t,n){return l.default.createElement(d.ListItem,{key:n,innerDivStyle:{padding:".4rem"},primaryText:l.default.createElement("font",{style:{fontSize:".4rem"}},t.value),onTouchTap:function(){e.chooseFastWord(t.value)}})}))}},{key:"getSendButton",value:function(){var e=this,t=this.state,n=t.inputValue,i=t.inputImage,a=t.sendBarrageIng;return n||i?a?l.default.createElement("div",{style:k.bottomPanel.submitButtonOn},l.default.createElement(d.CircularProgress,{size:20,thickness:1,color:"white",style:{right:6}}),l.default.createElement("font",null,"发送中")):l.default.createElement("div",{style:k.bottomPanel.submitButtonOn,onClick:function(){e.sendBarrage()}},"发送"):l.default.createElement("div",{style:k.bottomPanel.submitButton},"发送")}},{key:"chooseEmotion",value:function(e){this.state.sendBarrageIng||this.setState({inputImage:e,inputValue:""})}},{key:"chooseFastWord",value:function(e){this.state.sendBarrageIng||this.setState({inputImage:"",inputValue:e})}},{key:"handelChangeTab",value:function(e){this.setState({tabIndex:e})}},{key:"handelChangeEmotionPage",value:function(e){this.setState({emotionPage:e})}},{key:"sendBarrage",value:function(){var e=this,t="";if(!0===r(Barrage.prototype.__proto__||Object.getPrototypeOf(Barrage.prototype),"validUserBindDevice",this).call(this,this.props.userInfoData,this.props.action_setGlobAlert)&&!0===r(Barrage.prototype.__proto__||Object.getPrototypeOf(Barrage.prototype),"validUserDeviceOnline",this).call(this,this.props.ottInfo,this.props.action_setGlobAlert)){var n=this.state,i=n.inputValue,a=n.inputImage,o=this.props.userInfo.userInfoData||{data:{}},l=o.data;if(i&&(t="txt"),a&&(t="img"),t){var u={type:14,id:JSON.stringify({model:"danmu",danmu:{type:t,data:{avatar:l.headerImg,content:i||a}}})};this.setState({sendBarrageIng:!0});var s=function(){e.setState({inputImage:"",inputValue:"",sendBarrageIng:!1}),e.props.action_setGlobAlert("发送成功","")},d=function(t){e.setState({sendBarrageIng:!1}),e.props.action_setGlobAlert(t,"")};(0,I.dynaPush)({ottInfo:this.props.ottInfo,userInfo:this.props.userInfo,param:u,localNetIsWork:this.props.localNetIsWork,action_pushLocal:this.props.action_pushLocal,action_setLocalNet:this.props.action_setLocalNet,action_push:this.props.action_push,action_setGlobAlert:this.props.action_setGlobAlert,success:s,fail:d})}}}},{key:"handelChange",value:function(e,t){t=t.trim()||"",t.length>=50&&(this.setState({barrageSendToast:!0,barrageToastMsg:"最多只能输入50个字符"}),t=t.substr(0,50)),this.setState({inputValue:t})}},{key:"onFocus",value:function(){var e=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;this.setState({focusHeight:e,inputIng:!0})}},{key:"onBlur",value:function(){var e=this;setTimeout(function(){e.setState({inputIng:!1})},300)}},{key:"handelResize",value:function(){var e=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;e>this.state.focusHeight&&this.blurSearchInput(),this.setState({focusHeight:e})}},{key:"handelInputBlur",value:function(e){var t=L.findDOMNode(this.refs.input);t&&!t.contains(e.target)&&this.blurSearchInput()}},{key:"blurSearchInput",value:function(){this.refs.input.input.refs.input.blur()}}]),Barrage}(w.default),j=function(e,t){return{userInfo:e.app.user.userInfo,common:e.app.common,userInfoData:e.app.user.userInfo.userInfoData,ottInfo:e.app.device.ottInfo,localNetIsWork:e.app.common.localNetIsWork}},B=function(e,t){return{action_push:(0,C.default)(E.push,e),action_setGlobAlert:(0,C.default)(M.setGlobAlert,e),action_pushLocal:(0,C.default)(E.pushLocal,e),action_setLocalNet:(0,C.default)(M.setLocalNet,e)}};t.default=(0,u.withRouter)((0,s.connect)(j,B)(N))},766:function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function getShareAudio(e,t){var n=s.default.apiDomain+l.default.API_QUERY_USER_SOUND;return function(i){(0,r.comFetch)(i,e,{url:n,headers:t,action:a.default.AUDIO.API_GET_SHARE_AUDIO},null)}}function getRecommend(e,t,n,i){var o=s.default.apiDomain+l.default.API_QUERY_ALBUM;return function(l){(0,r.comFetch)(l,e,{url:o,headers:t,action:a.default.SONG.API_GET_RECOMMEND},n,i)}}function push(e,t,n,i){var o=s.default.apiDomain+l.default.API_PUSH;return function(l){(0,r.comFetch)(l,e,{url:o,headers:t,action:a.default.SONG.API_PUSH},n,i)}}function pushLocal(e,t,n,i,o){var u=e+l.default.API_PUSH;return function(e){(0,r.comFetch)(e,t,{url:u,type:"get",headers:n,timeout:3e3,action:a.default.SONG.API_PUSH},i,o)}}function getChooseList(e,t,n,i){var o=s.default.apiDomain+l.default.API_CHOOSE_LIST;return function(l){(0,r.comFetch)(l,e,{url:o,headers:t,action:a.default.SONG.API_CHOOSE_LIST},n,i)}}function getHistorySongList(e,t){var n=s.default.apiDomain+l.default.API_CHOOSE_LIST;return function(i){(0,r.comFetch)(i,e,{url:n,headers:t,action:a.default.SONG.API_CHOOSE_HISTORY_LIST},null)}}function setSongTop(e,t,n){var i=s.default.apiDomain+l.default.API_SET_SONG_TOP;return function(o){(0,r.comFetch)(o,e,{url:i,headers:t,action:a.default.SONG.API_SET_SONG_TOP},n)}}function getSingerCategoryAlbum(e,t,n,i){var o=s.default.apiDomain+l.default.API_GET_SINGER_CATEGORY_ALBUM;return function(l){(0,r.comFetch)(l,e,{url:o,headers:t,action:a.default.SONG.API_GET_SINGER_CATEGORY_ALBUM},n,i)}}function getActorsAlbum(e,t,n,i){var o=s.default.apiDomain+l.default.API_GET_ACTORS_ALBUM;return function(l){(0,r.comFetch)(l,e,{url:o,headers:t,action:a.default.SONG.API_GET_ACTORS_ALBUM},n,i)}}function getCatAlbum(e,t,n){var i=s.default.apiDomain+l.default.API_GET_CAT_ALBUM;return function(o){(0,r.comFetch)(o,e,{url:i,headers:t,action:a.default.SONG.API_GET_CAT_ALBUM},n)}}function getCatSongList(e,t,n,i){var o=s.default.apiDomain+l.default.API_GET_CAT_ALBUM;return function(l){(0,r.comFetch)(l,e,{url:o,headers:t,action:a.default.SONG.API_GET_CAT_SONG_LIST},n,i)}}function getRankAlbum(e,t,n,i){var o=s.default.apiDomain+l.default.API_QUERY_ALBUM;return function(l){(0,r.comFetch)(l,e,{url:o,headers:t,action:a.default.SONG.API_GET_RANK_ALBUM},n,i)}}function getAlbumRecommend(e,t,n){var i=s.default.apiDomain+l.default.API_QUERY_ALBUM_RECOMMEND;return function(o){(0,r.comFetch)(o,e,{url:i,headers:t,action:a.default.SONG.API_QUERY_ALBUM_RECOMMEND},n)}}function getAlbumRecommendSongList(e,t,n,i){var o=s.default.apiDomain+l.default.API_QUERY_ALBUM_RECOMMEND;return function(l){(0,r.comFetch)(l,e,{url:o,headers:t,action:a.default.SONG.API_QUERY_ALBUM_RECOMMEND_SONG_LIST},n,i)}}function getRanking(e,t,n){var i=s.default.apiDomain+l.default.API_QUERY_ALBUM;return function(o){(0,r.comFetch)(o,e,{url:i,headers:t,action:a.default.SONG.API_QUERY_RANKING},n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.getShareAudio=getShareAudio,t.getRecommend=getRecommend,t.push=push,t.pushLocal=pushLocal,t.getChooseList=getChooseList,t.getHistorySongList=getHistorySongList,t.setSongTop=setSongTop,t.getSingerCategoryAlbum=getSingerCategoryAlbum,t.getActorsAlbum=getActorsAlbum,t.getCatAlbum=getCatAlbum,t.getCatSongList=getCatSongList,t.getRankAlbum=getRankAlbum,t.getAlbumRecommend=getAlbumRecommend,t.getAlbumRecommendSongList=getAlbumRecommendSongList,t.getRanking=getRanking;var i=n(18),a=_interopRequireDefault(i),r=n(21),o=n(103),l=_interopRequireDefault(o),u=n(70),s=_interopRequireDefault(u)},775:function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _objectWithoutProperties(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},a=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),r=n(71),o=_interopRequireDefault(r),l=n(0),u=_interopRequireDefault(l),s=n(1),d=_interopRequireDefault(s),c=n(281),p={position:"absolute",top:"66px"},f=function(e){function Input(e){_classCallCheck(this,Input);var t=_possibleConstructorReturn(this,(Input.__proto__||Object.getPrototypeOf(Input)).call(this,e));return t.state={hash:(0,c.getRandomString)(24),value:"",errorText:"",trim:t.props.trim||!1,trimStart:t.props.trimStart||!1},t.handelValidate.bind(t),t}return _inherits(Input,e),a(Input,[{key:"componentDidMount",value:function(){var e=this.props.doValidate;e&&e(this.handelValidate.bind(this),this.state.hash)}},{key:"render",value:function(){var e=this.props,t=(e.onChange,e.errorStyle,e.errorText,e.minLength,e.maxLength,e.bindState,e.validate,e.doValidate,e.trim,e.trimStart,_objectWithoutProperties(e,["onChange","errorStyle","errorText","minLength","maxLength","bindState","validate","doValidate","trim","trimStart"]));return u.default.createElement(o.default,i({ref:"input",errorStyle:p,errorText:this.state.errorText,onChange:this.handelChange.bind(this)},t))}},{key:"handelChange",value:function(e,t){this.state.trim&&(t=t.trim()),this.state.trimStart&&(t=t.replace(/^( )*/g,"")),this.setState({value:t}),this.handelValidate(t);var n=this.props.bindState;n&&n(t)}},{key:"handelValidate",value:function(e){e=e||this.state.value;var t="",n=this.props.validate,i=this.props.minLength,a=this.props.maxLength;if("string"==typeof e&&(i&&e.length<i&&(t="长度不能小于"+i),a&&e.length>a&&(t="长度不能大于"+a)),!t&&"string"==typeof n)switch(n){case"account":/^[a-zA-z]\w{3,15}$/.test(e)||(t=this.props.errorText)}return this.setState({errorText:t}),t}}]),Input}(u.default.Component);t.default=f,f.propTypes={minLength:d.default.number,maxLength:d.default.number,errorStyle:d.default.object,validate:d.default.any,bindState:d.default.func,doValidate:d.default.func}},798:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=!("undefined"==typeof window||!window.document||!window.document.createElement),e.exports=t.default},803:function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(836);Object.defineProperty(t,"checkIndexBounds",{enumerable:!0,get:function(){return _interopRequireDefault(i).default}});var a=n(837);Object.defineProperty(t,"computeIndex",{enumerable:!0,get:function(){return _interopRequireDefault(a).default}});var r=n(806);Object.defineProperty(t,"constant",{enumerable:!0,get:function(){return _interopRequireDefault(r).default}});var o=n(838);Object.defineProperty(t,"getDisplaySameSlide",{enumerable:!0,get:function(){return _interopRequireDefault(o).default}});var l=n(839);Object.defineProperty(t,"mod",{enumerable:!0,get:function(){return _interopRequireDefault(l).default}})},806:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={RESISTANCE_COEF:.6,UNCERTAINTY_THRESHOLD:3}},831:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(832),a=function(e){return e&&e.__esModule?e:{default:e}}(i);t.default=a.default},832:function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function addEventListenerEnhanced(e,t,n,i){return(0,C.default)(e,t,n,i),{remove:function(){(0,D.default)(e,t,n,i)}}}function injectStyle(){if(!R){var e=document.createElement("style");e.innerHTML="\n      .react-swipeable-view-container {\n        display: -webkit-box;\n      }\n    ",document.body&&document.body.appendChild(e),R=!0}}function createTransition(e,t){return e+" "+t.duration+" "+t.easeFunction+" "+t.delay}function applyRotationMatrix(e,t){var n=P.rotationMatrix[t];return{pageX:n.x[0]*e.pageX+n.x[1]*e.pageY,pageY:n.y[0]*e.pageX+n.y[1]*e.pageY}}function adaptMouse(e){return e.touches=[{pageX:e.pageX,pageY:e.pageY}],e}function getDomTreeShapes(e,t){for(var n=[];e&&e!==t&&!e.hasAttribute("data-swipeable");){var i=window.getComputedStyle(e);"absolute"===i.getPropertyValue("position")||"hidden"===i.getPropertyValue("overflow-x")?n=[]:(e.clientWidth>0&&e.scrollWidth>e.clientWidth||e.clientHeight>0&&e.scrollHeight>e.clientHeight)&&n.push({element:e,scrollWidth:e.scrollWidth,scrollHeight:e.scrollHeight,clientWidth:e.clientWidth,clientHeight:e.clientHeight,scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}),e=e.parentNode}return n}function findNativeHandler(e){var t=e.domTreeShapes,n=e.pageX,i=e.startX,a=e.axis;return t.some(function(e){var t=n>=i;"x"!==a&&"y"!==a||(t=!t);var r=e[P.scrollPosition[a]],o=r>0,l=r+e[P.clientLength[a]]<e[P.scrollLength[a]];return!!(t&&l||!t&&o)&&(A=e.element,!0)})}Object.defineProperty(t,"__esModule",{value:!0});var i=n(8),a=_interopRequireDefault(i),r=n(171),o=_interopRequireDefault(r),l=n(9),u=_interopRequireDefault(l),s=n(6),d=_interopRequireDefault(s),c=n(2),p=_interopRequireDefault(c),f=n(3),h=_interopRequireDefault(f),g=n(4),m=_interopRequireDefault(g),v=n(5),b=_interopRequireDefault(v);t.getDomTreeShapes=getDomTreeShapes,t.findNativeHandler=findNativeHandler;var y=n(0),_=_interopRequireDefault(y),S=n(1),E=_interopRequireDefault(S),x=n(15),w=(_interopRequireDefault(x),n(833)),I=_interopRequireDefault(w),T=n(834),C=_interopRequireDefault(T),M=n(835),D=_interopRequireDefault(M),L=n(803),R=!1,O={container:{direction:"ltr",display:"flex"},slide:{width:"100%",WebkitFlexShrink:0,flexShrink:0,overflow:"auto"}},P={root:{x:{overflowX:"hidden"},"x-reverse":{overflowX:"hidden"},y:{overflowY:"hidden"},"y-reverse":{overflowY:"hidden"}},flexDirection:{x:"row","x-reverse":"row-reverse",y:"column","y-reverse":"column-reverse"},transform:{x:function(e){return"translate("+-e+"%, 0)"},"x-reverse":function(e){return"translate("+e+"%, 0)"},y:function(e){return"translate(0, "+-e+"%)"},"y-reverse":function(e){return"translate(0, "+e+"%)"}},length:{x:"width","x-reverse":"width",y:"height","y-reverse":"height"},rotationMatrix:{x:{x:[1,0],y:[0,1]},"x-reverse":{x:[-1,0],y:[0,1]},y:{x:[0,1],y:[1,0]},"y-reverse":{x:[0,-1],y:[1,0]}},scrollPosition:{x:"scrollLeft","x-reverse":"scrollLeft",y:"scrollTop","y-reverse":"scrollTop"},scrollLength:{x:"scrollWidth","x-reverse":"scrollWidth",y:"scrollHeight","y-reverse":"scrollHeight"},clientLength:{x:"clientWidth","x-reverse":"clientWidth",y:"clientHeight","y-reverse":"clientHeight"}},A=null,k=function(e){function SwipeableViews(){var e,t,n,i;(0,p.default)(this,SwipeableViews);for(var a=arguments.length,r=Array(a),o=0;o<a;o++)r[o]=arguments[o];return t=n=(0,m.default)(this,(e=SwipeableViews.__proto__||(0,d.default)(SwipeableViews)).call.apply(e,[this].concat(r))),n.state={},n.rootNode=null,n.containerNode=null,n.ignoreNextScrollEvents=!1,n.viewLength=0,n.startX=0,n.lastX=0,n.vx=0,n.startY=0,n.isSwiping=void 0,n.started=!1,n.startIndex=0,n.transitionListener=null,n.touchMoveListener=null,n.activeSlide=null,n.handleSwipeStart=function(e){var t=n.props.axis;if(null!==n.rootNode){var i=applyRotationMatrix(e.touches[0],t);n.viewLength=n.rootNode.getBoundingClientRect()[P.length[t]],n.startX=i.pageX,n.lastX=i.pageX,n.vx=0,n.startY=i.pageY,n.isSwiping=void 0,n.started=!0;var a=window.getComputedStyle(n.containerNode),r=a.getPropertyValue("-webkit-transform")||a.getPropertyValue("transform");if(r){var o=r.split("(")[1].split(")")[0].split(","),l=window.getComputedStyle(n.rootNode),u=applyRotationMatrix({pageX:parseInt(o[4],10),pageY:parseInt(o[5],10)},t);n.startIndex=-u.pageX/(n.viewLength-parseInt(l.paddingLeft,10)-parseInt(l.paddingRight,10))}}},n.handleSwipeMove=function(e){if(!n.started)return void n.handleTouchStart(e);if(null!==n.rootNode&&(null===A||A===n.rootNode)){var t=n.props,i=t.axis,a=t.children,r=t.ignoreNativeScroll,o=t.onSwitching,l=t.resistance,u=applyRotationMatrix(e.touches[0],i);if(void 0===n.isSwiping){var s=Math.abs(n.startX-u.pageX),d=Math.abs(n.startY-u.pageY),c=s>d&&s>L.constant.UNCERTAINTY_THRESHOLD;if(s>d&&e.preventDefault(),!0===c||d>L.constant.UNCERTAINTY_THRESHOLD)return n.isSwiping=c,void(n.startX=u.pageX)}if(!0===n.isSwiping){e.preventDefault(),n.vx=.5*n.vx+.5*(u.pageX-n.lastX),n.lastX=u.pageX;var p=(0,L.computeIndex)({children:a,resistance:l,pageX:u.pageX,startIndex:n.startIndex,startX:n.startX,viewLength:n.viewLength}),f=p.index,h=p.startX;if(null===A&&!r){if(findNativeHandler({domTreeShapes:getDomTreeShapes(e.target,n.rootNode),startX:n.startX,pageX:u.pageX,axis:i}))return}h?n.startX=h:null===A&&(A=n.rootNode),n.setState({displaySameSlide:!1,isDragging:!0,indexCurrent:f},function(){o&&o(f,"move")})}}},n.handleSwipeEnd=function(){if(A=null,n.started&&(n.started=!1,!0===n.isSwiping)){var e=n.state.indexLatest,t=n.state.indexCurrent,i=e-t,a=void 0;a=Math.abs(n.vx)>n.props.threshold?n.vx>0?Math.floor(t):Math.ceil(t):Math.abs(i)>n.props.hysteresis?i>0?Math.floor(t):Math.ceil(t):e;var r=y.Children.count(n.props.children)-1;a<0?a=0:a>r&&(a=r),n.setState({indexCurrent:a,indexLatest:a,isDragging:!1},function(){n.props.onSwitching&&n.props.onSwitching(a,"end"),n.props.onChangeIndex&&a!==e&&n.props.onChangeIndex(a,e),t===e&&n.handleTransitionEnd()})}},n.handleTouchStart=function(e){n.props.onTouchStart&&n.props.onTouchStart(e),n.handleSwipeStart(e)},n.handleTouchEnd=function(e){n.props.onTouchEnd&&n.props.onTouchEnd(e),n.handleSwipeEnd(e)},n.handleMouseDown=function(e){n.props.onMouseDown&&n.props.onMouseDown(e),e.persist(),n.handleSwipeStart(adaptMouse(e))},n.handleMouseUp=function(e){n.props.onMouseUp&&n.props.onMouseUp(e),n.handleSwipeEnd(adaptMouse(e))},n.handleMouseLeave=function(e){n.props.onMouseLeave&&n.props.onMouseLeave(e),n.started&&n.handleSwipeEnd(adaptMouse(e))},n.handleMouseMove=function(e){n.props.onMouseMove&&n.props.onMouseMove(e),n.started&&n.handleSwipeMove(adaptMouse(e))},n.handleScroll=function(e){if(n.props.onScroll&&n.props.onScroll(e),e.target===n.rootNode){if(n.ignoreNextScrollEvents)return void(n.ignoreNextScrollEvents=!1);var t=n.state.indexLatest,i=Math.ceil(e.target.scrollLeft/e.target.clientWidth)+t;n.ignoreNextScrollEvents=!0,e.target.scrollLeft=0,n.props.onChangeIndex&&i!==t&&n.props.onChangeIndex(i,t)}},i=t,(0,m.default)(n,i)}return(0,b.default)(SwipeableViews,e),(0,h.default)(SwipeableViews,[{key:"getChildContext",value:function(){var e=this;return{swipeableViews:{slideUpdateHeight:function(){e.updateHeight()}}}}},{key:"componentWillMount",value:function(){this.setState({indexCurrent:this.props.index,indexLatest:this.props.index,isDragging:!1,isFirstRender:!this.props.disableLazyLoading,heightLatest:0})}},{key:"componentDidMount",value:function(){var e=this;this.transitionListener=addEventListenerEnhanced(this.containerNode,I.default.end,function(t){t.target===e.containerNode&&e.handleTransitionEnd()}),this.touchMoveListener=addEventListenerEnhanced(this.rootNode,"touchmove",function(t){e.props.disabled||e.handleSwipeMove(t)},{passive:!1}),this.setState({isFirstRender:!1}),injectStyle()}},{key:"componentWillReceiveProps",value:function(e){var t=e.index;"number"==typeof t&&t!==this.props.index&&this.setState({displaySameSlide:(0,L.getDisplaySameSlide)(this.props,e),indexCurrent:t,indexLatest:t})}},{key:"componentDidUpdate",value:function(e,t){this.props.animateTransitions||t.indexCurrent===this.state.indexCurrent||this.handleTransitionEnd()}},{key:"componentWillUnmount",value:function(){this.transitionListener.remove(),this.touchMoveListener.remove()}},{key:"handleTransitionEnd",value:function(){this.props.onTransitionEnd&&(this.state.displaySameSlide||this.state.isDragging||this.props.onTransitionEnd())}},{key:"updateHeight",value:function(){if(null!==this.activeSlide){var e=this.activeSlide.children[0];void 0!==e&&void 0!==e.offsetHeight&&this.state.heightLatest!==e.offsetHeight&&this.setState({heightLatest:e.offsetHeight})}}},{key:"render",value:function(){var e=this,t=this.props,n=t.animateHeight,i=t.animateTransitions,r=t.axis,l=t.children,s=t.containerStyle,d=t.disabled,c=(t.disableLazyLoading,t.enableMouseEvents),p=(t.hysteresis,t.ignoreNativeScroll,t.index,t.onChangeIndex,t.onSwitching,t.onTransitionEnd,t.resistance,t.slideStyle),f=t.slideClassName,h=t.springConfig,g=t.style,m=(t.threshold,(0,u.default)(t,["animateHeight","animateTransitions","axis","children","containerStyle","disabled","disableLazyLoading","enableMouseEvents","hysteresis","ignoreNativeScroll","index","onChangeIndex","onSwitching","onTransitionEnd","resistance","slideStyle","slideClassName","springConfig","style","threshold"])),v=this.state,b=v.displaySameSlide,S=v.heightLatest,E=v.indexCurrent,x=v.isDragging,w=v.isFirstRender,I=d?{}:{onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd},T=!d&&c?{onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onMouseLeave:this.handleMouseLeave,onMouseMove:this.handleMouseMove}:{},C=(0,o.default)({},O.slide,p),M=void 0,D=void 0;if(x||!i||b)M="all 0s ease 0s",D="all 0s ease 0s";else if(M=createTransition("transform",h),D=createTransition("-webkit-transform",h),0!==S){var L=", "+createTransition("height",h);M+=L,D+=L}var R=P.transform[r](100*E),A={WebkitTransform:R,transform:R,height:null,WebkitFlexDirection:P.flexDirection[r],flexDirection:P.flexDirection[r],WebkitTransition:D,transition:M};return n&&(A.height=S),_.default.createElement("div",(0,a.default)({ref:function(t){e.rootNode=t},style:(0,o.default)({},P.root[r],g)},m,I,T,{onScroll:this.handleScroll}),_.default.createElement("div",{ref:function(t){e.containerNode=t},style:(0,o.default)({},A,O.container,s),className:"react-swipeable-view-container"},y.Children.map(l,function(t,i){if(w&&i>0)return null;var a=void 0,r=!0;return i===e.state.indexLatest&&(r=!1,n&&(a=function(t){e.activeSlide=t,e.updateHeight()},C.overflowY="hidden")),_.default.createElement("div",{ref:a,style:C,className:f,"aria-hidden":r,"data-swipeable":"true"},t)})))}}]),SwipeableViews}(y.Component);k.displayName="ReactSwipableView",k.defaultProps={animateHeight:!1,animateTransitions:!0,axis:"x",disabled:!1,disableLazyLoading:!1,enableMouseEvents:!1,hysteresis:.6,ignoreNativeScroll:!1,index:0,threshold:5,springConfig:{duration:"0.35s",easeFunction:"cubic-bezier(0.15, 0.3, 0.25, 1)",delay:"0s"},resistance:!1},k.childContextTypes={swipeableViews:E.default.shape({slideUpdateHeight:E.default.func})},k.propTypes={},t.default=k},833:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.animationEnd=t.animationDelay=t.animationTiming=t.animationDuration=t.animationName=t.transitionEnd=t.transitionDuration=t.transitionDelay=t.transitionTiming=t.transitionProperty=t.transform=void 0;var i=n(798),a=function(e){return e&&e.__esModule?e:{default:e}}(i),r="transform",o=void 0,l=void 0,u=void 0,s=void 0,d=void 0,c=void 0,p=void 0,f=void 0,h=void 0,g=void 0,m=void 0;if(a.default){var v=function(){for(var e=document.createElement("div").style,t={O:function(e){return"o"+e.toLowerCase()},Moz:function(e){return e.toLowerCase()},Webkit:function(e){return"webkit"+e},ms:function(e){return"MS"+e}},n=Object.keys(t),i=void 0,a=void 0,r="",o=0;o<n.length;o++){var l=n[o];if(l+"TransitionProperty"in e){r="-"+l.toLowerCase(),i=t[l]("TransitionEnd"),a=t[l]("AnimationEnd");break}}return!i&&"transitionProperty"in e&&(i="transitionend"),!a&&"animationName"in e&&(a="animationend"),e=null,{animationEnd:a,transitionEnd:i,prefix:r}}();o=v.prefix,t.transitionEnd=l=v.transitionEnd,t.animationEnd=u=v.animationEnd,t.transform=r=o+"-"+r,t.transitionProperty=s=o+"-transition-property",t.transitionDuration=d=o+"-transition-duration",t.transitionDelay=p=o+"-transition-delay",t.transitionTiming=c=o+"-transition-timing-function",t.animationName=f=o+"-animation-name",t.animationDuration=h=o+"-animation-duration",t.animationTiming=g=o+"-animation-delay",t.animationDelay=m=o+"-animation-timing-function"}t.transform=r,t.transitionProperty=s,t.transitionTiming=c,t.transitionDelay=p,t.transitionDuration=d,t.transitionEnd=l,t.animationName=f,t.animationDuration=h,t.animationTiming=g,t.animationDelay=m,t.animationEnd=u,t.default={transform:r,end:l,property:s,timing:c,delay:p,duration:d}},834:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(798),a=function(e){return e&&e.__esModule?e:{default:e}}(i),r=function(){};a.default&&(r=function(){return document.addEventListener?function(e,t,n,i){return e.addEventListener(t,n,i||!1)}:document.attachEvent?function(e,t,n){return e.attachEvent("on"+t,function(t){t=t||window.event,t.target=t.target||t.srcElement,t.currentTarget=e,n.call(e,t)})}:void 0}()),t.default=r,e.exports=t.default},835:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(798),a=function(e){return e&&e.__esModule?e:{default:e}}(i),r=function(){};a.default&&(r=function(){return document.addEventListener?function(e,t,n,i){return e.removeEventListener(t,n,i||!1)}:document.attachEvent?function(e,t,n){return e.detachEvent("on"+t,n)}:void 0}()),t.default=r,e.exports=t.default},836:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=n(15),r=(function(e){e&&e.__esModule}(a),function(e){var t=(e.index,e.children);i.Children.count(t)});t.default=r},837:function(e,t,n){"use strict";function computeIndex(e){var t=e.children,n=e.startIndex,a=e.startX,o=e.pageX,l=e.viewLength,u=e.resistance,s=i.Children.count(t)-1,d=n+(a-o)/l,c=void 0;return u?d<0?d=Math.exp(d*r.default.RESISTANCE_COEF)-1:d>s&&(d=s+1-Math.exp((s-d)*r.default.RESISTANCE_COEF)):d<0?(d=0,c=(d-n)*l+o):d>s&&(d=s,c=(d-n)*l+o),{index:d,startX:c}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=computeIndex;var i=n(0),a=n(806),r=function(e){return e&&e.__esModule?e:{default:e}}(a)},838:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e,t){var n=!1;if(e.children.length&&t.children.length){var i=e.children[e.index],a=i?i.key:"empty";if(null!==a){var r=t.children[t.index];a===(r?r.key:"empty")&&(n=!0)}}return n};t.default=i},839:function(e,t,n){"use strict";function mod(e,t){var n=e%t;return n<0?n+t:n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=mod}});