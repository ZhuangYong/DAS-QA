webpackJsonp([25],{776:function(e,t,l){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n])}return e},o=function(){function defineProperties(e,t){for(var l=0;l<t.length;l++){var n=t[l];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,l){return t&&defineProperties(e.prototype,t),l&&defineProperties(e,l),e}}(),a=function get(e,t,l){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var o=Object.getPrototypeOf(e);return null===o?void 0:get(o,t,l)}if("value"in n)return n.value;var a=n.get;if(void 0!==a)return a.call(l)},r=l(0),i=_interopRequireDefault(r),s=l(287),u=_interopRequireDefault(s),c=l(87),d=l(106),f=l(291),p=_interopRequireDefault(f),m=l(293),b=_interopRequireDefault(m),g=l(286),h=l(292),y=l(88),v=_interopRequireDefault(y),E=l(110),R=_interopRequireDefault(E),_=l(290),x={submitBtn:{display:"block",borderRadius:"50px",margin:"0 auto",width:"240px",height:"50px"},singleItem:{paddingLeft:(0,g.toRem)(20),paddingRight:(0,g.toRem)(20),width:"100%"},input:{width:"100%",height:(0,g.toRem)(110),textIndent:"10px",fontSize:(0,g.toRem)(36),border:"none",borderRadius:"4px",backgroundColor:"#f0f3f5",color:"#222"},tab:{display:"inline-block",marginRight:(0,g.toRem)(20),width:(0,g.toRem)(120),height:(0,g.toRem)(60),border:"1px solid",borderRadius:"5px",color:"#222",textAlign:"center",lineHeight:(0,g.toRem)(60),borderColor:"#dadada"},tabActive:{display:"inline-block",marginRight:(0,g.toRem)(20),width:(0,g.toRem)(120),height:(0,g.toRem)(60),border:"1px solid",borderRadius:"5px",textAlign:"center",lineHeight:(0,g.toRem)(60),color:"#ff6832",borderColor:"#ff6832"}},S=function(e){function InvoiceSubmit(e){_classCallCheck(this,InvoiceSubmit);var t=_possibleConstructorReturn(this,(InvoiceSubmit.__proto__||Object.getPrototypeOf(InvoiceSubmit)).call(this,e));return a(InvoiceSubmit.prototype.__proto__||Object.getPrototypeOf(InvoiceSubmit.prototype),"title",t).call(t,"开票"),t.state={totalMoney:t.props.match.params.totalMoney.replace("-","."),openDialog:!1,submitParams:{ids:t.props.match.params.ids.replace("-",","),gflx:"01",gfmc:"",gfsh:"",gfsj:""}},t.handleAction=t.handleAction.bind(t),t.handleClose=t.handleClose.bind(t),t}return _inherits(InvoiceSubmit,e),o(InvoiceSubmit,[{key:"render",value:function(){var e=this,t=this.state.totalMoney,l=this.state.submitParams,o=[i.default.createElement(v.default,{className:"cancel-button",label:"取消",primary:!0,onClick:this.handleClose}),i.default.createElement(v.default,{className:"sure-button",label:"确认提交",primary:!0,onClick:this.handleAction})];return i.default.createElement("div",{style:{fontSize:(0,g.toRem)(36),lineHeight:(0,g.toRem)(110),color:"#999"}},i.default.createElement("section",{style:x.singleItem},i.default.createElement("span",null,"发票类型: "),i.default.createElement("span",{style:{color:"#222"}},"增值税普通发票")),i.default.createElement("section",{style:n({},x.singleItem,{borderTop:"1px solid #d7d7d7"})},i.default.createElement("header",null,"*发票抬头"),i.default.createElement("div",null,i.default.createElement("span",{style:"01"===l.gflx?x.tabActive:x.tab,onClick:function(){l.gflx="01",e.setState({submitParams:l})}},"公司"),i.default.createElement("span",{style:"03"===l.gflx?x.tabActive:x.tab,onClick:function(){l.gflx="03",e.setState({submitParams:l})}},"个人")),i.default.createElement("input",{style:x.input,onChange:function(t){l.gfmc=t.target.value,e.setState({submitParams:l})},placeholder:"请输入发票抬头",type:"text"})),i.default.createElement("section",{style:n({},x.singleItem,{paddingBottom:(0,g.toRem)(20),borderBottom:"1px solid #d7d7d7"})},i.default.createElement("header",null,"*纳税人识别号"),i.default.createElement("input",{style:x.input,onChange:function(t){l.gfsh=t.target.value,e.setState({submitParams:l})},placeholder:"请输入纳税人识别号",type:"text"})),i.default.createElement("section",{style:x.singleItem},i.default.createElement("span",null,"发票金额: "),i.default.createElement("span",{style:{color:"#222"}},"¥",t)),i.default.createElement("section",{style:x.singleItem},i.default.createElement("span",null,"*收票人手机: "),i.default.createElement("input",{style:x.input,onChange:function(t){l.gfsj=t.target.value,e.setState({submitParams:l})},placeholder:"请输入收票手机号码",type:"text"})),i.default.createElement("div",{style:{width:"100%",height:"80px"}}),i.default.createElement("section",{style:{position:"fixed",bottom:0,left:0,width:"100%",backgroundColor:"#fff",padding:"10px 10px"}},i.default.createElement(b.default,{backgroundColor:"#ff8632",disabledBackgroundColor:"#ccc",disabled:!1,label:"提交",style:x.submitBtn,buttonStyle:x.submitBtn,labelStyle:{lineHeight:"50px",fontSize:"18px",color:"#fff"},onClick:function(){return l.gfmc.length<=0?void e.props.action_setGlobAlert("请输入发票抬头"):/^([A-Z\d]{15}|[A-Z\d]{18}|[A-Z\d]{20})$/.test(l.gfsh)?/^1[3|4|5|8][0-9]\d{4,8}$/.test(l.gfsj)?void e.setState({openDialog:!0}):void e.props.action_setGlobAlert("请输入正确的手机号"):void e.props.action_setGlobAlert("请输入正确的纳税人识别号")}})),i.default.createElement(R.default,{className:"dialog-panel dialog-orderSubmit",actionsContainerStyle:{borderTop:".01rem solid #e0e0e0",textAlign:"center"},contentStyle:{textAlign:"left"},actions:o,modal:!1,open:this.state.openDialog,onRequestClose:this.handleClose},i.default.createElement("ul",{style:{listStyle:"none",padding:0,margin:0,color:"#999",lineHeight:(0,g.toRem)(45)}},i.default.createElement("li",null,"抬头类型: ",i.default.createElement("span",{style:{color:"#212121"}},"03"===l.gflx?"个人":"公司")),i.default.createElement("li",null,"发票类型: ",i.default.createElement("span",{style:{color:"#212121"}},"增值税普通发票")),i.default.createElement("li",null,"发票抬头: ",i.default.createElement("span",{style:{color:"#212121"}},l.gfmc)),i.default.createElement("li",null,"纳税人识别号: ",i.default.createElement("span",{style:{color:"#212121"}},l.gfsh)),i.default.createElement("li",null,"电话: ",i.default.createElement("span",{style:{color:"#212121"}},l.gfsj)),i.default.createElement("li",{style:{fontSize:(0,g.toRem)(14)+" !important"}},"*提交后请到开票历史中查看开票进度"))))}},{key:"handleAction",value:function(){var e=this,t=this.state.submitParams;console.log(t),this.props.submitInvoiceAction(t,(0,g.reqHeader)(t),function(t){var l=t.status;1===parseInt(l,10)&&(e.setState({openDialog:!1}),(0,g.linkTo)("user/invoiceSubmitSuccess",!1,null))})}},{key:"handleClose",value:function(){this.setState({openDialog:!1})}}]),InvoiceSubmit}(u.default);S.defaultProps={},S.propTypes={};var C=function(e,t){return{result:e.app.user.orderForm}},A=function(e,t){return{action_setGlobAlert:(0,p.default)(_.setGlobAlert,e),submitInvoiceAction:(0,p.default)(h.submitInvoice,e)}};t.default=(0,d.withRouter)((0,c.connect)(C,A)(S))}});