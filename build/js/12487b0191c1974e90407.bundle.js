webpackJsonp([1],{1026:function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(0),n=_interopRequireDefault(i),s=r(50),a=r(101);r(757);var l=r(166),u=r(781),c=r(818),h=_interopRequireDefault(c),f=r(277),d=r(102),p=r(749),m=_interopRequireDefault(p),y=r(747),g=_interopRequireDefault(y),v=r(1),S=_interopRequireDefault(v),T=r(16),_=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(T),b=r(1027),E=_interopRequireDefault(b),R=r(759),A=_interopRequireDefault(R),P=r(760),k=_interopRequireDefault(P),w=r(297),O=_interopRequireDefault(w),L={searchButton:{position:"absolute",right:".3rem",fontSize:".5rem",top:0,display:"flex",height:"1.2rem",alignItems:"center",margin:0},cleanKeyWord:{display:"flex",alignItems:"center",width:".6rem",height:"1.2rem",overflow:"hidden",position:"fixed",right:"1.6rem",top:0,zIndex:7,icon:{width:".6rem",height:".6rem",color:"rgba(0, 0, 0, 0.38)"}}},M=function(e){function SearchHeader(e){_classCallCheck(this,SearchHeader);var t=_possibleConstructorReturn(this,(SearchHeader.__proto__||Object.getPrototypeOf(SearchHeader)).call(this,e)),r=void 0!==t.props.defaultKeyWord?t.props.defaultKeyWord:"";return t.state={inputting:void 0===t.props.inputIng||t.props.inputIng,searchKey:r,searchHistory:(0,f.getCookie)("searchHistory"),searchedOnce:!!r},t.handelBlur=t.handelBlur.bind(t),t.handelFocus=t.handelFocus.bind(t),t.handelDelHistoryWord=t.handelDelHistoryWord.bind(t),t.handelInputBlur=t.handelInputBlur.bind(t),t.handelSearch=t.handelSearch.bind(t),t.cleanKeyWord=t.cleanKeyWord.bind(t),t}return _inherits(SearchHeader,e),o(SearchHeader,[{key:"componentDidMount",value:function(){var e={};this.props.action_getKeyWord(e,(0,f.reqHeader)(e));_.findDOMNode(this.refs.input);document.addEventListener("touchstart",this.handelInputBlur)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("touchstart",this.handelInputBlur)}},{key:"render",value:function(){var e=this,t=this.state.inputting?"":"none",r=this.props.hotKeys.hotKeyWords,o=this.state.searchHistory?this.state.searchHistory.split(",").map(function(e){return decodeURIComponent(e)}):[];return n.default.createElement("div",{className:"search-header"},this.state.searchKey?n.default.createElement("div",{style:L.cleanKeyWord,onTouchTap:this.cleanKeyWord},n.default.createElement(O.default,{style:L.cleanKeyWord.icon})):"",n.default.createElement("span",{className:"search-bar-panel"},n.default.createElement(m.default,{ref:"input",className:"key-word-input",value:this.state.searchKey,hintText:n.default.createElement("div",null,n.default.createElement("img",{className:"search",src:k.default}),n.default.createElement("font",null,"请输入你要找的歌曲或歌星"),n.default.createElement("img",{onClick:function(){(0,f.linkTo)("voiceSearch",!1,"")},className:"voice",src:A.default})),hintStyle:{color:"white",textAlign:"center",width:"100%"},onFocus:this.handelFocus,bindState:this.bindState("searchKey"),onClick:this.handelFocus}),function(){return e.state.inputting&&!e.state.searchKey?e.state.searchedOnce?n.default.createElement("div",{className:"search-button",onClick:e.handelBlur},n.default.createElement("p",{style:L.searchButton},"取消")):"":e.state.searchKey?n.default.createElement("div",{className:"search-button",onClick:e.handelSearch},n.default.createElement("p",{style:L.searchButton},"搜索")):void 0}()),n.default.createElement("div",{className:"search-panel",style:{display:t}},n.default.createElement(E.default,{ref:"scroller",containerStyle:{top:"1.2rem"},directionLockThreshold:1},n.default.createElement("div",{className:"search-words"},n.default.createElement(l.Subheader,null,n.default.createElement("font",{style:{fontWeight:"bold"},color:"#000000"},"热门搜索")),n.default.createElement("div",{className:"hot-words"},r&&r.data.list.map(function(t){return n.default.createElement(l.Chip,{style:{border:"1px solid #b7b7b7",backgroundColor:"white"},className:"word",key:t.tag,onTouchTap:function(){e.handelHotSearch(t.tag)}},t.tag)})),this.state.searchHistory&&n.default.createElement("div",{className:"history-words-title"},n.default.createElement(l.Subheader,{style:{position:"relative"}},n.default.createElement("font",{style:{fontWeight:"bold"},color:"#000000"},"最近搜索"),n.default.createElement("div",{style:{top:"0",right:"5%",position:"absolute"},onTouchTap:this.handelCleanSearchHistory.bind(this)},n.default.createElement("font",{color:"#ff6832"},"清除搜索记录")))),n.default.createElement("div",{className:"history-words"},n.default.createElement(l.List,null,o.map(function(t){return n.default.createElement(l.ListItem,{key:t,innerDivStyle:{overflow:"hidden",textOverflow:"ellipsis"},primaryText:n.default.createElement("font",{color:"#252525"},t),rightIcon:n.default.createElement(h.default,{onTouchTap:function(r){r.stopPropagation(),e.handelDelHistoryWord(t)}}),onTouchTap:function(){e.handelHotSearch(t)}})})))))))}},{key:"handelInputBlur",value:function(e){_.findDOMNode(this.refs.input).contains(e.target)||this.refs.input.refs.input.input.blur()}},{key:"handelBlur",value:function(){this.setState({inputting:!1})}},{key:"handelFocus",value:function(){this.setState({inputting:!0})}},{key:"handelHotSearch",value:function(e){this.state.searchKey=e,this.handelSearch()}},{key:"handelSearch",value:function(){var e=this.state.searchKey;this.props.getSearchKey&&this.props.getSearchKey(e);var t=(0,f.getCookie)("searchHistory"),r=t?t.split(","):[];r.push(encodeURIComponent(e));var o=Array.from(new Set(r)).join(",");(0,f.setCookie)("searchHistory",o),this.setState({inputting:!1,searchedOnce:!0,searchHistory:o})}},{key:"handelDelHistoryWord",value:function(e){var t=(0,f.getCookie)("searchHistory"),r=t?t.split(","):[],o=Array.from(new Set(r)).filter(function(t){if(t&&decodeURIComponent(t)!==e)return t}),i=o.join(",");(0,f.setCookie)("searchHistory",i),this.setState({searchHistory:i})}},{key:"handelCleanSearchHistory",value:function(){(0,f.setCookie)("searchHistory",""),this.setState({searchHistory:""})}},{key:"cleanKeyWord",value:function(){this.setState({searchKey:""})}}]),SearchHeader}(g.default);M.propTypes={getSearchKey:S.default.func,defaultKeyWord:S.default.string,inputIng:S.default.bool};var x=function(e,t){return{hotKeys:e.app.search}},D=function(e,t){return{action_getKeyWord:(0,s.bindActionCreators)(u.getHotWords,e)}};t.default=(0,d.withRouter)((0,a.connect)(x,D)(M))},1027:function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Sticky=void 0;var o=r(1028),i=_interopRequireDefault(o),n=r(1045),s=_interopRequireDefault(n);i.default.Sticky=s.default,t.default=i.default,t.Sticky=s.default},1028:function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i,n=r(1029),s=_interopRequireDefault(n),a=r(6),l=_interopRequireDefault(a),u=r(2),c=_interopRequireDefault(u),h=r(3),f=_interopRequireDefault(h),d=r(4),p=_interopRequireDefault(d),m=r(5),y=_interopRequireDefault(m),g=r(0),v=_interopRequireDefault(g),S=r(16),T=_interopRequireDefault(S),_=r(774),b=_interopRequireDefault(_),E=r(851),R=_interopRequireDefault(E),A=r(1039),P=_interopRequireDefault(A),k=r(1040),w=r(1041),O=(i=o=function(e){function Scroller(e){(0,c.default)(this,Scroller);var t=(0,p.default)(this,(Scroller.__proto__||(0,l.default)(Scroller)).call(this,e));return t.x=0,t.y=0,t.directionX=0,t.directionY=0,t.scrollerStyle={},t.stickyHeaders=[],t.stickyIndex=0,t.stickyOffset=0,t.wrapperOffsetTop=0,t.isIphone=/iphone/gi.test(navigator.appVersion),t.resetProps(),t.loadTipElCache=t.getLoadTipElCache(),t.lang=(0,w.getMessage)(e.lang),t}return(0,y.default)(Scroller,e),(0,f.default)(Scroller,[{key:"getChildContext",value:function(){return{scroller:this}}},{key:"componentDidMount",value:function(){this.scrollerStyle=this.scroller.style,this.props.usePullRefresh&&(this.pullRefreshOffsetHeight=this.pullRefreshEl.offsetHeight),this.props.useLoadMore&&(this.loadMoreOffsetHeight=this.loadMoreEl.offsetHeight),this.initEvent(),this.refresh(),this.refreshSticky(!0),this.stickyHeaders.length&&(this.useTransition=!1),this.setRefreshStatus(k.REFRESHSTATUS.PULL),this.setLoadMoreStatus(this.loadMoreStatus||k.LOADMORESTATUS.PULL),this.refreshLoadMore(),this.resetPosition()}},{key:"componentWillReceiveProps",value:function(e){this.resetProps(e,!0)}},{key:"componentDidUpdate",value:function(e,t){this.props.autoRefresh&&this.refresh(),this.refreshSticky(),this.stickyHeaders.length&&(this.useTransition=!1),t.usePullRefresh!==this.state.usePullRefresh&&this.setRefreshStatus(k.REFRESHSTATUS.PULL),t.useLoadMore===this.state.useLoadMore&&t.noMoreData===this.props.noMoreData||(this.setLoadMoreStatus(this.loadMoreStatus||k.LOADMORESTATUS.PULL),this.refreshLoadMore())}},{key:"componentWillUnmount",value:function(){this.initEvent(!0)}},{key:"setRefreshStatus",value:function(e){if(this.state.usePullRefresh){this.prevRefreshState=this.pullRefreshStatus,this.pullRefreshStatus=e;var t=this.loadTipElCache.querySelector("i"),r=this.loadTipElCache.querySelector("div"),o="";switch(e){case k.REFRESHSTATUS.PULL:r.innerHTML=this.lang.pullDownToRefresh,this.prevRefreshState===k.REFRESHSTATUS.RELEASE?(t.innerHTML=P.default.upArrow,o="transform: rotate(-180deg); -webkit-transform: rotate(-180deg);"):t.innerHTML=P.default.downArrow;break;case k.REFRESHSTATUS.RELEASE:r.innerHTML=this.lang.releaseToLoadMore,this.prevRefreshState===k.REFRESHSTATUS.PULL?(t.innerHTML=P.default.downArrow,o="transform: rotate(180deg); -webkit-transform: rotate(180deg);"):t.innerHTML=P.default.upArrow;break;case k.REFRESHSTATUS.LOAD:r.innerHTML=this.lang.loading,t.innerHTML=P.default.loading,o="animation: rotate 1s linear infinite; -webkit-animation: rotate 1s linear infinite";break;case k.REFRESHSTATUS.SUCCESS:r.innerHTML=this.lang.refreshSuccess,t.innerHTML=P.default.success;break;case k.REFRESHSTATUS.FAIL:r.innerHTML=this.lang.refreshFailed,t.innerHTML=P.default.error;break;default:console.warn("Unsupported state!")}this.pullRefreshEl.replaceChild(this.loadTipElCache.cloneNode(!0),this.pullRefreshEl.childNodes[0]);var i=this.pullRefreshEl.querySelector("i");setTimeout(function(){i.style.cssText=o},0)}}},{key:"setLoadMoreStatus",value:function(e){if(this.state.useLoadMore){this.prevLoadState=this.loadMoreStatus,this.loadMoreStatus=e;var t=this.loadTipElCache.querySelector("i"),r=this.loadTipElCache.querySelector("div"),o="";switch(e){case k.LOADMORESTATUS.PULL:r.innerHTML=this.lang.pullupToLoadMore,this.prevLoadState===k.LOADMORESTATUS.RELEASE?(t.innerHTML=P.default.downArrow,o="transform: rotate(180deg); -webkit-transform: rotate(180deg);"):t.innerHTML=P.default.upArrow;break;case k.LOADMORESTATUS.RELEASE:r.innerHTML=this.lang.releaseToLoadMore,this.prevLoadState===k.LOADMORESTATUS.PULL?(t.innerHTML=P.default.upArrow,o="transform: rotate(-180deg); -webkit-transform: rotate(-180deg);"):t.innerHTML=P.default.downArrow;break;case k.LOADMORESTATUS.LOAD:r.innerHTML=this.lang.loading,t.innerHTML=P.default.loading,o="animation: rotate 1s linear infinite; -webkit-animation: rotate 1s linear infinite";break;case k.LOADMORESTATUS.NOMORE:r.innerHTML=this.lang.noMoreData,t.innerHTML="";break;default:console.warn("Unsupported state!")}this.loadMoreEl.replaceChild(this.loadTipElCache.cloneNode(!0),this.loadMoreEl.firstChild);var i=this.loadMoreEl.querySelector("i");setTimeout(function(){i.style.cssText=o},0)}}},{key:"getLoadTipElCache",value:function(){var e=document.createElement("div");return e.className="silk-listcontrol-loadtip",e.innerHTML='<i class="silk-listcontrol-icon"></i><div class="silk-listcontrol-text"></div>',e}},{key:"getCurrentSticky",value:function(){var e=null;if(this.y<0){var t=Math.abs(this.y),r=this.wrapperOffsetTop,o=this.stickyHeaders.filter(function(e){return e.offsetTop-r<=t});if(o.length){var i=o[o.length-1],n=this.stickyHeaders[o.length],s=o.length-1;if(n){var a=n.offsetTop-r-t;e={currentHeader:i,adjustOffset:a>i.height?0:-(i.height-a),index:s}}else e={currentHeader:i,adjustOffset:0,index:s}}else e=null}else e=null;return e}},{key:"getComputedPosition",value:function(){var e=window.getComputedStyle(this.scroller,null),t=void 0,r=void 0;return this.useTransform?(e=e[R.default.style.transform].split(")")[0].split(", "),t=+(e[12]||e[4]),r=+(e[13]||e[5])):(t=+e.left.replace(/[^-\d.]/g,""),r=+e.top.replace(/[^-\d.]/g,"")),{x:t,y:r}}},{key:"refreshSticky",value:function(e){if(this.stickyHeaders.length){var t=this.getCurrentSticky(),r=this.stickyNode;if(t){var o=t.currentHeader,i=t.adjustOffset;if(t.index!==this.stickyIndex||t.adjustOffset!==this.stickyOffset||e){var n="translate(0px,"+i+"px) translateZ(0px)";r.style.transform=n,r.style.WebkitTransform=n,r.style.display="block",r.className=o.stickyExtraClass,T.default.render(v.default.cloneElement(o.onlyChild),r),this.stickyIndex=t.index,this.stickyOffset=t.adjustOffset}}else this.stickyIndex=null,this.stickyOffset=null,r.style.display="none"}}},{key:"touchStart",value:function(e){if(!(this.disabled||this.initiated&&R.default.eventType[e.type]!==this.initiated)){!this.preventDefault||R.default.isBadAndroid||R.default.preventDefaultException(e.target,this.props.preventDefaultException)||e.preventDefault();var t=e.touches?e.touches[0]:e,r=void 0;this.initiated=R.default.eventType[e.type],this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.directionLocked=0,this.startTime=R.default.getTime(),this.useTransition&&this.isInTransition?(this.transitionTime(),this.isInTransition=!1,r=this.getComputedPosition(),this.translate(Math.round(r.x),Math.round(r.y)),this.execEvent("onScrollEnd")):!this.useTransition&&this.isAnimating&&(this.isAnimating=!1,R.default.cancelAnimationFrame.call(window,this.rAF),this.execEvent("onScrollEnd")),this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=t.pageX,this.pointY=t.pageY,this.execEvent("onBeforeScrollStart")}}},{key:"touchMove",value:function(e){if(!this.disabled&&R.default.eventType[e.type]===this.initiated){this.preventDefault&&e.preventDefault();var t=e.touches?e.touches[0]:e,r=R.default.getTime(),o=t.pageX-this.pointX,i=t.pageY-this.pointY,n=void 0,s=void 0;this.pointX=t.pageX,this.pointY=t.pageY,this.distX+=o,this.distY+=i;var a=Math.abs(this.distX),l=Math.abs(this.distY);if(!(r-this.endTime>300&&a<10&&l<10)){if(this.directionLocked||this.freeScroll||(a>l+this.directionLockThreshold?this.directionLocked="h":l>=a+this.directionLockThreshold?this.directionLocked="v":this.directionLocked="n"),"h"===this.directionLocked){if("vertical"===this.eventPassthrough)e.preventDefault();else if("horizontal"===this.eventPassthrough)return void(this.initiated=!1);i=0}else if("v"===this.directionLocked){if("horizontal"===this.eventPassthrough)e.preventDefault();else if("vertical"===this.eventPassthrough)return void(this.initiated=!1);o=0}o=this.hasHorizontalScroll?o:0,i=this.hasVerticalScroll?i:0,n=this.x+o,s=this.y+i,(n>0||n<this.maxScrollX)&&(n=this.props.bounce?this.x+o/3:n>0?0:this.maxScrollX),(s>0||s<this.maxScrollY)&&(s=this.props.bounce?this.y+i/3:s>0?0:this.maxScrollY),this.directionX=o>0?-1:o<0?1:0,this.directionY=i>0?-1:i<0?1:0,this.moved||this.execEvent("onScrollStart"),this.moved=!0,this.translate(n,s),r-this.startTime>300&&(this.startTime=r,this.startX=this.x,this.startY=this.y),this.execEvent("onScroll")}}}},{key:"touchEnd",value:function(e){if(!this.disabled&&R.default.eventType[e.type]===this.initiated){this.preventDefault&&!R.default.preventDefaultException(e.target,this.props.preventDefaultException)&&e.preventDefault();var t=void 0,r=void 0,o=R.default.getTime()-this.startTime,i=Math.round(this.x),n=Math.round(this.y),s=0,a=void 0;if(this.isInTransition=0,this.initiated=0,this.endTime=R.default.getTime(),!this.moved)return void this.execEvent("onScrollCancel");if(this.state.usePullRefresh&&this.y>=this.pullRefreshOffsetHeight)return void(this.pullRefreshStatus===k.REFRESHSTATUS.LOAD?this.scrollTo(this.x,this.pullRefreshOffsetHeight,200):(this.setRefreshStatus(k.REFRESHSTATUS.LOAD),this.scrollTo(this.x,this.pullRefreshOffsetHeight,300),this.loadData("refresh")));if(this.state.useLoadMore&&this.y<this.maxScrollY&&(this.loadMoreStatus===k.LOADMORESTATUS.NOMORE||this.loadMoreStatus===k.LOADMORESTATUS.LOAD||this.props.noMoreData||(this.setLoadMoreStatus(k.LOADMORESTATUS.LOAD),this.loadData("load"))),!this.resetPosition(this.props.bounceTime)){if(this.scrollTo(i,n),this.props.momentum&&o<300&&(t=this.hasHorizontalScroll?R.default.momentum(this.x,this.startX,o,this.maxScrollX,this.props.bounce?this.wrapperWidth:0,this.props.deceleration):{destination:i,duration:0},r=this.hasVerticalScroll?R.default.momentum(this.y,this.startY,o,this.maxScrollY,this.props.bounce?this.wrapperHeight:0,this.props.deceleration):{destination:n,duration:0},i=t.destination,n=r.destination,s=Math.max(t.duration,r.duration),this.isInTransition=1),i!==this.x||n!==this.y)return(i>0||i<this.maxScrollX||n>0||n<this.maxScrollY)&&(a=R.default.ease.quadratic),void this.scrollTo(i,n,s,a);this.execEvent("onScrollEnd")}}}},{key:"transitionEnd",value:function(e){e.target===this.scroller&&this.isInTransition&&(this.transitionTime(),this.resetPosition(this.props.bounceTime)||(this.isInTransition=!1,this.execEvent("onScrollEnd")))}},{key:"initEvent",value:function(e){var t=e?R.default.removeEvent:R.default.addEvent;R.default.hasTouch?(t(this.wrapper,"touchstart",this),t(window,"touchmove",this),t(window,"touchend",this),t(window,"touchcancel",this),t(this.scroller,R.default.prefixStyle("transitionend"),this)):console.warn("your device did not support touch event!")}},{key:"execEvent",value:function(e,t){if("onScrollStart"===e&&(this.isScrolling=!0),"onScroll"===e&&(this.refreshSticky(),this.pullRefreshStatus===k.REFRESHSTATUS.PULL||this.pullRefreshStatus===k.REFRESHSTATUS.RELEASE?this.hasVerticalScroll=!0:(this.pullRefreshStatus===k.REFRESHSTATUS.SUCCESS||this.pullRefreshStatus===k.REFRESHSTATUS.FAIL)&&this.y>0&&(this.hasVerticalScroll=!1),this.isIphone&&(this.scrollY&&(this.pointY<5||this.pointY>document.documentElement.clientHeight-5)||this.scrollX&&(this.pointX<5||this.pointX>document.documentElement.clientWidth-5)))){var r=document.createEvent("Event");r.initEvent("touchend",!0,!0),document.dispatchEvent(r)}"onScrollEnd"===e&&(this.refreshSticky(),this.isScrolling=!1,this.hasVerticalScroll=this.props.scrollY&&this.maxScrollY<0),this.props[e]&&this.props[e].apply(this,[{contentOffset:{x:this.x,y:this.y},param:t}])}},{key:"resetPosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.x,r=this.y;return(this.pullRefreshStatus!==k.REFRESHSTATUS.LOAD||this.y!==this.pullRefreshOffsetHeight)&&(!this.hasHorizontalScroll||this.x>0?t=0:this.x<this.maxScrollX&&(t=this.maxScrollX),!this.hasVerticalScroll||this.y>0?r=0:this.y<this.maxScrollY&&(r=this.maxScrollY),(t!==this.x||r!==this.y)&&(this.scrollTo(t,r,e,this.props.bounceEasing),!0))}},{key:"scrollTo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.x,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.y,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:R.default.ease.circular;this.isInTransition=this.useTransition&&r>0;var i=this.useTransition&&o.style;!r||i?(i&&(this.transitionTimingFunction(o.style),this.transitionTime(r)),this.translate(e,t)):this.animate(e,t,r,o.fn)}},{key:"transitionTimingFunction",value:function(e){this.scrollerStyle[R.default.style.transitionTimingFunction]=e}},{key:"transitionTime",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(this.useTransition){var r=R.default.style.transitionDuration;r&&(this.scrollerStyle[r]=t+"ms",!t&&R.default.isBadAndroid&&(this.scrollerStyle[r]="0.0001ms",self.rAF=requestAnimationFrame.call(window,function(){"0.0001ms"===e.scrollerStyle[r]&&(e.scrollerStyle[r]="0s")})))}}},{key:"translate",value:function(e,t){if(e=Math.round(e),t=Math.round(t),this.useTransform?this.scrollerStyle[R.default.style.transform]="translate("+e+"px, "+t+"px) "+this.translateZ:(this.scrollerStyle.left=e+"px",this.scrollerStyle.top=t+"px"),this.x=e,this.y=t,this.state.usePullRefresh&&(t>=this.pullRefreshOffsetHeight&&this.pullRefreshStatus===k.REFRESHSTATUS.PULL?this.setRefreshStatus(k.REFRESHSTATUS.RELEASE):t<this.pullRefreshOffsetHeight&&this.pullRefreshStatus===k.REFRESHSTATUS.RELEASE&&this.setRefreshStatus(k.REFRESHSTATUS.PULL)),this.state.useLoadMore)if(t<this.maxScrollY&&this.loadMoreStatus===k.LOADMORESTATUS.PULL)if(this.props.autoLoad){if(this.useTransition&&this.isInTransition){this.transitionTime(),this.isInTransition=!1;var r=this.getComputedPosition();this.translate(Math.round(r.x),Math.round(r.y)),this.execEvent("onScrollEnd")}else!this.useTransition&&this.isAnimating&&(this.isAnimating=!1,R.default.cancelAnimationFrame.call(window,this.rAF),this.execEvent("onScrollEnd"));this.state.useLoadMore&&this.y<this.maxScrollY&&(this.loadMoreStatus===k.LOADMORESTATUS.NOMORE||this.loadMoreStatus===k.LOADMORESTATUS.LOAD||this.props.noMoreData||(this.setLoadMoreStatus(k.LOADMORESTATUS.LOAD),this.loadData("load"))),this.resetPosition(this.props.bounceTime)}else this.setLoadMoreStatus(k.LOADMORESTATUS.RELEASE);else t>=this.maxScrollY&&this.loadMoreStatus===k.LOADMORESTATUS.RELEASE&&this.setLoadMoreStatus(k.LOADMORESTATUS.PULL)}},{key:"simulatePullRefresh",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:300;this.state.usePullRefresh&&this.prevRefreshState!==k.REFRESHSTATUS.LOAD&&(this.scrollTo(this.x,this.pullRefreshOffsetHeight,t),setTimeout(function(){e.setRefreshStatus(k.REFRESHSTATUS.LOAD),e.loadData("refresh")},t))}},{key:"disable",value:function(){this.disabled=!0}},{key:"enable",value:function(){this.disabled=!1}},{key:"loadData",value:function(e){var t=this;new s.default(function(r,o){"refresh"===e?t.props.pullRefreshAction(r,o):t.props.loadMoreAction(r,o)}).then(function(){t.loadDataHandle(e,3)}).catch(function(){t.loadDataHandle(e,4)})}},{key:"loadDataHandle",value:function(e,t){var r=this;"refresh"===e?(this.setRefreshStatus(this.pullRefreshStatus=t),setTimeout(function(){r.setRefreshStatus(r.pullRefreshStatus=k.REFRESHSTATUS.PULL),r.scrollTo(0,0,400),r.refresh()},400)):(this.loadMoreStatus=this.props.noMoreData?k.LOADMORESTATUS.NOMORE:k.LOADMORESTATUS.PULL,this.setLoadMoreStatus(this.loadMoreStatus),this.refresh())}},{key:"refresh",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.wrapperWidth=e.wrapperWidth?e.wrapperWidth:this.wrapper.clientWidth,this.wrapperHeight=e.wrapperHeight?e.wrapperHeight:this.wrapper.clientHeight,this.wrapperOffsetTop=-R.default.offset(this.wrapper).top,this.scrollerWidth=e.scrollerWidth?e.scrollerWidth:this.scroller.offsetWidth,this.scrollerHeight=e.scrollerHeight?e.scrollerHeight:this.scroller.offsetHeight,this.state.useLoadMore&&this.loadMoreEl&&(this.loadMoreEl.style.visibility=this.scrollerHeight>this.wrapperWidth?"visible":"hidden",this.loadMoreEl.style.top=this.scrollerHeight+"px",this.scrollerHeight+=this.loadMoreOffsetHeight),this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.hasHorizontalScroll=this.props.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.props.scrollY&&this.maxScrollY<0,this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,this.execEvent("onRefresh")}},{key:"animate",value:function(e,t,r,o){function step(){var u=R.default.getTime();if(u>=l)return i.isAnimating=!1,i.translate(e,t),R.default.cancelAnimationFrame.call(window,i.rAF),void(i.resetPosition(i.props.bounceTime)||i.execEvent("onScrollEnd"));u=(u-a)/r;var c=o(u),h=(e-n)*c+n,f=(t-s)*c+s;i.translate(h,f),i.isAnimating&&(i.rAF=R.default.requestAnimationFrame.call(window,step)),i.execEvent("onScroll")}var i=this,n=this.x,s=this.y,a=R.default.getTime(),l=a+r;this.isAnimating=!0,step()}},{key:"handleEvent",value:function(e){switch(e.type){case"touchstart":this.touchStart(e);break;case"touchmove":this.touchMove(e);break;case"touchend":case"touchcancel":this.touchEnd(e);break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this.transitionEnd(e);break;default:console.warn("no match event type!")}}},{key:"refreshLoadMore",value:function(){this.state.useLoadMore?this.loadMoreEl&&(this.loadMoreEl.style.top=this.scrollerHeight-this.loadMoreOffsetHeight+"px"):this.resetPosition()}},{key:"resetProps",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.translateZ=e.HWCompositing&&R.default.hasPerspective?" translateZ(0)":"",this.useTransition=R.default.hasTransition&&e.useTransition,this.useTransform=R.default.hasTransform&&e.useTransform,this.eventPassthrough=!0===e.eventPassthrough?"vertical":e.eventPassthrough,this.preventDefault=!this.eventPassthrough&&e.preventDefault,this.freeScroll=e.freeScroll&&!this.eventPassthrough,this.directionLockThreshold=this.eventPassthrough?0:e.directionLockThreshold,this.scrollX="horizontal"!==this.eventPassthrough&&e.scrollX,this.scrollY="vertical"!==this.eventPassthrough&&e.scrollY,this.bounceEasing="string"==typeof bounceEasing?R.default.ease[this.props.bounceEasing]||R.default.ease.circular:this.props.bounceEasing,this.props.onScroll&&(this.useTransition=!1);var r=this.scrollY&&!this.scrollX&&this.props.usePullRefresh,o=this.scrollY&&!this.scrollX&&this.props.useLoadMore,i=void 0;i=o&&e.noMoreData?k.LOADMORESTATUS.NOMORE:k.LOADMORESTATUS.PULL,t?(this.setState({usePullRefresh:r,useLoadMore:o}),this.pullRefreshStatus=r?this.pullRefreshStatus:0,this.loadMoreStatus=i):(this.state={usePullRefresh:r,useLoadMore:o},this.pullRefreshStatus=k.REFRESHSTATUS.PULL,this.loadMoreStatus=i)}},{key:"render",value:function(){var e=this,t=this.state,r=t.usePullRefresh,o=t.useLoadMore;return v.default.createElement("div",{className:(0,b.default)("silk-listcontrol-wrapper",{"silk-listcontrol-wrapper-default":this.scrollY&&!this.props.containerClass},this.props.containerClass),style:this.props.containerStyle,ref:function(t){e.wrapper=t}},this.props.useSticky?v.default.createElement("div",{ref:function(t){e.stickyNode=t},style:{position:"absolute",top:0,left:0,right:0,zIndex:9999},className:"silk-sticky"}):null,v.default.createElement("div",{className:(0,b.default)("silk-listcontrol-scroller",{"silk-listcontrol-scroller-horizontal":this.scrollX,"silk-listcontrol-scroller-vertical":this.scrollY},this.props.scrollerClass),style:this.props.scrollerStyle,ref:function(t){e.scroller=t}},r?v.default.createElement("div",{ref:function(t){e.pullRefreshEl=t},className:"silk-listcontrol-loadwrapper silk-listcontrol-loadwrapper-up"},v.default.createElement("div",{className:"silk-listcontrol-loadtip"},v.default.createElement("i",{className:"silk-listcontrol-icon"}),v.default.createElement("div",{className:"silk-listcontrol-text"}))):null,this.props.children,o?v.default.createElement("div",{ref:function(t){e.loadMoreEl=t},className:"silk-listcontrol-loadwrapper"},v.default.createElement("div",{className:"silk-listcontrol-loadtip"},v.default.createElement("i",{className:"silk-listcontrol-icon"}),v.default.createElement("div",{className:"silk-listcontrol-text"}))):null))}}]),Scroller}(g.Component),o.propTypes={autoRefresh:g.PropTypes.bool,autoLoad:g.PropTypes.bool,bounce:g.PropTypes.bool,bounceEasing:g.PropTypes.shape({style:g.PropTypes.string.isRequired,fn:g.PropTypes.func.isRequired}),bounceTime:g.PropTypes.number,deceleration:g.PropTypes.number,eventPassthrough:g.PropTypes.oneOfType([g.PropTypes.bool,g.PropTypes.string]),directionLockThreshold:g.PropTypes.number,freeScroll:g.PropTypes.bool,momentum:g.PropTypes.bool,HWCompositing:g.PropTypes.bool,preventDefault:g.PropTypes.bool,preventDefaultException:g.PropTypes.shape({className:g.PropTypes.instanceOf(RegExp),tagName:g.PropTypes.instanceOf(RegExp)}),scrollX:g.PropTypes.bool,scrollY:g.PropTypes.bool,useTransform:g.PropTypes.bool,useTransition:g.PropTypes.bool,onBeforeScrollStart:g.PropTypes.func,onScrollStart:g.PropTypes.func,onScroll:g.PropTypes.func,onScrollEnd:g.PropTypes.func,onScrollCancel:g.PropTypes.func,onRefresh:g.PropTypes.func,children:g.PropTypes.oneOfType([g.PropTypes.node,g.PropTypes.element]).isRequired,usePullRefresh:g.PropTypes.bool,useLoadMore:g.PropTypes.bool,useSticky:g.PropTypes.bool,pullRefreshAction:g.PropTypes.func,loadMoreAction:g.PropTypes.func,renderPullRefresh:g.PropTypes.func,renderLoadMore:g.PropTypes.func,lang:g.PropTypes.string,containerClass:g.PropTypes.string,containerStyle:g.PropTypes.shape({}),scrollerClass:g.PropTypes.string,scrollerStyle:g.PropTypes.shape({}),noMoreData:g.PropTypes.bool},o.defaultProps={autoRefresh:!0,autoLoad:!0,bounce:!0,bounceEasing:R.default.ease.circular,bounceTime:600,deceleration:.0024,directionLockThreshold:0,freeScroll:!1,momentum:!0,HWCompositing:!0,preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},scrollX:!1,scrollY:!0,containerStyle:{},scrollerStyle:{},containerClass:"",scrollerClass:"",useTransform:!0,useTransition:!0,usePullRefresh:!1,useLoadMore:!1,useSticky:!1,lang:"zh_CN"},o.childContextTypes={scroller:g.PropTypes.object},i);t.default=O},1029:function(e,t,r){e.exports={default:r(1030),__esModule:!0}},1030:function(e,t,r){r(292),r(85),r(108),r(1031),e.exports=r(25).Promise},1031:function(e,t,r){"use strict";var o,i,n,s=r(106),a=r(38),l=r(104),u=r(175),c=r(39),h=r(75),f=r(286),d=r(1032),p=r(1033),m=r(1034),y=r(850).set,g=r(1036)(),v=a.TypeError,S=a.process,T=a.Promise,S=a.process,_="process"==u(S),b=function(){},E=!!function(){try{var e=T.resolve(1),t=(e.constructor={})[r(31)("species")]=function(e){e(b,b)};return(_||"function"==typeof PromiseRejectionEvent)&&e.then(b)instanceof t}catch(e){}}(),R=function(e,t){return e===t||e===T&&t===n},A=function(e){var t;return!(!h(e)||"function"!=typeof(t=e.then))&&t},P=function(e){return R(T,e)?new k(e):new i(e)},k=i=function(e){var t,r;this.promise=new e(function(e,o){if(void 0!==t||void 0!==r)throw v("Bad Promise constructor");t=e,r=o}),this.resolve=f(t),this.reject=f(r)},w=function(e){try{e()}catch(e){return{error:e}}},O=function(e,t){if(!e._n){e._n=!0;var r=e._c;g(function(){for(var o=e._v,i=1==e._s,n=0;r.length>n;)!function(t){var r,n,s=i?t.ok:t.fail,a=t.resolve,l=t.reject,u=t.domain;try{s?(i||(2==e._h&&x(e),e._h=1),!0===s?r=o:(u&&u.enter(),r=s(o),u&&u.exit()),r===t.promise?l(v("Promise-chain cycle")):(n=A(r))?n.call(r,a,l):a(r)):l(o)}catch(e){l(e)}}(r[n++]);e._c=[],e._n=!1,t&&!e._h&&L(e)})}},L=function(e){y.call(a,function(){var t,r,o,i=e._v;if(M(e)&&(t=w(function(){_?S.emit("unhandledRejection",i,e):(r=a.onunhandledrejection)?r({promise:e,reason:i}):(o=a.console)&&o.error&&o.error("Unhandled promise rejection",i)}),e._h=_||M(e)?2:1),e._a=void 0,t)throw t.error})},M=function(e){if(1==e._h)return!1;for(var t,r=e._a||e._c,o=0;r.length>o;)if(t=r[o++],t.fail||!M(t.promise))return!1;return!0},x=function(e){y.call(a,function(){var t;_?S.emit("rejectionHandled",e):(t=a.onrejectionhandled)&&t({promise:e,reason:e._v})})},D=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),O(t,!0))},C=function(e){var t,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===e)throw v("Promise can't be resolved itself");(t=A(e))?g(function(){var o={_w:r,_d:!1};try{t.call(e,l(C,o,1),l(D,o,1))}catch(e){D.call(o,e)}}):(r._v=e,r._s=1,O(r,!1))}catch(e){D.call({_w:r,_d:!1},e)}}};E||(T=function(e){d(this,T,"Promise","_h"),f(e),o.call(this);try{e(l(C,this,1),l(D,this,1))}catch(e){D.call(this,e)}},o=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},o.prototype=r(1037)(T.prototype,{then:function(e,t){var r=P(m(this,T));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=_?S.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&O(this,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),k=function(){var e=new o;this.promise=e,this.resolve=l(C,e,1),this.reject=l(D,e,1)}),c(c.G+c.W+c.F*!E,{Promise:T}),r(107)(T,"Promise"),r(1038)("Promise"),n=r(25).Promise,c(c.S+c.F*!E,"Promise",{reject:function(e){var t=P(this);return(0,t.reject)(e),t.promise}}),c(c.S+c.F*(s||!E),"Promise",{resolve:function(e){if(e instanceof T&&R(e.constructor,this))return e;var t=P(this);return(0,t.resolve)(e),t.promise}}),c(c.S+c.F*!(E&&r(295)(function(e){T.all(e).catch(b)})),"Promise",{all:function(e){var t=this,r=P(t),o=r.resolve,i=r.reject,n=w(function(){var r=[],n=0,s=1;p(e,!1,function(e){var a=n++,l=!1;r.push(void 0),s++,t.resolve(e).then(function(e){l||(l=!0,r[a]=e,--s||o(r))},i)}),--s||o(r)});return n&&i(n.error),r.promise},race:function(e){var t=this,r=P(t),o=r.reject,i=w(function(){p(e,!1,function(e){t.resolve(e).then(r.resolve,o)})});return i&&o(i.error),r.promise}})},1032:function(e,t){e.exports=function(e,t,r,o){if(!(e instanceof t)||void 0!==o&&o in e)throw TypeError(r+": incorrect invocation!");return e}},1033:function(e,t,r){var o=r(104),i=r(293),n=r(294),s=r(42),a=r(172),l=r(174),u={},c={},t=e.exports=function(e,t,r,h,f){var d,p,m,y,g=f?function(){return e}:l(e),v=o(r,h,t?2:1),S=0;if("function"!=typeof g)throw TypeError(e+" is not iterable!");if(n(g)){for(d=a(e.length);d>S;S++)if((y=t?v(s(p=e[S])[0],p[1]):v(e[S]))===u||y===c)return y}else for(m=g.call(e);!(p=m.next()).done;)if((y=i(m,v,p.value,t))===u||y===c)return y};t.BREAK=u,t.RETURN=c},1034:function(e,t,r){var o=r(42),i=r(286),n=r(31)("species");e.exports=function(e,t){var r,s=o(e).constructor;return void 0===s||void 0==(r=o(s)[n])?t:i(r)}},1035:function(e,t){e.exports=function(e,t,r){var o=void 0===r;switch(t.length){case 0:return o?e():e.call(r);case 1:return o?e(t[0]):e.call(r,t[0]);case 2:return o?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return o?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return o?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3])}return e.apply(r,t)}},1036:function(e,t,r){var o=r(38),i=r(850).set,n=o.MutationObserver||o.WebKitMutationObserver,s=o.process,a=o.Promise,l="process"==r(105)(s);e.exports=function(){var e,t,r,u=function(){var o,i;for(l&&(o=s.domain)&&o.exit();e;){i=e.fn,e=e.next;try{i()}catch(o){throw e?r():t=void 0,o}}t=void 0,o&&o.enter()};if(l)r=function(){s.nextTick(u)};else if(n){var c=!0,h=document.createTextNode("");new n(u).observe(h,{characterData:!0}),r=function(){h.data=c=!c}}else if(a&&a.resolve){var f=a.resolve();r=function(){f.then(u)}}else r=function(){i.call(o,u)};return function(o){var i={fn:o,next:void 0};t&&(t.next=i),e||(e=i,r()),t=i}}},1037:function(e,t,r){var o=r(52);e.exports=function(e,t,r){for(var i in t)r&&e[i]?e[i]=t[i]:o(e,i,t[i]);return e}},1038:function(e,t,r){"use strict";var o=r(38),i=r(25),n=r(40),s=r(43),a=r(31)("species");e.exports=function(e){var t="function"==typeof i[e]?i[e]:o[e];s&&t&&!t[a]&&n.f(t,a,{configurable:!0,get:function(){return this}})}},1039:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={downArrow:"&#xe601;",upArrow:"&#xe609;",loading:"&#xe602;",success:"&#xe62e;",error:"&#xe697;"};t.default=o},1040:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={PULL:0,RELEASE:1,LOAD:2,SUCCESS:3,FAIL:4},i={PULL:0,RELEASE:1,LOAD:2,NOMORE:3};t.REFRESHSTATUS=o,t.LOADMORESTATUS=i},1041:function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function getMessage(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;return"zh"===e||"zh_CN"===e?i.default:"zh-Hant"===e||"zh_TW"===e?s.default:"en"===e||"en_US"===e?l.default:null}function getLocale(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;return"zh"===e||"zh_CN"===e?{lang:"zh",messages:i.default}:"zh-Hant"===e||"zh_TW"===e?{lang:"zh-Hant",messages:s.default}:"en"===e||"en_US"===e?{lang:"en",messages:l.default}:null}Object.defineProperty(t,"__esModule",{value:!0}),t.getMessage=getMessage,t.getLocale=getLocale;var o=r(1042),i=_interopRequireDefault(o),n=r(1043),s=_interopRequireDefault(n),a=r(1044),l=_interopRequireDefault(a),u="zh"},1042:function(e,t){e.exports={pullDownToRefresh:"下拉刷新",releaseToRefresh:"松开刷新",refreshSuccess:"刷新成功",refreshFailed:"刷新失败",pullupToLoadMore:"上拉加载更多",releaseToLoadMore:"松开加载更多",loadMoreSuccess:"加载成功",loadMoreFailed:"加载失败",noMoreData:"没有更多数据了",pushNoticy:"有新的变更，请下拉刷新",loading:"加载中..."}},1043:function(e,t){e.exports={pullDownToRefresh:"下拉刷新",releaseToRefresh:"松開刷新",refreshSuccess:"刷新成功",refreshFailed:"刷新失敗",pullupToLoadMore:"上拉加載更多",releaseToLoadMore:"松開加載更多",loadMoreSuccess:"加載成功",loadMoreFailed:"加載失敗",noMoreData:"沒有更多數據了",pushNoticy:"有新的變更，請下拉刷新",loading:"加載中..."}},1044:function(e,t){e.exports={pullDownToRefresh:"Pull down to refresh",releaseToRefresh:"Release",refreshSuccess:"Successful refresh",refreshFailed:"Failed to refresh",pullupToLoadMore:"Pull up to load more",releaseToLoadMore:"Release",loadMoreSuccess:"Successful loading",loadMoreFailed:"Failed to load",noMoreData:"No more content",pushNoticy:"New updates, pull down to refresh",loading:"Loading…"}},1045:function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i,n=r(6),s=_interopRequireDefault(n),a=r(2),l=_interopRequireDefault(a),u=r(3),c=_interopRequireDefault(u),h=r(4),f=_interopRequireDefault(h),d=r(5),p=_interopRequireDefault(d),m=r(0),y=_interopRequireDefault(m),g=r(16),v=_interopRequireDefault(g),S=r(851),T=_interopRequireDefault(S),_=(i=o=function(e){function Sticky(){(0,l.default)(this,Sticky);var e=(0,f.default)(this,(Sticky.__proto__||(0,s.default)(Sticky)).call(this));return e.domNode=null,e.height=null,e.offsetTop=null,e.className=null,e}return(0,p.default)(Sticky,e),(0,c.default)(Sticky,[{key:"componentDidMount",value:function(){this.scroller=this.context.scroller,this.scroller&&(this.initialize(),this.scroller.stickyHeaders.push(this))}},{key:"componentDidUpdate",value:function(){this.initialize()}},{key:"componentWillUnmount",value:function(){var e=this;this.scroller&&(this.scroller.stickyHeaders=this.scroller.stickyHeaders.filter(function(t){return t!==e}))}},{key:"initialize",value:function(){this.domNode=v.default.findDOMNode(this),this.height=this.domNode.offsetHeight,this.offsetTop=-T.default.offset(this.domNode).top,this.className=this.domNode.className,this.onlyChild=y.default.Children.only(this.props.children),this.stickyExtraClass=this.props.stickyExtraClass}},{key:"render",value:function(){return y.default.Children.only(this.props.children)}}]),Sticky}(m.Component),o.propTypes={stickyExtraClass:m.PropTypes.string,children:m.PropTypes.oneOfType([m.PropTypes.array,m.PropTypes.object,m.PropTypes.string])},o.defaultProps={stickyExtraClass:""},o.contextTypes={scroller:m.PropTypes.object},i);t.default=_},735:function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=function get(e,t,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,t);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in o)return o.value;var n=o.get;if(void 0!==n)return n.call(r)},n=r(0),s=_interopRequireDefault(n),a=r(101),l=r(102),u=r(781),c=r(747),h=_interopRequireDefault(c),f=r(1026),d=_interopRequireDefault(f),p=r(166),m=r(50),y=r(816),g=_interopRequireDefault(y),v=r(278),S=(_interopRequireDefault(v),{searchWord:{maxWidth:"6rem",overflow:"hidden",textOverflow:"ellipsis",display:"inline-block",whiteSpace:"nowrap"}}),T=function(e){function Search(e){_classCallCheck(this,Search);var t=_possibleConstructorReturn(this,(Search.__proto__||Object.getPrototypeOf(Search)).call(this,e));return i(Search.prototype.__proto__||Object.getPrototypeOf(Search.prototype),"title",t).call(t,"搜索"),t.state={keyword:""},t.search=t.search.bind(t),t}return _inherits(Search,e),o(Search,[{key:"componentDidUpdate",value:function(e){}},{key:"componentDidMount",value:function(){var e=this.props.match.params.keyword;this.search(e)}},{key:"render",value:function(){var e=this.props.match.params.keyword;return s.default.createElement(p.Paper,{zDepth:0},s.default.createElement(d.default,{defaultKeyWord:e,getSearchKey:this.search,inputIng:!e}),this.state.keyword?s.default.createElement(p.Paper,{style:{position:"fixed",top:"1.2rem",width:"100%",zIndex:1}},s.default.createElement(p.Subheader,{style:{display:"flex",alignItems:"center"}},"“",s.default.createElement("font",{style:S.searchWord},this.state.keyword),"” ",s.default.createElement("font",null,"的搜索结果"))):"",s.default.createElement("div",null,s.default.createElement(g.default,{paddingTop:86,keyword:this.state.keyword,search:!0})))}},{key:"search",value:function(e){this.setState({keyword:e})}}]),Search}(h.default),_=function(e,t){return{hotKeys:e.app.search}},b=function(e,t){return{action_search:(0,m.bindActionCreators)(u.search,e)}};t.default=(0,l.withRouter)((0,a.connect)(_,b)(T))},747:function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(0),n=r(278),s=_interopRequireDefault(n),a=(r(102),r(101),r(19)),l=_interopRequireDefault(a),u=function(e){function BaseComponent(e){_classCallCheck(this,BaseComponent);var t=_possibleConstructorReturn(this,(BaseComponent.__proto__||Object.getPrototypeOf(BaseComponent)).call(this,e));return t.bindState.bind(t),t.title=t.title.bind(t),s.default.setHistory(t.props.history),t}return _inherits(BaseComponent,e),o(BaseComponent,[{key:"render",value:function(){return React.createElement("div",null)}},{key:"bindState",value:function(e){var t=this;return function(r){var o={};o[e]=r,t.setState(o)}}},{key:"title",value:function(e){document.title=e}},{key:"validUserStatus",value:function(e,t,r){var o=t||{},i=o.data,n=i||{},s=n.systemTime,a=n.timeStamp,u=this.isVip(e),c=this.isBindDevice(e),h=this.isFreeActivation(e);if("string"==typeof c)return r&&r(c),"正在获取用户信息";if(!1===c)return r&&r("",l.default.COMMON.ALERT_TYPE_BIND_DEVICE),!1;if(!0===c){if(!0===h)return r&&r("",l.default.COMMON.ALERT_TYPE_FREE_ACTIVE),!1;if(!1===h)return function(){return!(!s||!a)&&!(s-a>72e4)}()?!1!==u||(r&&r("",l.default.COMMON.ALERT_TYPE_BE_VIP),!1):(r&&r("",l.default.COMMON.ALERT_TYPE_DEVICE_NOT_ONLINE),!1)}}},{key:"validUserBindDevice",value:function(e,t){var r=this.isBindDevice(e);return"string"==typeof r?(t&&t(r),r):!1===r?(t&&t("",l.default.COMMON.ALERT_TYPE_BIND_DEVICE),!1):!0===r||void 0}},{key:"validUserDeviceOnline",value:function(e,t){var r=e||{},o=r.data,i=o||{},n=i.systemTime,s=i.timeStamp;if(n&&s){return!!!(n-s>72e4)||(t&&t("",l.default.COMMON.ALERT_TYPE_DEVICE_NOT_ONLINE),!1)}return t&&t("",l.default.COMMON.ALERT_TYPE_DEVICE_NOT_ONLINE),!1}},{key:"isFreeActivation",value:function(e){var t=e||{},r=t.status,o=t.data;if(void 0!==r){return 1===o.isFreeActivation}return"正在获取用户信息"}},{key:"isBindDevice",value:function(e){var t=e||{},r=t.status,o=t.msg,i=t.data;if(void 0!==r){if(-100===r)return"请使用微信操作";if(1===r){var n=i.isReDevice;i.bindExpireTime;return 1===n}return o||"获取用户信息失败，请稍后重试！"}return"正在获取用户信息"}},{key:"isVip",value:function(e){var t=e||{},r=t.status,o=t.data;if(void 0!==r){var i=o.vipStatus,n=o.expireTime;return 1===i&&(new Date).getTime()<n}return"正在获取用户信息"}}]),BaseComponent}(i.Component);t.default=u},748:function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function getShareAudio(e,t){var r=u.default.apiDomain+a.default.API_QUERY_USER_SOUND;return function(o){(0,n.comFetch)(o,e,{url:r,headers:t,action:i.default.AUDIO.API_GET_SHARE_AUDIO},null)}}function getRecommend(e,t){var r=u.default.apiDomain+a.default.API_QUERY_ALBUM;return function(o){(0,n.comFetch)(o,e,{url:r,headers:t,action:i.default.SONG.API_GET_RECOMMEND},null)}}function push(e,t,r,o){var s=u.default.apiDomain+a.default.API_PUSH;return function(a){(0,n.comFetch)(a,e,{url:s,headers:t,action:i.default.SONG.API_PUSH},r,o)}}function pushLocal(e,t,r,o,s){var l=e+a.default.API_PUSH;return function(e){(0,n.comFetch)(e,t,{url:l,type:"get",headers:r,timeout:3e3,action:i.default.SONG.API_PUSH},o,s)}}function getChooseList(e,t){var r=u.default.apiDomain+a.default.API_CHOOSE_LIST;return function(o){(0,n.comFetch)(o,e,{url:r,headers:t,action:i.default.SONG.API_CHOOSE_LIST},null)}}function getHistorySongList(e,t){var r=u.default.apiDomain+a.default.API_CHOOSE_LIST;return function(o){(0,n.comFetch)(o,e,{url:r,headers:t,action:i.default.SONG.API_CHOOSE_HISTORY_LIST},null)}}function setSongTop(e,t,r){var o=u.default.apiDomain+a.default.API_SET_SONG_TOP;return function(s){(0,n.comFetch)(s,e,{url:o,headers:t,action:i.default.SONG.API_SET_SONG_TOP},r)}}function getSingerCategoryAlbum(e,t,r){var o=u.default.apiDomain+a.default.API_GET_SINGER_CATEGORY_ALBUM;return function(s){(0,n.comFetch)(s,e,{url:o,headers:t,action:i.default.SONG.API_GET_SINGER_CATEGORY_ALBUM},r)}}function getActorsAlbum(e,t,r){var o=u.default.apiDomain+a.default.API_GET_ACTORS_ALBUM;return function(s){(0,n.comFetch)(s,e,{url:o,headers:t,action:i.default.SONG.API_GET_ACTORS_ALBUM},r)}}function getCatAlbum(e,t,r){var o=u.default.apiDomain+a.default.API_GET_CAT_ALBUM;return function(s){(0,n.comFetch)(s,e,{url:o,headers:t,action:i.default.SONG.API_GET_CAT_ALBUM},r)}}function getCatSongList(e,t,r){var o=u.default.apiDomain+a.default.API_GET_CAT_ALBUM;return function(s){(0,n.comFetch)(s,e,{url:o,headers:t,action:i.default.SONG.API_GET_CAT_SONG_LIST},r)}}function getRankAlbum(e,t,r){var o=u.default.apiDomain+a.default.API_QUERY_ALBUM;return function(s){(0,n.comFetch)(s,e,{url:o,headers:t,action:i.default.SONG.API_GET_RANK_ALBUM},r)}}function getAlbumRecommend(e,t,r){var o=u.default.apiDomain+a.default.API_QUERY_ALBUM_RECOMMEND;return function(s){(0,n.comFetch)(s,e,{url:o,headers:t,action:i.default.SONG.API_QUERY_ALBUM_RECOMMEND},r)}}function getAlbumRecommendSongList(e,t,r){var o=u.default.apiDomain+a.default.API_QUERY_ALBUM_RECOMMEND;return function(s){(0,n.comFetch)(s,e,{url:o,headers:t,action:i.default.SONG.API_QUERY_ALBUM_RECOMMEND_SONG_LIST},r)}}function getRanking(e,t,r){var o=u.default.apiDomain+a.default.API_QUERY_ALBUM;return function(s){(0,n.comFetch)(s,e,{url:o,headers:t,action:i.default.SONG.API_QUERY_RANKING},r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.getShareAudio=getShareAudio,t.getRecommend=getRecommend,t.push=push,t.pushLocal=pushLocal,t.getChooseList=getChooseList,t.getHistorySongList=getHistorySongList,t.setSongTop=setSongTop,t.getSingerCategoryAlbum=getSingerCategoryAlbum,t.getActorsAlbum=getActorsAlbum,t.getCatAlbum=getCatAlbum,t.getCatSongList=getCatSongList,t.getRankAlbum=getRankAlbum,t.getAlbumRecommend=getAlbumRecommend,t.getAlbumRecommendSongList=getAlbumRecommendSongList,t.getRanking=getRanking;var o=r(19),i=_interopRequireDefault(o),n=r(23),s=r(103),a=_interopRequireDefault(s),l=r(70),u=_interopRequireDefault(l)},749:function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _objectWithoutProperties(e,t){var r={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o]);return r}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},i=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),n=r(71),s=_interopRequireDefault(n),a=r(0),l=_interopRequireDefault(a),u=r(1),c=_interopRequireDefault(u),h=r(277),f={position:"absolute",top:"66px"},d=function(e){function Input(e){_classCallCheck(this,Input);var t=_possibleConstructorReturn(this,(Input.__proto__||Object.getPrototypeOf(Input)).call(this,e));return t.state={hash:(0,h.getRandomString)(24),value:"",errorText:""},t.handelValidate.bind(t),t}return _inherits(Input,e),i(Input,[{key:"componentDidMount",value:function(){var e=this.props.doValidate;e&&e(this.handelValidate.bind(this),this.state.hash)}},{key:"render",value:function(){var e=this.props,t=(e.onChange,e.errorStyle,e.errorText,e.minLength,e.maxLength,e.bindState,e.validate,e.doValidate,_objectWithoutProperties(e,["onChange","errorStyle","errorText","minLength","maxLength","bindState","validate","doValidate"]));return l.default.createElement(s.default,o({ref:"input",errorStyle:f,errorText:this.state.errorText,onChange:this.handelChange.bind(this)},t))}},{key:"handelChange",value:function(e,t){this.setState({value:t}),this.handelValidate(t);var r=this.props.bindState;r&&r(t)}},{key:"handelValidate",value:function(e){e=e||this.state.value;var t="",r=this.props.validate,o=this.props.minLength,i=this.props.maxLength;if("string"==typeof e&&(o&&e.length<o&&(t="长度不能小于"+o),i&&e.length>i&&(t="长度不能大于"+i)),!t&&"string"==typeof r)switch(r){case"account":/^[a-zA-z]\w{3,15}$/.test(e)||(t=this.props.errorText)}return this.setState({errorText:t}),t}}]),Input}(l.default.Component);t.default=d,d.propTypes={minLength:c.default.number,maxLength:c.default.number,errorStyle:c.default.object,validate:c.default.any,bindState:c.default.func,doValidate:c.default.func}},756:function(e,t,r){e.exports=r.p+"fonts/iconfont.eot?c930aafad3dc193752b0fbea5b8f2745"},757:function(e,t,r){var o=r(758);"string"==typeof o&&(o=[[e.i,o,""]]);r(280)(o,{});o.locals&&(e.exports=o.locals)},758:function(e,t,r){t=e.exports=r(279)(),t.push([e.i,".search-header .search-bar-panel{top:0;z-index:6;width:100%;color:#fff;position:fixed;padding:.13rem .107rem;text-align:center;height:1.2rem;background:-webkit-gradient(linear,0 100,283 0,from(#ff6932),to(#ff8332));display:inline-table!important}.search-header .search-bar-panel .key-word-input{margin:0;padding:0;overflow:hidden;width:100%!important;display:flex!important;border-radius:1.2rem;background-color:#fe9e62!important;height:.93rem!important;border:1px solid #fe9e62}.search-header .search-bar-panel .key-word-input div:first-child{display:flex;width:90%;height:100%;justify-content:center;align-items:center;bottom:auto!important}.search-header .search-bar-panel .key-word-input hr{display:none!important}.search-header .search-bar-panel .key-word-input input{height:.9rem!important;padding-left:5%!important;color:#fff!important}.search-header .search-bar-panel .key-word-input font{font-size:.4rem}.search-header .search-bar-panel .key-word-input img.search{height:12px;margin-right:4px}.search-header .search-bar-panel .key-word-input img.voice{display:block;padding:6px 10px 6px 18px;width:40px;height:30px;position:absolute;right:12px;z-index:1}.search-header .search-bar-panel .search-button{width:14%;display:table-cell}.search-header .search-panel{width:100%;height:100%;z-index:2;position:fixed;background-color:#fff}.search-header .search-panel .search-words{height:100%;padding:12px;padding-top:0}.search-header .search-panel .search-words .hot-words{display:flex;flex-wrap:wrap}.search-header .search-panel .search-words .hot-words .word{margin:4px 0 0 4px!important}.search-header .search-panel .search-words .history-words-title{height:.8rem;margin-top:.6rem}",""]),t.locals={barBaseHeight:"1.2rem"}},759:function(e,t,r){e.exports=r.p+"img/common/icon_voice.png?fb3acfa27b8a407b649d03a4a0f43840"},760:function(e,t,r){e.exports=r.p+"img/common/icon_search.png?0fb44260fa7b8de5f8c3c4dbf1ab4fa6"},764:function(e,t,r){var o=r(765);"string"==typeof o&&(o=[[e.i,o,""]]);r(280)(o,{});o.locals&&(e.exports=o.locals)},765:function(e,t,r){t=e.exports=r(279)(),t.push([e.i,"@font-face{font-family:silkiconfont;src:url("+r(756)+");src:url("+r(756)+'#iefix) format("embedded-opentype"),url('+r(766)+') format("woff"),url('+r(767)+') format("truetype"),url('+r(768)+'#silkiconfont) format("svg");font-weight:400;font-style:normal}@keyframes rotate{0%{transform:rotate(0deg);-webkit-transform:rotate(0deg)}to{transform:rotate(1turn);-webkit-transform:rotate(1turn)}}.silk-listcontrol-wrapper{overflow:hidden}.silk-listcontrol-wrapper-default{position:absolute;top:0;bottom:0;left:0;width:100%}.silk-listcontrol-scroller{z-index:1;-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none;-webkit-text-size-adjust:none;text-size-adjust:none}.silk-listcontrol-scroller-horizontal{display:inline-block}.silk-listcontrol-scroller-vertical{position:relative}.silk-listcontrol-loadwrapper{display:flex;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center;width:100%;height:50px;line-height:50px;position:absolute;color:#8f8e93;font-size:14px}.silk-listcontrol-loadwrapper-up{top:-50px}.silk-listcontrol-loadtip{display:-webkit-inline-box;display:inline-flex;-webkit-box-align:center;align-items:center}.silk-listcontrol-icon{font-family:silkiconfont!important;font-size:14px;font-style:normal;-webkit-font-smoothing:antialiased;-webkit-text-stroke-width:.2px;-moz-osx-font-smoothing:grayscale;color:#3587f2;transition:transform .4s;-webkit-transition:-webkit-transform .4s}.silk-listcontrol-text{padding-left:5px}',""])},766:function(e,t){e.exports="data:application/font-woff;base64,"},767:function(e,t,r){e.exports=r.p+"fonts/iconfont.ttf?12a921df8a802d25de8ab8424fb51dd7"},768:function(e,t,r){e.exports=r.p+"fonts/iconfont.svg?a5e81d2f2094a8fb82b6a84067a7fd4e"},769:function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=function get(e,t,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,t);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in o)return o.value;var n=o.get;if(void 0!==n)return n.call(r)},n=r(0),s=_interopRequireDefault(n),a=r(166),l=r(102),u=r(50),c=r(1),h=_interopRequireDefault(c),f=r(748),d=r(747),p=_interopRequireDefault(d),m=r(277),y=r(101),g=r(770),v=_interopRequireDefault(g),S=r(281),T=r(70),_=(_interopRequireDefault(T),function(e){function SongItem(e){_classCallCheck(this,SongItem);var t=_possibleConstructorReturn(this,(SongItem.__proto__||Object.getPrototypeOf(SongItem)).call(this,e));return t.state={pushIng:{}},t.pushSong=t.pushSong.bind(t),t}return _inherits(SongItem,e),o(SongItem,[{key:"render",value:function(){var e=this.props.song;return s.default.createElement(a.ListItem,{className:"song-item",key:e.id,primaryText:s.default.createElement("div",null,s.default.createElement("div",{className:"song-title"},e.nameNorm,s.default.createElement("i",{className:"label-vip"},e.charge?s.default.createElement("img",{src:v.default,style:{height:".4rem"}}):""))),secondaryText:s.default.createElement("div",{className:"song-author"},e.actor&&e.actor.map(function(e){return e.nameNorm}).join(" ")),rightToggle:this.state.pushIng[e.serialNo]?s.default.createElement(a.CircularProgress,{size:16,thickness:1,style:{right:3,textAlign:"center"}}):s.default.createElement("div",{className:"choose-button",onTouchTap:this.pushSong},"点歌")})}},{key:"pushSong",value:function(){var e=this,t=this.props,r=t.song,o=t.onPushSongSuccess,n=(t.onPushSongFail,t.userInfo),s=t.ottInfo,a=t.action_setGlobAlert;if(!0===i(SongItem.prototype.__proto__||Object.getPrototypeOf(SongItem.prototype),"validUserStatus",this).call(this,n.userInfoData,s,a)){this.state.pushIng[r.serialNo]=!0,this.setState({pushIng:this.state.pushIng});var l={id:JSON.stringify(r),type:4},u=function(){e.state.pushIng[r.serialNo]=!1,setTimeout(function(){e.setState({pushIng:e.state.pushIng}),o&&o(r)},600)},c=function(t){e.state.pushIng[r.serialNo]=!1,e.setState({pushIng:e.state.pushIng}),e.props.action_setGlobAlert("点歌失败！")};(0,m.dynaPush)({ottInfo:this.props.ottInfo,userInfo:this.props.userInfo,param:l,localNetIsWork:this.props.localNetIsWork,action_pushLocal:this.props.action_pushLocal,action_setLocalNet:this.props.action_setLocalNet,action_push:this.props.action_push,action_setGlobAlert:this.props.action_setGlobAlert,success:u,fail:c})}}}]),SongItem}(p.default));_.propTypes={song:h.default.object,onPushSongSuccess:h.default.func,onPushSongFail:h.default.func},_.defaultProps={song:{}};var b=function(e,t){return{songs:e.app.songs,userInfo:e.app.user.userInfo,ottInfo:e.app.device.ottInfo,localNetIsWork:e.app.common.localNetIsWork}},E=function(e,t){return{action_push:(0,u.bindActionCreators)(f.push,e),action_pushLocal:(0,u.bindActionCreators)(f.pushLocal,e),action_setGlobAlert:(0,u.bindActionCreators)(S.setGlobAlert,e),action_setLocalNet:(0,u.bindActionCreators)(S.setLocalNet,e)}};t.default=(0,l.withRouter)((0,y.connect)(b,E)(_))},770:function(e,t,r){e.exports=r.p+"img/common/icon_vip.png?8c3ff5f6596510032abfa218fbedbd82"},774:function(e,t,r){var o,i;!function(){"use strict";function classNames(){for(var e=[],t=0;t<arguments.length;t++){var o=arguments[t];if(o){var i=typeof o;if("string"===i||"number"===i)e.push(o);else if(Array.isArray(o))e.push(classNames.apply(null,o));else if("object"===i)for(var n in o)r.call(o,n)&&o[n]&&e.push(n)}}return e.join(" ")}var r={}.hasOwnProperty;void 0!==e&&e.exports?e.exports=classNames:(o=[],void 0!==(i=function(){return classNames}.apply(t,o))&&(e.exports=i))}()},780:function(e,t,r){e.exports=r.p+"img/common/bg_no_result.png?0e0d84b85deaafc6c825178837effa30"},781:function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function getHotWords(e,t){var r=u.default.apiDomain+a.default.API_GET_HOT_WORD;return function(o){(0,n.comFetch)(o,e,{url:r,headers:t,action:i.default.SEARCH.API_GET_HOT_WORD},null)}}function search(e,t,r){var o=u.default.apiDomain+a.default.API_SEARCH;return function(s){(0,n.comFetch)(s,e,{url:o,headers:t,action:i.default.SEARCH.API_SEARCH},r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.getHotWords=getHotWords,t.search=search;var o=r(19),i=_interopRequireDefault(o),n=r(23),s=r(103),a=_interopRequireDefault(s),l=r(70),u=_interopRequireDefault(l)},816:function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _objectWithoutProperties(e,t){var r={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o]);return r}function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},i=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),n=r(0),s=_interopRequireDefault(n),a=r(166),l=r(102),u=r(50),c=r(1),h=_interopRequireDefault(c),f=r(747),d=_interopRequireDefault(f),p=r(277),m=r(101),y=r(769),g=_interopRequireDefault(y);r(764);var v=r(748),S=r(781),T=r(780),_=_interopRequireDefault(T),b=r(817),E=_interopRequireDefault(b),R={commonSongList:{position:"absolute",height:"100%",overflowY:"auto",width:"100%"},loading:{position:"relative",display:"flex",justifyContent:"center",height:30,fontSize:"14px",marginBottom:14,alignItems:"center"},loadingBar:{boxShadow:"none",top:"none",left:"none",transform:"none",marginLeft:-50},noResult:{height:"100%",marginTop:"15%",zIndex:-1,display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},scrollToTop:{width:"1.5rem",height:"1.5rem",borderRadius:"1.5rem",backgroundColor:"rgba(255, 104, 50, 0.76)",position:"fixed",bottom:"1rem",right:"1rem",display:"flex",justifyContent:"center",alignItems:"center"}},A=function(e){function SongList(e){_classCallCheck(this,SongList);var t=_possibleConstructorReturn(this,(SongList.__proto__||Object.getPrototypeOf(SongList)).call(this,e)),r=null,o="",i="";return t.props.singerId?(o="getActorsAlbum",i="getActorsAlbumStamp",r=t.props.action_getActorsAlbum):t.props.catId?(o="getCatSongList",i="getCatSongListStamp",r=t.props.action_getCatSongList):t.props.hotId?(o="getRankAlbum",i="getRankAlbumStamp",r=t.props.action_getRankAlbum):t.props.recommendId?(o="getAlbumRecommendSongList",i="getAlbumRecommendSongListStamp",r=t.props.action_getAlbumRecommendSongList):t.props.search&&(o="searchResult",i="searchResultStamp",r=t.props.action_searchResult),t.state={pageSize:20,stamp:i,pageData:[],noData:!1,loading:!1,currentPage:0,lastPage:!1,dataKey:o,queryFun:r,needScrollToTop:!1,id:t.props.singerId||t.props.catId||t.props.hotId||t.props.recommendId},t.getContent=t.getContent.bind(t),t.scrollTo=t.scrollTo.bind(t),t}return _inherits(SongList,e),i(SongList,[{key:"componentDidMount",value:function(){this.props.search?this.state.currentPage=1:0===this.state.currentPage&&this.nextPage()}},{key:"componentDidUpdate",value:function(e){var t=this.state.stamp;if(e.songs[t]!==this.props.songs[t]){var r=this.props.songs[this.state.dataKey]||{data:{result:[],lastPage:!1}},o=r.data,i=o.result,n=o.lastPage,s=[].concat(_toConsumableArray(this.state.pageData),_toConsumableArray(i||[]));this.setState({pageData:s,lastPage:n,loading:!1}),this.state.currentPage>0&&0===s.length?this.setState({noData:!0}):this.setState({noData:!1})}this.props.keyword&&e.keyword!==this.props.keyword&&this.refreshPage()}},{key:"render",value:function(){var e=this,t=this.state.noData,r=this.props,i=(r.singerId,r.catId,r.hotId,r.headImg);_objectWithoutProperties(r,["singerId","catId","hotId","headImg"]);return t?s.default.createElement("div",{style:R.noResult},s.default.createElement("img",{src:_.default,style:{maxWidth:"80%"}}),s.default.createElement("p",{style:{color:"#7e7e7e"}},"没有任何东东哟")):s.default.createElement("div",{className:"common-song-list",style:o({},R.commonSongList,{paddingTop:this.props.paddingTop?this.props.paddingTop:5}),onScroll:this.onScroll.bind(this)},i&&s.default.createElement("img",{style:{top:44,width:"100%"},src:decodeURIComponent(i).replace(/___dot___/g,".")}),s.default.createElement(a.List,{className:"song-list"},this.getContent()),this.state.needScrollToTop?s.default.createElement("div",{style:R.scrollToTop,onClick:function(){e.scrollTo(0)}},s.default.createElement(E.default,{color:"white"})):"",s.default.createElement("div",{style:R.loading},this.state.loading?s.default.createElement(a.RefreshIndicator,{size:30,left:70,top:0,loadingColor:"#FF9800",status:"loading",style:R.loadingBar}):"",s.default.createElement("span",null,this.state.lastPage?"亲爱滴，已经到底了":"正在加载")))}},{key:"pullRefreshAction",value:function(e,t){this.state.loading||this.refreshPage(e)}},{key:"loadMoreAction",value:function(e,t){this.state.loading||this.nextPage(e)}},{key:"getContent",value:function(){var e=this;return this.state.pageData.map(function(t){return s.default.createElement(g.default,{key:t.id,song:t,onPushSongSuccess:e.props.onPushSongSuccess,onPushSongFail:e.props.onPushSongFail})})}},{key:"nextPage",value:function(e){if(!this.state.lastPage){this.state.currentPage+=1,this.state.loading=!0;var t=this.state,r=t.currentPage,o=t.pageSize,i=t.queryFun,n=t.id,s={currentPage:r,pageSize:o};this.props.search?(s.type="actorAndMedias",s.keyword=this.props.keyword):s.id=n,i&&i(s,(0,p.reqHeader)(s),e)}}},{key:"refreshPage",value:function(e){this.setState({currentPage:1,pageData:[],lastPage:!1,loading:!0,scrollTarget:null,scrollIng:!1,scrollToTop:!1});var t=this.state,r=t.pageSize,o=t.queryFun,i=t.id,n={currentPage:1,pageSize:r};this.props.search?(n.type="actorAndMedias",n.keyword=this.props.keyword):n.id=i,o&&o(n,(0,p.reqHeader)(n),e)}},{key:"onScroll",value:function(e){if(!this.state.loading&&e.target.classList&&e.target.classList.contains("common-song-list")){this.state.scrollTarget=e.target;e.target.scrollHeight-(e.target.scrollTop+e.target.clientHeight)<50&&this.loadMoreAction(),e.target.scrollTop>1e3?this.setState({needScrollToTop:!0}):this.setState({needScrollToTop:!1})}}},{key:"scrollTo",value:function(e){(this.state||{scrollTo:function(e){return e}}).scrollTarget.scrollTop=e}}]),SongList}(d.default);A.defaultProps={singerId:0,catId:0,hotId:0,recommendId:0,search:!1},A.propTypes={singerId:h.default.number,catId:h.default.number,hotId:h.default.number,recommendId:h.default.number,keyword:h.default.string,search:h.default.bool,onPushSongSuccess:h.default.func,onPushSongFail:h.default.func,headImg:h.default.string,paddingTop:h.default.number};var P=function(e,t){return{songs:e.app.songs}},k=function(e,t){return{action_getActorsAlbum:(0,u.bindActionCreators)(v.getActorsAlbum,e),action_getCatSongList:(0,u.bindActionCreators)(v.getCatSongList,e),action_getRankAlbum:(0,u.bindActionCreators)(v.getRankAlbum,e),action_searchResult:(0,u.bindActionCreators)(S.search,e),action_getAlbumRecommendSongList:(0,u.bindActionCreators)(v.getAlbumRecommendSongList,e)}};t.default=(0,l.withRouter)((0,m.connect)(P,k)(A))},817:function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),i=_interopRequireDefault(o),n=r(22),s=_interopRequireDefault(n),a=r(20),l=_interopRequireDefault(a),u=function(e){return i.default.createElement(l.default,e,i.default.createElement("path",{d:"M8 11h3v10h2V11h3l-4-4-4 4zM4 3v2h16V3H4z"}))};u=(0,s.default)(u),u.displayName="EditorVerticalAlignTop",u.muiName="SvgIcon",t.default=u},818:function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),i=_interopRequireDefault(o),n=r(22),s=_interopRequireDefault(n),a=r(20),l=_interopRequireDefault(a),u=function(e){return i.default.createElement(l.default,e,i.default.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}))};u=(0,s.default)(u),u.displayName="ContentClear",u.muiName="SvgIcon",t.default=u},850:function(e,t,r){var o,i,n,s=r(104),a=r(1035),l=r(291),u=r(171),c=r(38),h=c.process,f=c.setImmediate,d=c.clearImmediate,p=c.MessageChannel,m=0,y={},g=function(){var e=+this;if(y.hasOwnProperty(e)){var t=y[e];delete y[e],t()}},v=function(e){g.call(e.data)};f&&d||(f=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return y[++m]=function(){a("function"==typeof e?e:Function(e),t)},o(m),m},d=function(e){delete y[e]},"process"==r(105)(h)?o=function(e){h.nextTick(s(g,e,1))}:p?(i=new p,n=i.port2,i.port1.onmessage=v,o=s(n.postMessage,n,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(o=function(e){c.postMessage(e+"","*")},c.addEventListener("message",v,!1)):o="onreadystatechange"in u("script")?function(e){l.appendChild(u("script")).onreadystatechange=function(){l.removeChild(this),g.call(e)}}:function(e){setTimeout(s(g,e,1),0)}),e.exports={set:f,clear:d}},851:function(e,t,r){"use strict";function prefixStyle(e){return!1!==l&&(""===l?e:l+e.charAt(0).toUpperCase()+e.substr(1))}function addEvent(e,t,r,o){e.addEventListener(t,r,!!o)}function removeEvent(e,t,r,o){e.removeEventListener(t,r,!!o)}function momentum(e,t,r,o,i){var n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:6e-4,s=e-t,a=void 0,l=void 0,u=Math.abs(s)/r;return a=e+u*u/(2*n)*(s<0?-1:1),l=u/n,a<o?(a=i?o-i/2.5*(u/8):o,s=Math.abs(a-e),l=s/u):a>0&&(a=i?i/2.5*(u/8):0,s=Math.abs(e)+a,l=s/u),{destination:Math.round(a),duration:l}}function offset(e){for(var t=-e.offsetLeft,r=-e.offsetTop;e=e.offsetParent;)t-=e.offsetLeft,r-=e.offsetTop;return{left:t,top:r}}function preventDefaultException(e,t){for(var r in t)if(t[r].test(e[r]))return!0;return!1}Object.defineProperty(t,"__esModule",{value:!0});var o=r(51),i=function(e){return e&&e.__esModule?e:{default:e}}(o),n=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)},s=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||window.clearTimeout,a=document.createElement("div").style,l=function(){for(var e=["t","webkitT","MozT","msT","OT"],t=e.length,r=0;r<t;r++)if(e[r]+"ransform"in a)return e[r].substr(0,e[r].length-1);return!1}(),u=function(){var e=window.navigator.appVersion;if(/Android/.test(e)&&!/Chrome\/\d/.test(e)){var t=e.match(/Safari\/(\d+.\d)/);return!(t&&"object"===(void 0===t?"undefined":(0,i.default)(t))&&t.length>=2)||parseFloat(t[1])<535.19}return!1}(),c=prefixStyle("transform"),h=Date.now||function(){return(new Date).getTime()},f={transform:c,transitionTimingFunction:prefixStyle("transitionTimingFunction"),transitionDuration:prefixStyle("transitionDuration"),transitionDelay:prefixStyle("transitionDelay"),transformOrigin:prefixStyle("transformOrigin")},d={touchstart:1,touchmove:1,touchend:1},p={quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(e){return e*(2-e)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(e){return Math.sqrt(1- --e*e)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(e){return(e-=1)*e*(5*e+4)+1}},bounce:{style:"",fn:function(e){return(e/=1)<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}},elastic:{style:"",fn:function(e){return 0===e?0:1==e?1:.4*Math.pow(2,-10*e)*Math.sin((e-.055)*(2*Math.PI)/.22)+1}}},m={hasTransform:!1!==c,hasPerspective:prefixStyle("perspective")in a,hasTouch:"ontouchstart"in window,hasTransition:prefixStyle("transition")in a,prefixStyle:prefixStyle,addEvent:addEvent,removeEvent:removeEvent,getTime:h,style:f,isBadAndroid:u,offset:offset,momentum:momentum,preventDefaultException:preventDefaultException,eventType:d,ease:p,requestAnimationFrame:n,cancelAnimationFrame:s};t.default=m}});