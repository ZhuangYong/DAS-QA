webpackJsonp([16],{737:function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var o=Object.getPrototypeOf(e);return null===o?void 0:get(o,t,r)}if("value"in n)return n.value;var i=n.get;if(void 0!==i)return i.call(r)},i=r(0),a=_interopRequireDefault(i),u=r(50),l=r(101),s=r(102),c=r(1),f=_interopRequireDefault(c),d=(r(284),r(283)),p=r(277),_=r(748),h=(_interopRequireDefault(_),r(745)),g=_interopRequireDefault(h),y=r(299),m=_interopRequireDefault(y),v=r(814),b=_interopRequireDefault(v),R={recordings:{position:"absolute",paddingTop:(0,p.toRem)(20),height:"100%",overflowY:"auto",width:"100%"},loading:{position:"relative",display:"flex",justifyContent:"center",height:(0,p.toRem)(100),fontSize:(0,p.toRem)(28),alignItems:"center",clear:"both"},loadingBar:{boxShadow:"none",top:"none",left:"none",transform:"none",marginLeft:-50}},E=function(e){function Records(e){_classCallCheck(this,Records);var t=_possibleConstructorReturn(this,(Records.__proto__||Object.getPrototypeOf(Records)).call(this,e));return o(Records.prototype.__proto__||Object.getPrototypeOf(Records.prototype),"title",t).call(t,"我的录音"),t.state={recordingList:[],pageSize:20,currentPage:0,loading:!1,lastPage:!1},t}return _inherits(Records,e),n(Records,[{key:"componentDidUpdate",value:function(e){if(e.list.recordsListStamp!==this.props.list.recordsListStamp){var t=this.props.list.recordsListData||{data:{result:[],islastpage:!1}},r=t.data,n=r.result,o=r.islastpage;this.setState({recordingList:[].concat(_toConsumableArray(this.state.recordingList),_toConsumableArray(n||[])),lastPage:o,loading:!1})}}},{key:"componentDidMount",value:function(){0===this.state.currentPage&&this.loadMoreAction()}},{key:"render",value:function(){var e=this.state.recordingList;return a.default.createElement("div",{className:"recordings",style:R.recordings,onScroll:this.onScroll.bind(this)},a.default.createElement(b.default,{data:e}),a.default.createElement("div",{style:R.loading},this.state.loading?a.default.createElement(m.default,{size:30,left:70,top:0,loadingColor:"#FF9800",status:"loading",style:R.loadingBar}):"",a.default.createElement("span",null,this.state.lastPage?"亲爱滴，已经到底了":"正在加载")))}},{key:"onScroll",value:function(e){if(!this.state.loading&&e.target.classList&&e.target.classList.contains("recordings")){e.target.scrollHeight-(e.target.scrollTop+e.target.clientHeight)<50&&this.loadMoreAction()}}},{key:"loadMoreAction",value:function(e,t){if(!this.state.loading&&!this.state.lastPage){var r=this.state.currentPage+1,n=this.state.pageSize,o={currentPage:r,pageSize:n};this.props.getRecordsListActions(o,(0,p.reqHeader)(o),e),this.setState({currentPage:r,loading:!0})}}}]),Records}(g.default);E.defaultProps={list:{recordsListData:{}}},E.propTypes={list:f.default.object};var O=function(e,t){return{list:e.app.songs}},C=function(e,t){return{getRecordsListActions:(0,u.bindActionCreators)(d.getRecordsList,e)}};t.default=(0,s.withRouter)((0,l.connect)(O,C)(E))},745:function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=r(0),i=r(278),a=_interopRequireDefault(i),u=(r(102),r(101),r(19)),l=_interopRequireDefault(u),s=function(e){function BaseComponent(e){_classCallCheck(this,BaseComponent);var t=_possibleConstructorReturn(this,(BaseComponent.__proto__||Object.getPrototypeOf(BaseComponent)).call(this,e));return t.bindState.bind(t),t.title=t.title.bind(t),a.default.setHistory(t.props.history),t}return _inherits(BaseComponent,e),n(BaseComponent,[{key:"render",value:function(){return React.createElement("div",null)}},{key:"bindState",value:function(e){var t=this;return function(r){var n={};n[e]=r,t.setState(n)}}},{key:"title",value:function(e){document.title=e}},{key:"validUserStatus",value:function(e,t,r){var n=t||{},o=n.data,i=o||{},a=i.systemTime,u=i.timeStamp,s=this.isVip(e),c=this.isBindDevice(e),f=this.isFreeActivation(e);if("string"==typeof c)return r&&r(c),"正在获取用户信息";if(!1===c)return r&&r("",l.default.COMMON.ALERT_TYPE_BIND_DEVICE),!1;if(!0===c){if(!0===f)return r&&r("",l.default.COMMON.ALERT_TYPE_FREE_ACTIVE),!1;if(!1===f)return function(){return!(!a||!u)&&!(a-u>72e4)}()?!1!==s||(r&&r("",l.default.COMMON.ALERT_TYPE_BE_VIP),!1):(r&&r("",l.default.COMMON.ALERT_TYPE_DEVICE_NOT_ONLINE),!1)}}},{key:"validUserBindDevice",value:function(e,t){var r=this.isBindDevice(e);return"string"==typeof r?(t&&t("正在获取用户信息，请稍后重试！"),"正在获取用户信息"):!1===r?(t&&t("",l.default.COMMON.ALERT_TYPE_BIND_DEVICE),!1):!0===r||void 0}},{key:"validUserDeviceOnline",value:function(e,t){var r=e||{},n=r.data,o=n||{},i=o.systemTime,a=o.timeStamp;if(i&&a){return!!!(i-a>72e4)||(t&&t("",l.default.COMMON.ALERT_TYPE_DEVICE_NOT_ONLINE),!1)}return t&&t("",l.default.COMMON.ALERT_TYPE_DEVICE_NOT_ONLINE),!1}},{key:"isFreeActivation",value:function(e){var t=e||{},r=t.status,n=t.data;if(void 0!==r){return 1===n.isFreeActivation}return"正在获取用户信息"}},{key:"isBindDevice",value:function(e){var t=e||{},r=t.status,n=t.msg,o=t.data;if(void 0!==r){if(-100===r)return"请使用微信操作";if(1===r){var i=o.isReDevice;o.bindExpireTime;return 1===i}return n||"获取用户信息失败，请稍后重试！"}return"正在获取用户信息"}},{key:"isVip",value:function(e){var t=e||{},r=t.status,n=t.data;if(void 0!==r){var o=n.vipStatus,i=n.expireTime;return 1===o&&(new Date).getTime()<i}return"正在获取用户信息"}}]),BaseComponent}(o.Component);t.default=s},748:function(e,t,r){e.exports=r.p+"img/common/tile_default.jpg?ede3715f1c8a57f43847b8f53ec156a1"},814:function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=r(0),i=_interopRequireDefault(o),a=r(277),u=r(166),l=r(748),s=_interopRequireDefault(l),c=r(815),f=_interopRequireDefault(c),d=function(e){function RecordingGrid(e){return _classCallCheck(this,RecordingGrid),_possibleConstructorReturn(this,(RecordingGrid.__proto__||Object.getPrototypeOf(RecordingGrid)).call(this,e))}return _inherits(RecordingGrid,e),n(RecordingGrid,[{key:"render",value:function(){var e=this.props.data;return i.default.createElement(u.GridList,{cellHeight:"auto",style:{margin:"0 "+(0,a.toRem)(20),clear:"both"},cols:3},e.map(function(e){return i.default.createElement(u.GridTile,{key:e.uid,style:{position:"relative",width:(0,a.toRem)(230),height:(0,a.toRem)(230)}},i.default.createElement("img",{src:s.default,onError:function(e){e.target.src=s.default},style:{display:"block",margin:"0 auto",width:(0,a.toRem)(230),height:(0,a.toRem)(230)},onTouchTap:function(){(0,a.linkTo)("user/recordings/play/"+e.uid,!1,null)}}),i.default.createElement("div",{style:{position:"absolute",bottom:0,left:0,margin:"0 auto",padding:"0 "+(0,a.toRem)(10),width:(0,a.toRem)(230),height:(0,a.toRem)(60),backgroundColor:"rgba(0, 0, 0, .5)",boxSizing:"border-box"}},i.default.createElement("div",{style:{display:"inline-block",width:(0,a.toRem)(160),lineHeight:(0,a.toRem)(65),color:"#fff",fontSize:(0,a.toRem)(20),whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}},e.nameNorm),i.default.createElement(f.default,{style:{float:"right",width:(0,a.toRem)(34),height:(0,a.toRem)(60),color:"#fff"}})))}))}}]),RecordingGrid}(i.default.Component);t.default=d},815:function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=_interopRequireDefault(n),i=r(22),a=_interopRequireDefault(i),u=r(20),l=_interopRequireDefault(u),s=function(e){return o.default.createElement(l.default,e,o.default.createElement("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}))};s=(0,a.default)(s),s.displayName="NavigationMoreHoriz",s.muiName="SvgIcon",t.default=s}});