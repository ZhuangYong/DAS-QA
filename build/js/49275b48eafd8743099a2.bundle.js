webpackJsonp([4],{751:function(e,t,o){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},a=function(){function defineProperties(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e}}(),r=function get(e,t,o){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var a=Object.getPrototypeOf(e);return null===a?void 0:get(a,t,o)}if("value"in n)return n.value;var r=n.get;if(void 0!==r)return r.call(o)},i=o(0),l=_interopRequireDefault(i),s=o(87),u=o(106),c=o(294),f=o(27),d=_interopRequireDefault(f),p=o(307),m=o(287),h=_interopRequireDefault(m);o(802);var g=o(779),b=o(295),_=o(807),y=_interopRequireDefault(_),v=o(795),S=_interopRequireDefault(v),w=o(286),A=o(893),k=_interopRequireDefault(A),E=o(894),T=_interopRequireDefault(E),R=o(895),P=_interopRequireDefault(R),O=o(169),I=o(53),x=o(781),C=_interopRequireDefault(x),D=o(808),N=_interopRequireDefault(D),L=o(170),M=_interopRequireDefault(L),j={home:{paddingTop:"1.2rem",position:"absolute",height:"100%",overflowY:"auto",width:"100%"},topNav:{display:"table",width:"100%",item:{display:"table-cell",width:"33.33%",paddingTop:".347rem",textAlign:"center"},img:{width:"1.5rem"},label:{margin:".16rem",fontSize:".4rem",color:"#ff6832"}},paper:{margin:"0 .267rem",minHeight:"5.2rem"},tile:{width:"100%",overflow:"hidden"},tileImg:{height:"3.067rem",width:"4.27rem",minWidth:"4.27rem",margin:"auto",display:"inherit"},gridList:{display:"flex",flexWrap:"nowrap",overflowX:"auto",margin:"0 4px"},itemTitle:{fontSize:".32rem",paddingTop:".08rem",height:".6rem",display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center"},loadingBar:{boxShadow:"none",top:"none",left:"none",transform:"none",marginLeft:-50},loadingRotate:{width:".42rem",height:".42rem",marginRight:".2rem",position:"relative",loadingCircle:{stroke:"#FF9800",strokeLinecap:"round",transition:"all 850ms ease-in-out 0ms",strokeDasharray:"80, 114",strokeDashoffset:"-403.668"}}},q="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==",F=[{id:"defaultData0",wxPic:q},{id:"defaultData1",wxPic:q},{id:"defaultData2",wxPic:q},{id:"defaultData3",wxPic:q},{id:"defaultData4",wxPic:q},{id:"defaultData5",wxPic:q},{id:"defaultData6",wxPic:q}],B=F,G=function(e){function Home(e){_classCallCheck(this,Home);var t=_possibleConstructorReturn(this,(Home.__proto__||Object.getPrototypeOf(Home)).call(this,e));return r(Home.prototype.__proto__||Object.getPrototypeOf(Home.prototype),"title",t).call(t,"主页"),t.state={defaultBack:"/",showMsg:!1,msgText:"",pageSize:20,pageData:[],loading:!1,currentPage:0,lastPage:!1,barrageSendToast:!1,barrageToastMsg:"",offLineLock:!1},t.onPushSongFail=t.onPushSongFail.bind(t),t.onPushSongSuccess=t.onPushSongSuccess.bind(t),t.getRecommendSongsContent=t.getRecommendSongsContent.bind(t),t}return _inherits(Home,e),a(Home,[{key:"componentDidMount",value:function(){var e={id:"home"},t=e;this.props.action_getRanking(e,(0,w.reqHeader)(e)),this.props.action_getAlbumRecommend(t,(0,w.reqHeader)(t)),0===this.state.currentPage&&this.loadMoreAction()}},{key:"componentDidUpdate",value:function(e){this.state.stamp;if(e.songs.recommendSongsStamp!==this.props.songs.recommendSongsStamp){var t=this.props.songs.recommendSongs||{data:{result:[],lastPage:!1}},o=t.data,n=o.result,a=o.lastPage;this.setState({pageData:[].concat(_toConsumableArray(this.state.pageData),_toConsumableArray(n||[])),lastPage:a,loading:!1})}}},{key:"render",value:function(){var e=this,t=this.state,o=t.offLine,a=t.loading,r=t.lastPage,i=(t.currentPage,t.pageData,this.props.songs.getAlbumRecommend||{data:{result:F}}),s=this.props.songs.getRanking||{data:{result:B}},u={};return this.state.needScrollToTop||(u={opacity:0}),l.default.createElement("div",null,l.default.createElement(S.default,{back:this.back}),l.default.createElement("div",{className:"home",style:j.home,onScroll:this.onScroll.bind(this),onTouchEnd:this.onScroll.bind(this)},l.default.createElement(d.default,{zDepth:0},l.default.createElement("div",{style:j.topNav},l.default.createElement("span",{style:j.topNav.item,onClick:function(){(0,w.linkTo)("catAlbum",!1,null)}},l.default.createElement("img",{src:k.default,style:j.topNav.img}),l.default.createElement("p",{style:j.topNav.label},"分类")),l.default.createElement("span",{style:j.topNav.item,onClick:function(){(0,w.linkTo)("singer/album",!1,null)}},l.default.createElement("img",{src:P.default,style:j.topNav.img}),l.default.createElement("p",{style:j.topNav.label},"歌星")),l.default.createElement("span",{style:j.topNav.item,onClick:function(){(0,w.linkTo)("songs/hotId/48/热歌/",!1,null)}},l.default.createElement("img",{src:T.default,style:j.topNav.img}),l.default.createElement("p",{style:j.topNav.label},"热歌")))),l.default.createElement(d.default,{zDepth:0,style:n({},j.paper,{position:"relative"})},l.default.createElement(p.CardTitle,{style:{padding:"0 8px",height:"1.467rem"},titleStyle:{fontSize:".453rem",paddingTop:".22rem",height:"1.467rem",display:"flex",alignItems:"center"},title:"精选推荐"}),l.default.createElement("div",{className:"home-recommend",style:{width:"100%",overflowX:"visible",overflowY:"hidden",position:"absolute"}},i.data.result.map(function(e){return l.default.createElement(c.GridTile,{key:e.id,title:"",style:{display:"table-cell",padding:"0 .067rem"},titleStyle:{textAlign:"center",marginRight:"16px",marginTop:"20%",color:"black"},titleBackground:"transparent",onClick:function(){e.name&&(0,w.linkTo)("songs/recommendId/"+e.id+"/"+e.name+"/"+encodeURIComponent((0,b.btoa)(e.wxPic||e.imgurl)),!1,null)}},l.default.createElement("div",{style:j.tile},l.default.createElement("img",{className:"img-not-loaded",src:e.wxPic||e.imgurl,style:j.tileImg}),l.default.createElement("div",{style:j.itemTitle},e.name)))}))),l.default.createElement(d.default,{zDepth:0,style:n({},j.paper,{position:"relative"})},l.default.createElement(p.CardTitle,{style:{padding:"0 8px",height:"1.467rem"},titleStyle:{fontSize:".453rem",paddingTop:".22rem",height:"1.467rem",display:"flex",alignItems:"center"},title:"经典排行"}),l.default.createElement("div",{className:"home-rank",style:{width:"100%",overflowX:"auto",overflowY:"hidden",position:"absolute"}},s.data.result.map(function(e){return l.default.createElement(c.GridTile,{key:e.id,title:"",style:{display:"table-cell",padding:"0 .067rem"},titleBackground:"transparent",onClick:function(){e.name&&(0,w.linkTo)("songs/hotId/"+e.id+"/"+e.name+"/"+encodeURIComponent((0,b.btoa)(e.wxPic||e.imgurl)),!1,null)}},l.default.createElement("div",{style:j.tile},l.default.createElement("img",{className:"img-not-loaded",src:e.wxPic||e.imgurl,style:j.tileImg}),l.default.createElement("div",{style:j.itemTitle},e.name)))}))),l.default.createElement(d.default,{zDepth:0,style:j.paper},l.default.createElement(p.CardTitle,{style:{padding:"0 8px"},titleStyle:{fontSize:".453rem",height:"1.467rem",display:"flex",alignItems:"center"},title:"个性化推荐"}),l.default.createElement(O.List,{className:"song-list"},this.getRecommendSongsContent()),l.default.createElement("div",{className:"loading-bottom"},l.default.createElement("div",null,l.default.createElement("svg",{className:"rotate",viewBox:"0 0 40 40",style:n({opacity:a?1:0},j.loadingRotate)},l.default.createElement("circle",{cx:"20",cy:"20",r:"18.25",fill:"none",strokeWidth:"3.5",strokeMiterlimit:"20",style:j.loadingRotate.loadingCircle})),l.default.createElement("span",null,a?"正在加载":"",!o&&r?"亲爱滴，已经到底了":"",o&&!a?M.default.STRING_NO_WIFI:""))))),l.default.createElement(O.Snackbar,{open:this.state.barrageSendToast,message:this.state.barrageToastMsg,autoHideDuration:M.default.TOAST_BOTTOM_SHOW_TIME,onRequestClose:function(){e.setState({barrageSendToast:!1})}}),l.default.createElement("div",{className:"scroll-to-top-button",style:u,onTouchTap:function(){e.scrollTo(0)}},l.default.createElement(y.default,{color:"white"})),l.default.createElement(C.default,{selectedIndex:0}))}},{key:"onScroll",value:function(e){if(e.target.classList&&e.target.classList.contains("home")){this.state.scrollTarget=e.target;var t=e.target.scrollHeight-(e.target.scrollTop+e.target.clientHeight);this.state.scrollTop=e.target.scrollTop,!this.state.offLineLock&&!this.state.loading&&t<50&&this.loadMoreAction(),e.target.scrollTop>M.default.NEED_SCROLL_TOP_HEIGHT?this.setState({needScrollToTop:!0}):this.setState({needScrollToTop:!1})}}},{key:"scrollTo",value:function(e){var t=this.state||{scrollTo:function(e){return e}},o=t.scrollTarget;o.scrollTop=e,setTimeout(function(){o.scrollTop=e},100)}},{key:"loadMoreAction",value:function(e,t){var o=this;if(!this.state.loading&&!this.state.lastPage){var n=this.state.currentPage+1,a=this.state.pageSize,r={currentPage:n,pageSize:a,id:"48"};this.props.action_getRecommend(r,(0,w.reqHeader)(r),e,function(){o.setState({offLine:!0,offLineLock:!0,loading:!1}),setTimeout(function(){o.setState({offLineLock:!1})},3e3)}),this.setState({currentPage:n,loading:!0})}}},{key:"getRecommendSongsContent",value:function(){var e=this;return this.state.pageData.map(function(t){return l.default.createElement(N.default,{key:t.id,song:t,onPushSongSuccess:e.onPushSongSuccess,onPushSongFail:e.onPushSongFail})})}},{key:"onPushSongSuccess",value:function(e){var t=e.nameNorm;this.setState({barrageSendToast:!0,barrageToastMsg:t+" 点歌成功"})}},{key:"onPushSongFail",value:function(e){this.setState({barrageSendToast:!0,barrageToastMsg:e})}}]),Home}(h.default),U=function(e,t){return{songs:e.app.songs}},H=function(e,t){return{action_getRecommend:(0,I.bindActionCreators)(g.getRecommend,e),action_getAlbumRecommend:(0,I.bindActionCreators)(g.getAlbumRecommend,e),action_getRanking:(0,I.bindActionCreators)(g.getRanking,e)}};t.default=(0,u.withRouter)((0,s.connect)(U,H)(G))},779:function(e,t,o){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function getShareAudio(e,t){var o=u.default.apiDomain+l.default.API_QUERY_USER_SOUND;return function(n){(0,r.comFetch)(n,e,{url:o,headers:t,action:a.default.AUDIO.API_GET_SHARE_AUDIO},null)}}function getRecommend(e,t,o,n){var i=u.default.apiDomain+l.default.API_QUERY_ALBUM;return function(l){(0,r.comFetch)(l,e,{url:i,headers:t,action:a.default.SONG.API_GET_RECOMMEND},o,n)}}function push(e,t,o,n){var i=u.default.apiDomain+l.default.API_PUSH;return function(l){(0,r.comFetch)(l,e,{url:i,headers:t,action:a.default.SONG.API_PUSH},o,n)}}function pushLocal(e,t,o,n,i){var s=e+l.default.API_PUSH;return function(e){(0,r.comFetch)(e,t,{url:s,type:"get",headers:o,timeout:3e3,action:a.default.SONG.API_PUSH},n,i)}}function getChooseList(e,t,o,n){var i=u.default.apiDomain+l.default.API_CHOOSE_LIST;return function(l){(0,r.comFetch)(l,e,{url:i,headers:t,action:a.default.SONG.API_CHOOSE_LIST},o,n)}}function getHistorySongList(e,t){var o=u.default.apiDomain+l.default.API_CHOOSE_LIST;return function(n){(0,r.comFetch)(n,e,{url:o,headers:t,action:a.default.SONG.API_CHOOSE_HISTORY_LIST},null)}}function setSongTop(e,t,o){var n=u.default.apiDomain+l.default.API_SET_SONG_TOP;return function(i){(0,r.comFetch)(i,e,{url:n,headers:t,action:a.default.SONG.API_SET_SONG_TOP},o)}}function getSingerCategoryAlbum(e,t,o,n){var i=u.default.apiDomain+l.default.API_GET_SINGER_CATEGORY_ALBUM;return function(l){(0,r.comFetch)(l,e,{url:i,headers:t,action:a.default.SONG.API_GET_SINGER_CATEGORY_ALBUM},o,n)}}function getActorsAlbum(e,t,o,n){var i=u.default.apiDomain+l.default.API_GET_ACTORS_ALBUM;return function(l){(0,r.comFetch)(l,e,{url:i,headers:t,action:a.default.SONG.API_GET_ACTORS_ALBUM},o,n)}}function getCatAlbum(e,t,o){var n=u.default.apiDomain+l.default.API_GET_CAT_ALBUM;return function(i){(0,r.comFetch)(i,e,{url:n,headers:t,action:a.default.SONG.API_GET_CAT_ALBUM},o)}}function getCatSongList(e,t,o,n){var i=u.default.apiDomain+l.default.API_GET_CAT_ALBUM;return function(l){(0,r.comFetch)(l,e,{url:i,headers:t,action:a.default.SONG.API_GET_CAT_SONG_LIST},o,n)}}function getRankAlbum(e,t,o,n){var i=u.default.apiDomain+l.default.API_QUERY_ALBUM;return function(l){(0,r.comFetch)(l,e,{url:i,headers:t,action:a.default.SONG.API_GET_RANK_ALBUM},o,n)}}function getAlbumRecommend(e,t,o){var n=u.default.apiDomain+l.default.API_QUERY_ALBUM_RECOMMEND;return function(i){(0,r.comFetch)(i,e,{url:n,headers:t,action:a.default.SONG.API_QUERY_ALBUM_RECOMMEND},o)}}function getAlbumRecommendSongList(e,t,o,n){var i=u.default.apiDomain+l.default.API_QUERY_ALBUM_RECOMMEND;return function(l){(0,r.comFetch)(l,e,{url:i,headers:t,action:a.default.SONG.API_QUERY_ALBUM_RECOMMEND_SONG_LIST},o,n)}}function getRanking(e,t,o){var n=u.default.apiDomain+l.default.API_QUERY_ALBUM;return function(i){(0,r.comFetch)(i,e,{url:n,headers:t,action:a.default.SONG.API_QUERY_RANKING},o)}}Object.defineProperty(t,"__esModule",{value:!0}),t.getShareAudio=getShareAudio,t.getRecommend=getRecommend,t.push=push,t.pushLocal=pushLocal,t.getChooseList=getChooseList,t.getHistorySongList=getHistorySongList,t.setSongTop=setSongTop,t.getSingerCategoryAlbum=getSingerCategoryAlbum,t.getActorsAlbum=getActorsAlbum,t.getCatAlbum=getCatAlbum,t.getCatSongList=getCatSongList,t.getRankAlbum=getRankAlbum,t.getAlbumRecommend=getAlbumRecommend,t.getAlbumRecommendSongList=getAlbumRecommendSongList,t.getRanking=getRanking;var n=o(18),a=_interopRequireDefault(n),r=o(21),i=o(107),l=_interopRequireDefault(i),s=o(72),u=_interopRequireDefault(s)},781:function(e,t,o){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},a=function(){function defineProperties(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e}}(),r=function get(e,t,o){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var a=Object.getPrototypeOf(e);return null===a?void 0:get(a,t,o)}if("value"in n)return n.value;var r=n.get;if(void 0!==r)return r.call(o)},i=o(0),l=_interopRequireDefault(i),s=o(169),u=o(286),c=o(1),f=_interopRequireDefault(c),d=o(287),p=_interopRequireDefault(d),m=o(25),h=o(87),g=o(782),b=_interopRequireDefault(g),_=o(783),y=_interopRequireDefault(_),v=o(784),S=_interopRequireDefault(v),w=o(785),A=_interopRequireDefault(w),k=o(786),E=(_interopRequireDefault(k),o(787)),T=_interopRequireDefault(E),R=o(170),P=_interopRequireDefault(R),O={nav:{height:"1.4rem",position:"fixed",borderTop:"1px solid #efeeef",bottom:-1,zIndex:"5",left:0,playController:{position:"relative",paddingLeft:0,paddingRight:0,circle:{position:"absolute",top:"-.93rem",height:"2.4rem",arc:{border:"1px solid #efeeef",position:"absolute",marginLeft:"-.907rem",left:"50%",width:"1.813rem",height:"1.067rem",bottom:"1.1rem",borderRadius:"1.067rem 1.067rem 0 0",backgroundColor:"white"},maskLine:{height:"1.493rem",borderTop:"1px solid white",width:"1.707rem",position:"absolute",bottom:0,left:"50%",marginLeft:"-.853rem",backgroundColor:"white"},maskArc:{height:"1.467rem",width:"100%",position:"absolute",bottom:0,backgroundColor:"white"},icon:{position:"absolute",left:"50%",marginLeft:"-.7rem",width:"1.4rem",bottom:".56rem",backgroundColor:"#ff6d32",borderRadius:"50%"}}},label:{position:"absolute",width:"100%",textAlign:"center",bottom:4,left:0,fontSize:".267rem"}}},I=function(e){function MBottomNavigation(e){_classCallCheck(this,MBottomNavigation);var t=_possibleConstructorReturn(this,(MBottomNavigation.__proto__||Object.getPrototypeOf(MBottomNavigation)).call(this,e));return t.state={selectedIndex:t.props.selectedIndex,showAlert:!1},t.validUserVipDialog=t.validUserVipDialog.bind(t),t}return _inherits(MBottomNavigation,e),a(MBottomNavigation,[{key:"render",value:function(){var e=this,t=this.state.selectedIndex,o=0===t?y.default:b.default,a=2===t?A.default:S.default,r=["#999","#999","#999"];return r[t]="#ff6832",l.default.createElement("div",null,l.default.createElement(s.BottomNavigation,{selectedIndex:t,style:O.nav},l.default.createElement(s.BottomNavigationItem,{style:{paddingTop:".213rem",paddingBottom:".113rem",maxWidth:"100%"},label:l.default.createElement("div",{style:n({},O.nav.label,{color:r[0],bottom:".107rem"})},"主页"),icon:l.default.createElement("div",{style:{height:".667rem",marginBottom:".4rem",display:"flex",justifyContent:"center",alignItems:"center"}},l.default.createElement("img",{style:{height:".667rem",width:".62rem"},src:o})),onTouchTap:function(){return 0!==t&&e.navSelect(0)}}),l.default.createElement(s.BottomNavigationItem,{style:n({},O.nav.playController,{maxWidth:"100%"}),label:l.default.createElement("div",{style:n({},O.nav.label,{color:r[1],bottom:".107rem"})},"播控"),icon:l.default.createElement("div",{style:O.nav.playController.circle},l.default.createElement("div",{style:O.nav.playController.circle.arc}),l.default.createElement("div",{style:O.nav.playController.circle.maskLine}),l.default.createElement("div",{style:O.nav.playController.circle.maskArc}),l.default.createElement("img",{style:O.nav.playController.circle.icon,src:(this.props.common.commonInfo.stopNavFlash,T.default)})),onTouchTap:function(){return 1!==t&&e.navSelect(1)}}),l.default.createElement(s.BottomNavigationItem,{style:{paddingTop:".213rem",paddingBottom:".113rem",maxWidth:"100%"},label:l.default.createElement("div",{style:n({},O.nav.label,{color:r[2],bottom:".107rem"})},"我的"),icon:l.default.createElement("div",{style:{height:".667rem",marginBottom:".4rem",display:"flex",justifyContent:"center",alignItems:"center"}},l.default.createElement("img",{style:{height:".667rem",width:".667rem"},src:a})),onTouchTap:function(){e.validUserVipDialog(function(){2!==t&&e.navSelect(2)})}})),l.default.createElement("div",null,l.default.createElement(s.Dialog,{className:"dialog-panel",actionsContainerStyle:{borderTop:".01rem solid #e0e0e0",textAlign:"center"},contentStyle:{textAlign:"center"},actions:this.state.actions,modal:!1,open:this.state.showAlert},this.state.alertStr)))}},{key:"navSelect",value:function(e){switch(this.setState({selectedIndex:e}),e){case 0:(0,u.linkTo)("",!1,null);break;case 1:(0,u.linkTo)("controller/",!1,null);break;case 2:(0,u.linkTo)("user",!1,null)}}},{key:"validUserVipDialog",value:function(e){var t=this,o=JSON.parse((0,u.getCookie)("vipAlert")||"{}");if(o.lastShowAlertTime&&new Date(o.lastShowAlertTime).getDay()===(new Date).getDay())return e&&e(),"";var n="立即充值",a="稍后充值",i=r(MBottomNavigation.prototype.__proto__||Object.getPrototypeOf(MBottomNavigation.prototype),"vipTime",this).call(this,this.props.userInfoData);if("string"!=typeof i)if(i<=0)this.state.alertStr="您的vip已过期，将无法点歌，为确保您的K歌体验，快去充值吧。";else{if(!(i>0&&i<P.default.VIP_ALERT_TIME))return e&&e(),"";this.state.alertStr="您的vip即将过期，为确保您的K歌体验，快去续费吧。",n="立即续费",a="稍后续费"}else{if("0"!==i)return e&&e(),"";this.state.alertStr="您的vip已过期，将无法点歌，为确保您的K歌体验，快去充值吧。"}var c=function(){t.setState({showAlert:!1}),(0,u.setCookie)("vipAlert",JSON.stringify({lastShowAlertTime:new Date})),e&&e()},f=function(){t.setState({showAlert:!1}),(0,u.setCookie)("vipAlert",JSON.stringify({lastShowAlertTime:new Date})),window.sysInfo.isIos?location.href="/pay/home":(0,u.linkTo)("pay/home",!1,null)};this.state.actions=[l.default.createElement(s.FlatButton,{label:n,className:"sure-button",primary:!0,onClick:f}),l.default.createElement(s.FlatButton,{label:a,className:"cancel-button",primary:!0,onClick:c})],this.setState({showAlert:!0})}}]),MBottomNavigation}(p.default);I.propTypes={selectedIndex:f.default.number},I.defaultProps={selectedIndex:0};var x=function(e,t){return{common:e.app.common,userInfoData:e.app.user.userInfo.userInfoData}},C=function(e,t){return{}};t.default=(0,m.withRouter)((0,h.connect)(x,C)(I))},782:function(e,t,o){e.exports=o.p+"img/common/nav_index.png?f587230d14e97fe3edc24933ff28f97c"},783:function(e,t,o){e.exports=o.p+"img/common/nav_index_on.png?b4a94c832861bea691015dd45b804220"},784:function(e,t,o){e.exports=o.p+"img/common/nav_me.png?e84268d0fc58e6264bb6518f670f30b7"},785:function(e,t,o){e.exports=o.p+"img/common/nav_me_on.png?abfda0a35e4303b76b1647488e2c0859"},786:function(e,t,o){e.exports=o.p+"img/common/nav_controll_gif.png?b6c8794a706723245e6e70d34944ded5"},787:function(e,t,o){e.exports=o.p+"img/common/nav_controll.png?35546dfe602b00e96b2d7681785459c1"},788:function(e,t,o){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _objectWithoutProperties(e,t){var o={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(o[n]=e[n]);return o}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},a=function(){function defineProperties(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e}}(),r=o(73),i=_interopRequireDefault(r),l=o(0),s=_interopRequireDefault(l),u=o(1),c=_interopRequireDefault(u),f=o(286),d={position:"absolute",top:"66px"},p=function(e){function Input(e){_classCallCheck(this,Input);var t=_possibleConstructorReturn(this,(Input.__proto__||Object.getPrototypeOf(Input)).call(this,e));return t.state={hash:(0,f.getRandomString)(24),value:"",errorText:"",trim:t.props.trim||!1,trimStart:t.props.trimStart||!1},t.handelValidate.bind(t),t}return _inherits(Input,e),a(Input,[{key:"componentDidMount",value:function(){var e=this.props.doValidate;e&&e(this.handelValidate.bind(this),this.state.hash)}},{key:"render",value:function(){var e=this.props,t=(e.onChange,e.errorStyle,e.errorText,e.minLength,e.maxLength,e.bindState,e.validate,e.doValidate,e.trim,e.trimStart,_objectWithoutProperties(e,["onChange","errorStyle","errorText","minLength","maxLength","bindState","validate","doValidate","trim","trimStart"]));return s.default.createElement(i.default,n({ref:"input",errorStyle:d,errorText:this.state.errorText,onChange:this.handelChange.bind(this)},t))}},{key:"handelChange",value:function(e,t){this.state.trim&&(t=t.trim()),this.state.trimStart&&(t=t.replace(/^( )*/g,"")),this.setState({value:t}),this.handelValidate(t);var o=this.props.bindState;o&&o(t)}},{key:"handelValidate",value:function(e){e=e||this.state.value;var t="",o=this.props.validate,n=this.props.minLength,a=this.props.maxLength;if("string"==typeof e&&(n&&e.length<n&&(t="长度不能小于"+n),a&&e.length>a&&(t="长度不能大于"+a)),!t&&"string"==typeof o)switch(o){case"account":/^[a-zA-z]\w{3,15}$/.test(e)||(t=this.props.errorText)}return this.setState({errorText:t}),t}}]),Input}(s.default.Component);t.default=p,p.propTypes={minLength:c.default.number,maxLength:c.default.number,errorStyle:c.default.object,validate:c.default.any,bindState:c.default.func,doValidate:c.default.func}},790:function(e,t,o){var n=o(791);"string"==typeof n&&(n=[[e.i,n,""]]);o(289)(n,{});n.locals&&(e.exports=n.locals)},791:function(e,t,o){t=e.exports=o(288)(),t.push([e.i,".search-header .search-bar-panel{top:0;z-index:6;width:100%;color:#fff;position:fixed;padding:.13rem .107rem;text-align:center;height:1.2rem;background:-webkit-gradient(linear,0 100,283 0,from(#ff6932),to(#ff8332));display:inline-table!important}.search-header .search-bar-panel .key-word-input{margin:0;padding:0;overflow:hidden;width:100%!important;display:flex!important;border-radius:1.2rem;background-color:#fe9e62!important;height:.93rem!important;border:1px solid #fe9e62}.search-header .search-bar-panel .key-word-input div:first-child{display:flex;width:90%;height:100%;justify-content:center;align-items:center;bottom:auto!important}.search-header .search-bar-panel .key-word-input hr{display:none!important}.search-header .search-bar-panel .key-word-input input{height:.9rem!important;padding-left:5%!important;color:#fff!important;font-size:.4rem!important}.search-header .search-bar-panel .key-word-input font{font-size:.4rem}.search-header .search-bar-panel .key-word-input img.search{height:.32rem;margin-right:.107rem}.search-header .search-bar-panel .key-word-input img.voice{display:block;padding:.16rem .267rem .16rem .48rem;width:1.067rem;height:.8rem;position:absolute;right:.32rem;z-index:1}.search-header .search-bar-panel .search-button{width:1.4rem;display:table-cell}.search-header .search-panel{width:100%;height:100%;z-index:4;position:fixed;background-color:#fff}.search-header .search-panel .search-words{height:100%;padding:12px;padding-top:0}.search-header .search-panel .search-words .hot-words{display:flex;flex-wrap:wrap}.search-header .search-panel .search-words .hot-words .word{border-radius:.5rem!important;margin:.107rem 0 0 4px!important}.search-header .search-panel .search-words .hot-words .word span{font-size:.32rem!important;line-height:.4rem!important;padding:.2rem .32rem!important}.search-header .search-panel .search-words .history-words-title{height:.8rem;margin-top:.6rem}.search-header.gray .search-bar-panel{top:1.2rem;background:#d7d7d7}.search-header.gray .search-bar-panel .key-word-input{background-color:#fff!important;border:1px solid #fff!important}.search-header.gray .search-bar-panel .key-word-input div:first-child{color:#999}",""]),t.locals={barBaseHeight:"1.2rem"}},792:function(e,t,o){e.exports=o.p+"img/common/icon_voice.png?fb3acfa27b8a407b649d03a4a0f43840"},793:function(e,t,o){e.exports=o.p+"img/common/icon_search.png?0fb44260fa7b8de5f8c3c4dbf1ab4fa6"},794:function(e,t,o){e.exports=o.p+"fonts/iconfont.eot?c930aafad3dc193752b0fbea5b8f2745"},795:function(e,t,o){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e}}(),a=o(0),r=_interopRequireDefault(a);o(790);var i=o(87),l=o(788),s=_interopRequireDefault(l),u=o(287),c=_interopRequireDefault(u),f=o(286),d=o(106),p=o(792),m=_interopRequireDefault(p),h=o(793),g=_interopRequireDefault(h),b=o(796),_=_interopRequireDefault(b),y=o(797),v=_interopRequireDefault(y),S=function(e){function SearchHeaderFake(e){return _classCallCheck(this,SearchHeaderFake),_possibleConstructorReturn(this,(SearchHeaderFake.__proto__||Object.getPrototypeOf(SearchHeaderFake)).call(this,e))}return _inherits(SearchHeaderFake,e),n(SearchHeaderFake,[{key:"render",value:function(){var e=this.props.grayTheme||"",t=g.default,o=m.default;return"gray"===e&&(t=v.default,o=_.default),r.default.createElement("div",{className:"search-header "+e,onTouchTap:function(){(0,f.linkTo)("song/search",!1,null)}},r.default.createElement("span",{className:"search-bar-panel",style:{display:"flex!important"}},r.default.createElement(s.default,{ref:"input",className:"key-word-input",hintText:r.default.createElement("div",null,r.default.createElement("img",{className:"search",src:t}),r.default.createElement("font",null,"请输入你要找的歌曲或歌星"),r.default.createElement("img",{onTouchTap:function(e){e.preventDefault(),e.stopPropagation(),(0,f.linkTo)("voiceSearch",!1,"")},className:"voice",src:o})),hintStyle:{color:"white",textAlign:"center",width:"100%"}})))}}]),SearchHeaderFake}(c.default);t.default=(0,d.withRouter)((0,i.connect)(function(){return{}},function(){return{}})(S))},796:function(e,t,o){e.exports=o.p+"img/common/icon_voice_gray.png?2a3901e992d5705d0be944c98c155048"},797:function(e,t,o){e.exports=o.p+"img/common/icon_search_gray.png?abedcb8e0409cebc1dc4a1314c17b21b"},801:function(e,t,o){e.exports=o.p+"img/common/icon_vip.png?8c3ff5f6596510032abfa218fbedbd82"},802:function(e,t,o){var n=o(803);"string"==typeof n&&(n=[[e.i,n,""]]);o(289)(n,{});n.locals&&(e.exports=n.locals)},803:function(e,t,o){t=e.exports=o(288)(),t.push([e.i,"@font-face{font-family:silkiconfont;src:url("+o(794)+");src:url("+o(794)+'#iefix) format("embedded-opentype"),url('+o(804)+') format("woff"),url('+o(805)+') format("truetype"),url('+o(806)+'#silkiconfont) format("svg");font-weight:400;font-style:normal}@keyframes rotate{0%{transform:rotate(0deg);-webkit-transform:rotate(0deg)}to{transform:rotate(1turn);-webkit-transform:rotate(1turn)}}.silk-listcontrol-wrapper{overflow:hidden}.silk-listcontrol-wrapper-default{position:absolute;top:0;bottom:0;left:0;width:100%}.silk-listcontrol-scroller{z-index:1;-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none;-webkit-text-size-adjust:none;text-size-adjust:none}.silk-listcontrol-scroller-horizontal{display:inline-block}.silk-listcontrol-scroller-vertical{position:relative}.silk-listcontrol-loadwrapper{display:flex;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center;width:100%;height:50px;line-height:50px;position:absolute;color:#8f8e93;font-size:14px}.silk-listcontrol-loadwrapper-up{top:-50px}.silk-listcontrol-loadtip{display:-webkit-inline-box;display:inline-flex;-webkit-box-align:center;align-items:center}.silk-listcontrol-icon{font-family:silkiconfont!important;font-size:14px;font-style:normal;-webkit-font-smoothing:antialiased;-webkit-text-stroke-width:.2px;-moz-osx-font-smoothing:grayscale;color:#3587f2;transition:transform .4s;-webkit-transition:-webkit-transform .4s}.silk-listcontrol-text{padding-left:5px}',""])},804:function(e,t){e.exports="data:application/font-woff;base64,"},805:function(e,t,o){e.exports=o.p+"fonts/iconfont.ttf?12a921df8a802d25de8ab8424fb51dd7"},806:function(e,t,o){e.exports=o.p+"fonts/iconfont.svg?a5e81d2f2094a8fb82b6a84067a7fd4e"},807:function(e,t,o){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=o(0),a=_interopRequireDefault(n),r=o(24),i=_interopRequireDefault(r),l=o(20),s=_interopRequireDefault(l),u=function(e){return a.default.createElement(s.default,e,a.default.createElement("path",{d:"M8 11h3v10h2V11h3l-4-4-4 4zM4 3v2h16V3H4z"}))};u=(0,i.default)(u),u.displayName="EditorVerticalAlignTop",u.muiName="SvgIcon",t.default=u},808:function(e,t,o){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e}}(),a=function get(e,t,o){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var a=Object.getPrototypeOf(e);return null===a?void 0:get(a,t,o)}if("value"in n)return n.value;var r=n.get;if(void 0!==r)return r.call(o)},r=o(0),i=_interopRequireDefault(r),l=o(169),s=o(106),u=o(53),c=o(1),f=_interopRequireDefault(c),d=o(779),p=o(287),m=_interopRequireDefault(p),h=o(286),g=o(87),b=o(801),_=_interopRequireDefault(b),y=o(290),v=o(296),S=_interopRequireDefault(v),w=o(809),A=_interopRequireDefault(w),k=o(170),E=_interopRequireDefault(k),T=function(e){function SongItem(e){_classCallCheck(this,SongItem);var t=_possibleConstructorReturn(this,(SongItem.__proto__||Object.getPrototypeOf(SongItem)).call(this,e));return t.state={pushIng:{},showSuc:{},showFail:{}},t.pushSong=t.pushSong.bind(t),t.pushSuccess=t.pushSuccess.bind(t),t.pushFail=t.pushFail.bind(t),t}return _inherits(SongItem,e),n(SongItem,[{key:"render",value:function(){var e=this.props.song;return i.default.createElement(l.ListItem,{className:"song-item",key:e.id||e.serialNo,primaryText:i.default.createElement("div",null,i.default.createElement("div",{className:"song-title"},i.default.createElement("font",null,e.nameNorm),i.default.createElement("i",{className:"label-vip"},e.charge?i.default.createElement("img",{src:_.default,style:{height:".4rem"}}):""))),secondaryText:i.default.createElement("div",{className:"song-author"},e.actor&&e.actor.map(function(e){return e.nameNorm}).join(" ")),rightToggle:this.getBut(e.id||e.serialNo)})}},{key:"pushSong",value:function(){var e=this,t=this.props,o=t.song,n=t.onPushSongSuccess,r=(t.onPushSongFail,t.userInfo),i=t.ottInfo,l=t.action_setGlobAlert;if(!0===a(SongItem.prototype.__proto__||Object.getPrototypeOf(SongItem.prototype),"validUserStatus",this).call(this,r.userInfoData,i,l)){this.state.pushIng[o.serialNo]=!0,this.setState({pushIng:this.state.pushIng});var s={id:JSON.stringify(o),type:4},u=function(){e.pushSuccess(o.serialNo),setTimeout(function(){e.setState({pushIng:e.state.pushIng}),n&&n(o)},600)},c=function(t){e.pushFail(o.serialNo),e.setState({pushIng:e.state.pushIng}),e.props.action_setGlobAlert("点歌失败！")};(0,h.dynaPush)({ottInfo:this.props.ottInfo,userInfo:this.props.userInfo,param:s,localNetIsWork:this.props.localNetIsWork,action_pushLocal:this.props.action_pushLocal,action_setLocalNet:this.props.action_setLocalNet,action_push:this.props.action_push,action_setGlobAlert:this.props.action_setGlobAlert,success:u,fail:c})}}},{key:"getBut",value:function(e){return this.state.pushIng[e]?i.default.createElement(l.CircularProgress,{className:"choose-button no-border",color:"#ff6932",size:16,thickness:1}):this.state.showSuc[e]?i.default.createElement(S.default,{className:"choose-button no-border",color:"#ff6932"}):this.state.showFail[e]?i.default.createElement(A.default,{className:"choose-button no-border",color:"red"}):i.default.createElement("div",{className:"choose-button",onClick:this.pushSong},"点歌")}},{key:"pushSuccess",value:function(e){var t=this;this.state.pushIng[e]=!1,this.state.showSuc[e]=!0,this.setState({pushIng:this.state.pushIng,showSuc:this.state.showSuc}),setTimeout(function(){t.state.showSuc[e]=!1,t.setState({showSuc:t.state.showSuc})},E.default.PUSH_SONG_RESULT_ICON_SHOW)}},{key:"pushFail",value:function(e){var t=this;this.state.pushIng[e]=!1,this.state.showFail[e]=!0,this.setState({pushIng:this.state.pushIng,showFail:this.state.showFail}),setTimeout(function(){t.state.showFail[e]=!1,t.setState({showFail:t.state.showFail})},E.default.PUSH_SONG_RESULT_ICON_SHOW)}}]),SongItem}(m.default);T.propTypes={song:f.default.object,onPushSongSuccess:f.default.func,onPushSongFail:f.default.func},T.defaultProps={song:{}};var R=function(e,t){return{songs:e.app.songs,userInfo:e.app.user.userInfo,ottInfo:e.app.device.ottInfo,localNetIsWork:e.app.common.localNetIsWork}},P=function(e,t){return{action_push:(0,u.bindActionCreators)(d.push,e),action_pushLocal:(0,u.bindActionCreators)(d.pushLocal,e),action_setGlobAlert:(0,u.bindActionCreators)(y.setGlobAlert,e),action_setLocalNet:(0,u.bindActionCreators)(y.setLocalNet,e)}};t.default=(0,s.withRouter)((0,g.connect)(R,P)(T))},809:function(e,t,o){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=o(0),a=_interopRequireDefault(n),r=o(24),i=_interopRequireDefault(r),l=o(20),s=_interopRequireDefault(l),u=function(e){return a.default.createElement(s.default,e,a.default.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}))};u=(0,i.default)(u),u.displayName="NavigationClose",u.muiName="SvgIcon",t.default=u},893:function(e,t,o){e.exports=o.p+"img/common/icon_catelog.png?2fc15c0ed8e426bee06b676356f5474a"},894:function(e,t,o){e.exports=o.p+"img/common/icon_hot_song.png?ddcee2c6983d492b17247a07f78f1ae5"},895:function(e,t,o){e.exports=o.p+"img/common/icon_singer.png?c01c0ce18e47d4af50b238494505fe46"}});