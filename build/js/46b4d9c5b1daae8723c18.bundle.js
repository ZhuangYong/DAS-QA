webpackJsonp([4],{1026:function(e,t,o){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=o(0),r=_interopRequireDefault(n),a=o(23),i=_interopRequireDefault(a),l=o(20),s=_interopRequireDefault(l),u=function(e){return r.default.createElement(s.default,e,r.default.createElement("path",{d:"M12 6v3l4-4-4-4v3c-4.42 0-8 3.58-8 8 0 1.57.46 3.03 1.24 4.26L6.7 14.8c-.45-.83-.7-1.79-.7-2.8 0-3.31 2.69-6 6-6zm6.76 1.74L17.3 9.2c.44.84.7 1.79.7 2.8 0 3.31-2.69 6-6 6v-3l-4 4 4 4v-3c4.42 0 8-3.58 8-8 0-1.57-.46-3.03-1.24-4.26z"}))};u=(0,i.default)(u),u.displayName="ActionAutorenew",u.muiName="SvgIcon",t.default=u},1027:function(e,t,o){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=o(0),r=_interopRequireDefault(n),a=o(23),i=_interopRequireDefault(a),l=o(20),s=_interopRequireDefault(l),u=function(e){return r.default.createElement(s.default,e,r.default.createElement("path",{d:"M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z"}))};u=(0,i.default)(u),u.displayName="AvSkipNext",u.muiName="SvgIcon",t.default=u},1028:function(e,t,o){e.exports=o.p+"img/common/icon_barrage.png?efd60edd96e5bedc3fe8186aa103bef2"},1029:function(e,t,o){e.exports=o.p+"img/controller/play_stop.png?02b195658ba922a3223bd6de1094363a"},1030:function(e,t,o){e.exports=o.p+"img/controller/yuan_ban.png?c53f46e68f0a7866dbd3267f725aade0"},1031:function(e,t,o){e.exports=o.p+"img/common/icon_un_top.png?21cde8f8476f09b33ef68a630a5d84a9"},1032:function(e,t,o){e.exports=o.p+"img/common/icon_set_top.png?2846a85c83acdf8a870515f79020e0e3"},743:function(e,t,o){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},r=function(){function defineProperties(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e}}(),a=function get(e,t,o){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var r=Object.getPrototypeOf(e);return null===r?void 0:get(r,t,o)}if("value"in n)return n.value;var a=n.get;if(void 0!==a)return a.call(o)},i=o(0),l=_interopRequireDefault(i),s=o(53),u=o(105),c=o(106),f=o(282),d=o(762),p=_interopRequireDefault(d),h=o(765),g=_interopRequireDefault(h),m=o(763),_=o(169),y=o(1026),b=_interopRequireDefault(y),v=o(827),S=(_interopRequireDefault(v),o(1027)),E=_interopRequireDefault(S),C=o(784),I=_interopRequireDefault(C),A=o(1028),T=_interopRequireDefault(A),O=o(286),R=o(795),N=_interopRequireDefault(R),P=o(1029),L=_interopRequireDefault(P),D=o(1030),w=_interopRequireDefault(D),k=o(1031),x=_interopRequireDefault(k),M=o(1032),B=_interopRequireDefault(M),j={controllerBtn:{width:"50%",height:"3.4rem",textAlign:"center",marginTop:".4rem",display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center",button:{backgroundColor:"#ffc51b",width:"1.867rem",height:"1.867rem",display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"1.867rem"}},extArea:{border:"none",boxShadow:"none",width:"100%",display:"flex",marginTop:"16%",padding:"0 1.4rem",justifyContent:"center",alignItems:"center",btn:{display:"flex",justifyContent:"center",alignItems:"center",border:"1px solid #ff6832",borderRadius:"1rem",width:"2.2rem",height:"1.2rem",icon:{height:"20px",marginRight:".1rem"},label:{margin:0,fontSize:".45rem",color:"#ff6832"}}},tabs:{leftTab:{flexDirection:"row",height:".933rem",border:"1px solid white",borderRadius:"6px 0 0 6px"},centerTab:{flexDirection:"row",height:".933rem",borderTop:"1px solid white",borderBottom:"1px solid white"},rightTab:{flexDirection:"row",height:".933rem",border:"1px solid white",borderRadius:"0 6px 6px 0"}},chooseList:{operationArea:{height:"1rem",width:"2rem",display:"flex",top:"auto",right:".4rem"},deleteButton:{delIng:{fontSize:10,justifyContent:"center",alignItems:"center",display:"flex"}}},noResult:{height:"100%",zIndex:-1,display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"}},q=function(e){function SongController(e){_classCallCheck(this,SongController);var t=_possibleConstructorReturn(this,(SongController.__proto__||Object.getPrototypeOf(SongController)).call(this,e));return a(SongController.prototype.__proto__||Object.getPrototypeOf(SongController.prototype),"title",t).call(t,"播控"),t.state={playList:[],historySongList:[],controllerIng:{},tabIndex:0,setTopSongIdIng:0,delChooseSongIdIng:{},updateChooseSongsCount:0,emptyChooseSongs:!1,barrageSendToast:"",barrageToastMsg:""},t.unChoose=t.unChoose.bind(t),t.showAudioEffect=t.showAudioEffect.bind(t),t.playController=t.playController.bind(t),t.onPushSongFail=t.onPushSongFail.bind(t),t.onPushSongSuccess=t.onPushSongSuccess.bind(t),t.handelChangeTab=t.handelChangeTab.bind(t),t.songListButtons=t.songListButtons.bind(t),t.songSetTopButton=t.songSetTopButton.bind(t),t}return _inherits(SongController,e),r(SongController,[{key:"componentDidUpdate",value:function(e){e.songs.chooseListStamp!==this.props.songs.chooseListStamp&&this.updateSong(),e.songs.getHistorySongListStamp!==this.props.songs.getHistorySongListStamp&&this.updateHistorySong()}},{key:"componentWillUnmount",value:function(){clearInterval(this.state.updateChooseSongsInterval)}},{key:"componentDidMount",value:function(){var e=this,t={},o=this.state.updateChooseSongsInterval,n={type:"history"};this.props.action_getChooseList(t,(0,f.reqHeader)(t)),this.props.action_getHistorySongList(n,(0,f.reqHeader)(n)),o||(this.state.updateChooseSongsInterval=setInterval(function(){e.state.updateChooseSongsCount>=5&&1===e.state.tabIndex?(e.props.action_getChooseList(t,(0,f.reqHeader)(t)),e.state.updateChooseSongsCount=0):e.state.updateChooseSongsCount+=1},1e3))}},{key:"render",value:function(){var e=this,t=this.state,o=t.playList,r=t.historySongList,a=this.props.common,i=(a.w,a.h),s=i-48-60,u=this.state.playingSong,c=["transparent","transparent","transparent"],d=["white","white","white"];return c[this.state.tabIndex]="white",d[this.state.tabIndex]="#ff6832",l.default.createElement("div",null,l.default.createElement(_.Tabs,{inkBarStyle:{display:"none"},tabItemContainerStyle:{alignItems:"center",background:"-webkit-gradient(linear, 0 100, 283 0, from(#ff6932), to(#ff8332))",height:"1.2rem",backgroundColor:"#ff8333",padding:"6px 10%"}},l.default.createElement(_.Tab,{onActive:function(){e.handelChangeTab(0)},buttonStyle:n({},j.tabs.leftTab,{backgroundColor:c[0],color:d[0]}),label:l.default.createElement("div",null,"播放控制")},l.default.createElement("div",{style:{marginTop:"10%",display:"flex",width:"80%",marginLeft:"10%",flexWrap:"wrap"}},l.default.createElement("div",{style:j.controllerBtn},l.default.createElement("div",{style:j.controllerBtn.button,onTouchTap:function(){!0!==e.state.controllerIng[5]&&e.playController(5)}},!0===this.state.controllerIng[5]?l.default.createElement(_.CircularProgress,{size:20,thickness:2,color:"white"}):l.default.createElement(b.default,{color:"white",style:{width:"1.1rem",height:"1.1rem"}})),l.default.createElement("p",{style:{margin:".3rem 0"}},"重唱")),l.default.createElement("div",{style:j.controllerBtn},l.default.createElement("div",{style:n({},j.controllerBtn.button,{backgroundColor:"#0ebc0e"}),onTouchTap:function(){!0!==e.state.controllerIng[7]&&e.playController(7)}},!0===this.state.controllerIng[7]?l.default.createElement(_.CircularProgress,{size:20,thickness:2,color:"white"}):l.default.createElement("div",{style:n({},j.controllerBtn.button,{backgroundColor:"#0ebc0e"})},l.default.createElement("img",{src:L.default,style:{width:"60%"}}))),l.default.createElement("p",{style:{margin:".3rem 0"}},"播/暂")),l.default.createElement("div",{style:j.controllerBtn},l.default.createElement("div",{style:n({},j.controllerBtn.button,{backgroundColor:"#2cabe9"}),onTouchTap:function(){!0!==e.state.controllerIng[6]&&e.playController(6)}},!0===this.state.controllerIng[6]?l.default.createElement(_.CircularProgress,{size:20,thickness:2,color:"white"}):l.default.createElement("div",{style:n({},j.controllerBtn.button,{backgroundColor:"#2cabe9"})},l.default.createElement("img",{src:w.default,style:{width:"60%"}}))),l.default.createElement("p",{style:{margin:".3rem 0"}},"原/伴")),l.default.createElement("div",{style:n({},j.controllerBtn)},l.default.createElement("div",{style:n({},j.controllerBtn.button,{backgroundColor:"#ff5223"}),onTouchTap:function(){!0!==e.state.controllerIng[8]&&e.playController(8)}},!0===this.state.controllerIng[8]?l.default.createElement(_.CircularProgress,{size:20,thickness:2,color:"white"}):l.default.createElement(E.default,{color:"white",style:{width:"1.5rem",height:"1.5rem"}})),l.default.createElement("p",{style:{margin:".3rem 0"}},"切歌"))),l.default.createElement(_.Paper,{style:j.extArea},l.default.createElement("div",{style:{width:"50%",display:"flex",justifyContent:"center"}},l.default.createElement("div",{style:j.extArea.btn,onTouchTap:function(){(0,f.linkTo)("controller/barrage",!1,null)}},l.default.createElement("img",{src:T.default,style:j.extArea.btn.icon}),l.default.createElement("p",{style:j.extArea.btn.label},"弹幕"))),this.showAudioEffect()?l.default.createElement("div",{style:{width:"50%",display:"flex",justifyContent:"center"}},l.default.createElement("div",{style:j.extArea.btn,onTouchTap:function(){(0,f.linkTo)("controller/effect",!1,null)}},l.default.createElement("img",{src:T.default,style:j.extArea.btn.icon}),l.default.createElement("p",{style:j.extArea.btn.label},"音效"))):"")),l.default.createElement(_.Tab,{buttonStyle:n({},j.tabs.centerTab,{backgroundColor:c[1],color:d[1]}),onActive:function(){e.handelChangeTab(1)},label:"已点歌曲"},l.default.createElement("div",{style:{height:s,width:"100%",position:"absolute",overflowY:"auto"}},this.state.emptyChooseSongs?l.default.createElement(_.Paper,{style:j.chooseList,zDepth:0},l.default.createElement("div",{style:j.noResult},l.default.createElement("img",{src:N.default,style:{maxWidth:"80%"}}),l.default.createElement("p",{style:{color:"#7e7e7e",textAlign:"center"}},"没有任何东东哟"))):l.default.createElement(_.Paper,{style:j.chooseList,zDepth:0},l.default.createElement(_.List,{className:"song-list"},u?l.default.createElement(_.ListItem,{className:"song-item",key:u.musicNo,primaryText:l.default.createElement("div",{className:"song-title"},u.musicName),secondaryText:l.default.createElement("div",{className:"song-author"},u.actorName),rightToggle:l.default.createElement("div",{style:n({},j.chooseList.operationArea,{justifyContent:"center"})},l.default.createElement("div",{className:"playing "+(1===u.playStatus?"":"stoped")},l.default.createElement("span",null),l.default.createElement("span",null),l.default.createElement("span",null),l.default.createElement("span",null)))}):"",o.map(function(t,o){return l.default.createElement(_.ListItem,{className:"song-item",key:t.musicNo,primaryText:l.default.createElement("div",{className:"song-title"},t.musicName),secondaryText:l.default.createElement("div",{className:"song-author"},t.actorName),rightToggle:l.default.createElement("div",{style:j.chooseList.operationArea},e.songListButtons(t,o))})}))))),l.default.createElement(_.Tab,{onActive:function(){e.handelChangeTab(2)},buttonStyle:n({},j.tabs.rightTab,{backgroundColor:c[2],color:d[2]}),label:"最近唱过"},l.default.createElement("div",{style:{height:s,width:"100%",position:"absolute",overflowY:"auto"}},r&&r.length>0?l.default.createElement(_.Paper,{className:"history-song-list",zDepth:0},l.default.createElement(_.List,{className:"song-list"},r.map(function(t){return l.default.createElement(I.default,{key:t.id,song:t,onPushSongSuccess:e.onPushSongSuccess,onPushSongFail:e.onPushSongFail})}))):l.default.createElement(_.Paper,{className:"history-song-list",zDepth:0},l.default.createElement("div",{style:j.noResult},l.default.createElement("img",{src:N.default,style:{maxWidth:"80%"}}),l.default.createElement("p",{style:{color:"#7e7e7e",textAlign:"center"}},"没有任何东东哟")))))),l.default.createElement(_.Snackbar,{open:!!this.state.barrageSendToast,message:this.state.barrageToastMsg,autoHideDuration:500,onRequestClose:function(){e.setState({barrageSendToast:!1})}}),l.default.createElement(g.default,{selectedIndex:1}))}},{key:"songListButtons",value:function(e,t){var o=this;return!0===this.state.delChooseSongIdIng[e.musicNo]?l.default.createElement("div",{style:j.chooseList.deleteButton.delIng},l.default.createElement(_.CircularProgress,{size:16,thickness:1,style:{marginRight:3}})," 刪除中"):this.state.setTopSongIdIng===e.musicNo?l.default.createElement("div",{style:j.chooseList.deleteButton.delIng},l.default.createElement(_.CircularProgress,{size:16,thickness:1,style:{marginRight:3}})," 置顶中"):(this.state.setTopSongIdIng,l.default.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%"}},0!==t?this.songSetTopButton(e):l.default.createElement("div",{style:{marginRight:"0.6rem",width:"0.4rem"}}),l.default.createElement("img",{src:x.default,style:{width:".4rem"},onTouchTap:function(){o.unChoose(e.musicNo)}})))}},{key:"songSetTopButton",value:function(e){var t=this,o=e.needDownload,n=e.downloadStatus;if(1===o&&1!==n){var r=n?"下载失败":"未下载";return l.default.createElement("p",{style:{fontSize:".3rem",color:n?"red":"gray",marginRight:".2rem"}},r)}return l.default.createElement("img",{src:B.default,style:{marginRight:".6rem",width:".4rem"},onTouchTap:function(){t.setTop(e.musicNo)}})}},{key:"updateSong",value:function(){var e=this.props.songs.chooseList||{data:{recordJson:'{"list":[],"playing":{}}'}},t=e.data;if(t){var o=this.handelList(t.recordJson),n=o.list,r=o.playing;"string"==typeof n&&(n=JSON.parse(n)),this.setState({playList:n,playingSong:r})}else this.setState({emptyChooseSongs:!0})}},{key:"updateHistorySong",value:function(){var e=this.props.songs.getHistorySongList,t=void 0;if(e&&e.data){var o=this.handelList(e.data.recordJson),n=o.list;"string"==typeof n&&(n=JSON.parse(n)),t=n.map(function(e){var t=(e.actorIcon,e.actorName),o=e.actorNo,n=e.musicIcon,r=e.musicName,a=e.musicNo;return{nameNorm:r,id:a,image:n,charge:e.vipStutas,serialNo:a,actor:[{actorNo:o,nameNorm:t}]}})}this.setState({historySongList:t})}},{key:"handelList",value:function(e){return e?JSON.parse(e):{}}},{key:"setTop",value:function(e){var t=this;if(!0===a(SongController.prototype.__proto__||Object.getPrototypeOf(SongController.prototype),"validUserBindDevice",this).call(this,this.props.userInfoData,this.props.action_setGlobAlert)&&!0===a(SongController.prototype.__proto__||Object.getPrototypeOf(SongController.prototype),"validUserDeviceOnline",this).call(this,this.props.ottInfo,this.props.action_setGlobAlert)){var o={type:12,id:e},n=this.state.playList,r=n.find(function(t){if(t.musicNo===e)return t}),i=n.filter(function(e){if(e!==r)return e});this.setState({setTopSongIdIng:e}),this.props.action_setSongTop(o,(0,f.reqHeader)(o),function(){t.setState({setTopSongIdIng:0,playList:[r].concat(_toConsumableArray(i))})})}}},{key:"handelChangeTab",value:function(e){this.setState({tabIndex:e})}},{key:"onPushSongSuccess",value:function(e){var t=e.nameNorm;this.setState({barrageSendToast:!0,barrageToastMsg:t+" 点歌成功",updateChooseSongsCount:5})}},{key:"unChoose",value:function(e){var t=this;if(!0===a(SongController.prototype.__proto__||Object.getPrototypeOf(SongController.prototype),"validUserBindDevice",this).call(this,this.props.userInfoData,this.props.action_setGlobAlert)){var o={type:13,id:e},n=this.state.playList,r=this.state.delChooseSongIdIng;r[e]=!0,this.setState({delChooseSongIdIng:r}),this.props.action_setSongTop(o,(0,f.reqHeader)(o),function(){r[e]=!1,t.setState({delChooseSongIdIng:r,playList:n.filter(function(t){return t.musicNo!==e})})})}}},{key:"playController",value:function(e){var t=this;if(!0===a(SongController.prototype.__proto__||Object.getPrototypeOf(SongController.prototype),"validUserBindDevice",this).call(this,this.props.userInfoData,this.props.action_setGlobAlert)&&!0===a(SongController.prototype.__proto__||Object.getPrototypeOf(SongController.prototype),"validUserDeviceOnline",this).call(this,this.props.ottInfo,this.props.action_setGlobAlert)){var o={type:e},n=this.state.controllerIng;n[e]=!0,this.setState({controllerIng:n});var r=function(){n[e]=!1,setTimeout(function(){t.setState({controllerIng:n})},600)},i=function(o){n[e]=!1,t.setState({controllerIng:n})};(0,f.dynaPush)({ottInfo:this.props.ottInfo,userInfo:this.props.userInfo,param:o,localNetIsWork:this.props.localNetIsWork,action_pushLocal:this.props.action_pushLocal,action_setLocalNet:this.props.action_setLocalNet,action_push:this.props.action_push,action_setGlobAlert:this.props.action_setGlobAlert,success:r,fail:i})}}},{key:"onPushSongFail",value:function(e){this.setState({barrageSendToast:!0,barrageToastMsg:e})}},{key:"showAudioEffect",value:function(){var e=this.props.userInfo.userInfoData||{data:{}},t=e.data;return"gg_laobanka"===t.channel&&1===t.isReDevice}}]),SongController}(p.default),G=function(e,t){return{songs:e.app.songs,common:e.app.common,userInfo:e.app.user.userInfo,ottInfo:e.app.device.ottInfo,localNetIsWork:e.app.common.localNetIsWork,userInfoData:e.app.user.userInfo.userInfoData}},U=function(e,t){return{action_push:(0,s.bindActionCreators)(m.push,e),action_setSongTop:(0,s.bindActionCreators)(m.setSongTop,e),action_getChooseList:(0,s.bindActionCreators)(m.getChooseList,e),action_getHistorySongList:(0,s.bindActionCreators)(m.getHistorySongList,e),action_pushLocal:(0,s.bindActionCreators)(m.pushLocal,e),action_setGlobAlert:(0,s.bindActionCreators)(O.setGlobAlert,e),action_setLocalNet:(0,s.bindActionCreators)(O.setLocalNet,e)}};t.default=(0,c.withRouter)((0,u.connect)(G,U)(q))},762:function(e,t,o){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e}}(),r=o(0),a=o(283),i=_interopRequireDefault(a),l=(o(106),o(105),o(19)),s=_interopRequireDefault(l),u=function(e){function BaseComponent(e){_classCallCheck(this,BaseComponent);var t=_possibleConstructorReturn(this,(BaseComponent.__proto__||Object.getPrototypeOf(BaseComponent)).call(this,e));return t.bindState.bind(t),t.title=t.title.bind(t),i.default.setHistory(t.props.history),t}return _inherits(BaseComponent,e),n(BaseComponent,[{key:"render",value:function(){return React.createElement("div",null)}},{key:"bindState",value:function(e){var t=this;return function(o){var n={};n[e]=o,t.setState(n)}}},{key:"title",value:function(e){document.title=e}},{key:"validUserStatus",value:function(e,t,o){var n=t||{},r=n.data,a=r||{},i=a.systemTime,l=a.timeStamp,u=this.isVip(e),c=this.isBindDevice(e),f=this.isFreeActivation(e);if("string"==typeof c)return o&&o(c),"正在获取用户信息";if(!1===c)return o&&o("",s.default.COMMON.ALERT_TYPE_BIND_DEVICE),!1;if(!0===c){if(!0===f)return o&&o("",s.default.COMMON.ALERT_TYPE_FREE_ACTIVE),!1;if(!1===f)return function(){return!(!i||!l)&&!(i-l>72e4)}()?!1!==u||(o&&o("",s.default.COMMON.ALERT_TYPE_BE_VIP),!1):(o&&o("",s.default.COMMON.ALERT_TYPE_DEVICE_NOT_ONLINE),!1)}}},{key:"validUserBindDevice",value:function(e,t){var o=this.isBindDevice(e);return"string"==typeof o?(t&&t(o),o):!1===o?(t&&t("",s.default.COMMON.ALERT_TYPE_BIND_DEVICE),!1):!0===o||void 0}},{key:"validUserDeviceOnline",value:function(e,t){var o=e||{},n=o.data,r=n||{},a=r.systemTime,i=r.timeStamp;if(a&&i){return!!!(a-i>72e4)||(t&&t("",s.default.COMMON.ALERT_TYPE_DEVICE_NOT_ONLINE),!1)}return t&&t("",s.default.COMMON.ALERT_TYPE_DEVICE_NOT_ONLINE),!1}},{key:"isFreeActivation",value:function(e){var t=e||{},o=t.status,n=t.data;if(void 0!==o){return 1===n.isFreeActivation}return"正在获取用户信息"}},{key:"isBindDevice",value:function(e){var t=e||{},o=t.status,n=t.msg,r=t.data;if(void 0!==o){if(-100===o)return"请使用微信操作";if(1===o){var a=r.isReDevice;r.bindExpireTime;return 1===a}return n||"获取用户信息失败，请稍后重试！"}return"正在获取用户信息"}},{key:"isVip",value:function(e){var t=e||{},o=t.status,n=t.data;if(void 0!==o){var r=n.vipStatus,a=n.expireTime;return 1===r&&(new Date).getTime()<a}return"正在获取用户信息"}}]),BaseComponent}(r.Component);t.default=u},763:function(e,t,o){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function getShareAudio(e,t){var o=u.default.apiDomain+l.default.API_QUERY_USER_SOUND;return function(n){(0,a.comFetch)(n,e,{url:o,headers:t,action:r.default.AUDIO.API_GET_SHARE_AUDIO},null)}}function getRecommend(e,t){var o=u.default.apiDomain+l.default.API_QUERY_ALBUM;return function(n){(0,a.comFetch)(n,e,{url:o,headers:t,action:r.default.SONG.API_GET_RECOMMEND},null)}}function push(e,t,o,n){var i=u.default.apiDomain+l.default.API_PUSH;return function(l){(0,a.comFetch)(l,e,{url:i,headers:t,action:r.default.SONG.API_PUSH},o,n)}}function pushLocal(e,t,o,n,i){var s=e+l.default.API_PUSH;return function(e){(0,a.comFetch)(e,t,{url:s,type:"get",headers:o,timeout:3e3,action:r.default.SONG.API_PUSH},n,i)}}function getChooseList(e,t){var o=u.default.apiDomain+l.default.API_CHOOSE_LIST;return function(n){(0,a.comFetch)(n,e,{url:o,headers:t,action:r.default.SONG.API_CHOOSE_LIST},null)}}function getHistorySongList(e,t){var o=u.default.apiDomain+l.default.API_CHOOSE_LIST;return function(n){(0,a.comFetch)(n,e,{url:o,headers:t,action:r.default.SONG.API_CHOOSE_HISTORY_LIST},null)}}function setSongTop(e,t,o){var n=u.default.apiDomain+l.default.API_SET_SONG_TOP;return function(i){(0,a.comFetch)(i,e,{url:n,headers:t,action:r.default.SONG.API_SET_SONG_TOP},o)}}function getSingerCategoryAlbum(e,t,o){var n=u.default.apiDomain+l.default.API_GET_SINGER_CATEGORY_ALBUM;return function(i){(0,a.comFetch)(i,e,{url:n,headers:t,action:r.default.SONG.API_GET_SINGER_CATEGORY_ALBUM},o)}}function getActorsAlbum(e,t,o){var n=u.default.apiDomain+l.default.API_GET_ACTORS_ALBUM;return function(i){(0,a.comFetch)(i,e,{url:n,headers:t,action:r.default.SONG.API_GET_ACTORS_ALBUM},o)}}function getCatAlbum(e,t,o){var n=u.default.apiDomain+l.default.API_GET_CAT_ALBUM;return function(i){(0,a.comFetch)(i,e,{url:n,headers:t,action:r.default.SONG.API_GET_CAT_ALBUM},o)}}function getCatSongList(e,t,o){var n=u.default.apiDomain+l.default.API_GET_CAT_ALBUM;return function(i){(0,a.comFetch)(i,e,{url:n,headers:t,action:r.default.SONG.API_GET_CAT_SONG_LIST},o)}}function getRankAlbum(e,t,o){var n=u.default.apiDomain+l.default.API_QUERY_ALBUM;return function(i){(0,a.comFetch)(i,e,{url:n,headers:t,action:r.default.SONG.API_GET_RANK_ALBUM},o)}}function getAlbumRecommend(e,t,o){var n=u.default.apiDomain+l.default.API_QUERY_ALBUM_RECOMMEND;return function(i){(0,a.comFetch)(i,e,{url:n,headers:t,action:r.default.SONG.API_QUERY_ALBUM_RECOMMEND},o)}}function getAlbumRecommendSongList(e,t,o){var n=u.default.apiDomain+l.default.API_QUERY_ALBUM_RECOMMEND;return function(i){(0,a.comFetch)(i,e,{url:n,headers:t,action:r.default.SONG.API_QUERY_ALBUM_RECOMMEND_SONG_LIST},o)}}function getRanking(e,t,o){var n=u.default.apiDomain+l.default.API_QUERY_ALBUM;return function(i){(0,a.comFetch)(i,e,{url:n,headers:t,action:r.default.SONG.API_QUERY_RANKING},o)}}Object.defineProperty(t,"__esModule",{value:!0}),t.getShareAudio=getShareAudio,t.getRecommend=getRecommend,t.push=push,t.pushLocal=pushLocal,t.getChooseList=getChooseList,t.getHistorySongList=getHistorySongList,t.setSongTop=setSongTop,t.getSingerCategoryAlbum=getSingerCategoryAlbum,t.getActorsAlbum=getActorsAlbum,t.getCatAlbum=getCatAlbum,t.getCatSongList=getCatSongList,t.getRankAlbum=getRankAlbum,t.getAlbumRecommend=getAlbumRecommend,t.getAlbumRecommendSongList=getAlbumRecommendSongList,t.getRanking=getRanking;var n=o(19),r=_interopRequireDefault(n),a=o(24),i=o(107),l=_interopRequireDefault(i),s=o(72),u=_interopRequireDefault(s)},765:function(e,t,o){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},r=function(){function defineProperties(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e}}(),a=o(0),i=_interopRequireDefault(a),l=o(169),s=o(282),u=o(1),c=_interopRequireDefault(u),f=o(762),d=_interopRequireDefault(f),p=o(25),h=o(105),g=o(766),m=_interopRequireDefault(g),_=o(767),y=_interopRequireDefault(_),b=o(768),v=_interopRequireDefault(b),S=o(769),E=_interopRequireDefault(S),C=o(770),I=_interopRequireDefault(C),A={nav:{height:60,position:"fixed",borderTop:"1px solid #efeeef",bottom:"0",zIndex:"2",playController:{position:"relative",paddingLeft:0,paddingRight:0,circle:{position:"absolute",top:-55,height:110,arc:{border:"1px solid #efeeef",position:"absolute",marginLeft:-34,left:"50%",width:68,height:40,bottom:40,borderRadius:"40px 40px 0 0",backgroundColor:"white"},maskLine:{height:56,borderTop:"1px solid white",width:64,position:"absolute",bottom:0,left:"50%",marginLeft:-32,backgroundColor:"white"},maskArc:{height:55,width:"100%",position:"absolute",bottom:0,backgroundColor:"white"},icon:{position:"absolute",left:"50%",marginLeft:-28,width:56,bottom:18}}},label:{position:"absolute",width:"100%",textAlign:"center",bottom:4,left:0}}},T=function(e){function MBottomNavigation(e){_classCallCheck(this,MBottomNavigation);var t=_possibleConstructorReturn(this,(MBottomNavigation.__proto__||Object.getPrototypeOf(MBottomNavigation)).call(this,e));return t.state={selectedIndex:t.props.selectedIndex},t}return _inherits(MBottomNavigation,e),r(MBottomNavigation,[{key:"render",value:function(){var e=this,t=0===this.state.selectedIndex?y.default:m.default,o=2===this.state.selectedIndex?E.default:v.default,r=["#999","#999","#999"];return r[this.state.selectedIndex]="#ff6832",i.default.createElement(l.BottomNavigation,{selectedIndex:this.state.selectedIndex,style:A.nav},i.default.createElement(l.BottomNavigationItem,{label:i.default.createElement("div",{style:n({},A.nav.label,{color:r[0]})},"主页"),icon:i.default.createElement("div",{style:{height:30,marginBottom:12}},i.default.createElement("img",{style:{height:"100%"},src:t})),onTouchTap:function(){return e.navSelect(0)}}),i.default.createElement(l.BottomNavigationItem,{style:A.nav.playController,label:i.default.createElement("div",{style:n({},A.nav.label,{color:r[1]})},"播控"),icon:i.default.createElement("div",{style:A.nav.playController.circle},i.default.createElement("div",{style:A.nav.playController.circle.arc}),i.default.createElement("div",{style:A.nav.playController.circle.maskLine}),i.default.createElement("div",{style:A.nav.playController.circle.maskArc}),i.default.createElement("img",{style:A.nav.playController.circle.icon,src:I.default})),onTouchTap:function(){return e.navSelect(1)}}),i.default.createElement(l.BottomNavigationItem,{label:i.default.createElement("div",{style:n({},A.nav.label,{color:r[2]})},"我的"),icon:i.default.createElement("div",{style:{height:30,marginBottom:12}},i.default.createElement("img",{style:{height:"100%"},src:o})),onTouchTap:function(){return e.navSelect(2)}}))}},{key:"navSelect",value:function(e){switch(this.setState({selectedIndex:e}),e){case 0:(0,s.linkTo)("",!1,null);break;case 1:(0,s.linkTo)("controller/",!1,null);break;case 2:(0,s.linkTo)("user",!1,null)}}}]),MBottomNavigation}(d.default);T.propTypes={selectedIndex:c.default.number},T.defaultProps={selectedIndex:0};var O=function(e,t){return{}},R=function(e,t){return{}};t.default=(0,p.withRouter)((0,h.connect)(O,R)(T))},766:function(e,t,o){e.exports=o.p+"img/common/nav_index.png?f587230d14e97fe3edc24933ff28f97c"},767:function(e,t,o){e.exports=o.p+"img/common/nav_index_on.png?b4a94c832861bea691015dd45b804220"},768:function(e,t,o){e.exports=o.p+"img/common/nav_me.png?e84268d0fc58e6264bb6518f670f30b7"},769:function(e,t,o){e.exports=o.p+"img/common/nav_me_on.png?abfda0a35e4303b76b1647488e2c0859"},770:function(e,t,o){e.exports=o.p+"img/common/nav_controll.png?35546dfe602b00e96b2d7681785459c1"},784:function(e,t,o){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e}}(),r=function get(e,t,o){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var r=Object.getPrototypeOf(e);return null===r?void 0:get(r,t,o)}if("value"in n)return n.value;var a=n.get;if(void 0!==a)return a.call(o)},a=o(0),i=_interopRequireDefault(a),l=o(169),s=o(106),u=o(53),c=o(1),f=_interopRequireDefault(c),d=o(763),p=o(762),h=_interopRequireDefault(p),g=o(282),m=o(105),_=o(785),y=_interopRequireDefault(_),b=o(286),v=function(e){function SongItem(e){_classCallCheck(this,SongItem);var t=_possibleConstructorReturn(this,(SongItem.__proto__||Object.getPrototypeOf(SongItem)).call(this,e));return t.state={pushIng:{}},t.pushSong=t.pushSong.bind(t),t}return _inherits(SongItem,e),n(SongItem,[{key:"render",value:function(){var e=this.props.song;return i.default.createElement(l.ListItem,{className:"song-item",key:e.id,primaryText:i.default.createElement("div",null,i.default.createElement("div",{className:"song-title"},e.nameNorm,i.default.createElement("i",{className:"label-vip"},e.charge?i.default.createElement("img",{src:y.default,style:{height:".4rem"}}):""))),secondaryText:i.default.createElement("div",{className:"song-author"},e.actor&&e.actor.map(function(e){return e.nameNorm}).join(" ")),rightToggle:this.state.pushIng[e.serialNo]?i.default.createElement(l.CircularProgress,{size:16,thickness:1,style:{right:3,textAlign:"center"}}):i.default.createElement("div",{className:"choose-button",onTouchTap:this.pushSong},"点歌")})}},{key:"pushSong",value:function(){var e=this,t=this.props,o=t.song,n=t.onPushSongSuccess,a=(t.onPushSongFail,t.userInfo),i=t.ottInfo,l=t.action_setGlobAlert;if(!0===r(SongItem.prototype.__proto__||Object.getPrototypeOf(SongItem.prototype),"validUserStatus",this).call(this,a.userInfoData,i,l)){this.state.pushIng[o.serialNo]=!0,this.setState({pushIng:this.state.pushIng});var s={id:JSON.stringify(o),type:4},u=function(){e.state.pushIng[o.serialNo]=!1,setTimeout(function(){e.setState({pushIng:e.state.pushIng}),n&&n(o)},600)},c=function(t){e.state.pushIng[o.serialNo]=!1,e.setState({pushIng:e.state.pushIng}),e.props.action_setGlobAlert("点歌失败！")};(0,g.dynaPush)({ottInfo:this.props.ottInfo,userInfo:this.props.userInfo,param:s,localNetIsWork:this.props.localNetIsWork,action_pushLocal:this.props.action_pushLocal,action_setLocalNet:this.props.action_setLocalNet,action_push:this.props.action_push,action_setGlobAlert:this.props.action_setGlobAlert,success:u,fail:c})}}}]),SongItem}(h.default);v.propTypes={song:f.default.object,onPushSongSuccess:f.default.func,onPushSongFail:f.default.func},v.defaultProps={song:{}};var S=function(e,t){return{songs:e.app.songs,userInfo:e.app.user.userInfo,ottInfo:e.app.device.ottInfo,localNetIsWork:e.app.common.localNetIsWork}},E=function(e,t){return{action_push:(0,u.bindActionCreators)(d.push,e),action_pushLocal:(0,u.bindActionCreators)(d.pushLocal,e),action_setGlobAlert:(0,u.bindActionCreators)(b.setGlobAlert,e),action_setLocalNet:(0,u.bindActionCreators)(b.setLocalNet,e)}};t.default=(0,s.withRouter)((0,m.connect)(S,E)(v))},785:function(e,t,o){e.exports=o.p+"img/common/icon_vip.png?8c3ff5f6596510032abfa218fbedbd82"},795:function(e,t,o){e.exports=o.p+"img/common/bg_no_result.png?0e0d84b85deaafc6c825178837effa30"},827:function(e,t,o){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=o(0),r=_interopRequireDefault(n),a=o(23),i=_interopRequireDefault(a),l=o(20),s=_interopRequireDefault(l),u=function(e){return r.default.createElement(s.default,e,r.default.createElement("path",{d:"M10 20h4V4h-4v16zm-6 0h4v-8H4v8zM16 9v11h4V9h-4z"}))};u=(0,i.default)(u),u.displayName="AvEqualizer",u.muiName="SvgIcon",t.default=u}});